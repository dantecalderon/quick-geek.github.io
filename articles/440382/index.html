<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is 200 good or bad?</title>
  <meta name="description" content="In this three-minute article, I want to touch on the painful topic. 

 It's about the status of the HTTP 200 code and errors in the response. 



HTTP...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Is 200 good or bad?</h1><div class="post__text post__text-html js-mediator-article">  In this three-minute article, I want to touch on the painful topic. <br><br>  It's about the status of the HTTP 200 code and errors in the response. <br><br><pre><code class="plaintext hljs">HTTP/1.1 200 OK { "error": { code: 2019, message: "Validation failed: field 'size' is invalid: the value is not a number" } }</code> </pre> <br>  Is it normal to return such a code if an error occurred? <br><br>  Not?  Yes?  Well, let's see. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/274/5b1/44d/2745b144d6159502e0700f81c2175db2.gif" alt="whaaat" align="left"><h2>  Case 1. HTTP 200 and batch operation </h2><br>  Let's say one request is sent.  The request is successful.  We return the code 200. The answer does not contain information about the error.  With this case, everything is extremely simple and clear.  What to do if you need to perform a batch operation? <br><a name="habracut"></a><br><br>  For example, we work with an image server.  The provided API allows you to download multiple files in one request. <br><br>  The request looks like this: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"sources"</span></span>: [ {<span class="hljs-attr"><span class="hljs-attr">"image"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://myserver.com/image1.jpg"</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">"image"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://myserver.com/image2.jpg"</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">"video"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://myserver.com/video.jpg"</span></span>} ] }</code> </pre><br>  Suppose for some reason (for example, the place on the server ran out) the video could not be loaded.  What would you return in this case?  2xx or 4xx or 5xx?  The server responds something like this: <br><br><pre> <code class="plaintext hljs">HTTP/1.1 200 OK { "results": [ { "status": "ok", "id": 312 }, { "status": "ok", "id": 313 }, { "status": "fail", "error": "NO SPACE" } ] }</code> </pre><br>  Some services (and quite well-known) act as well.  200 answer. And in the answer they return a list of commands that could not be completed. <br><br><h2>  Case 2: HTTP 200 and errors in response </h2><br>  The request came.  Request zafeililsya.  For example, we forgot to specify some field.  Or the date was sent not in milliseconds, but as a string.  Then you definitely do not need to return 200!  But alas, no. <br><br>  Somewhere on the Internet, I met projects on github and bitbucket, which are specifically designed for such cases.  They are simply sewn options and patterns.  You can easily integrate them into your project and, as it were, be prepared for all sorts of "drops" of requests.  But there is one thing. <br><br>  At such times, your code gets ugly.  You tell him: <br><br>  - Listen, we have one external API here.  He is generally normal.  Just need to carefully look at what comes in response.  If there the answer contains the field "error", then the request is broken. <br>  - But for the same there are 4xx and 5xx!  Who does that at all ?! <br>  - Hush hush.  Don't be so loud.  He can hear.  Please be kinder to him.  And just look not only at the status code, but also at the answer, please. <br>  - Okay‚Ä¶ <br><br><h4>  HTTP 200 is just a status. </h4><br>  Well, 200 and 200. Well, not gash.  Or did not have time.  Or not at all.  So what?!  Posted by json parser and all! <br><br>  As if yes, but I want to know why.  Forgot?  Scored?  Did not make it?  Did not know? <br><br>  Maybe I'm missing something.  Or do not know.  I want your opinion.  Urgently  All good and weekend on weekends. </div><p>Source: <a href="https://habr.com/ru/post/440382/">https://habr.com/ru/post/440382/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
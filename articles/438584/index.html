<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Frontend for backend developer</title>
  <meta name="description" content="Just want to make a reservation that this article is not intended for those who have the development of the frontend main activity. This post is inten...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Frontend for backend developer</h1><div class="post__text post__text-html js-mediator-article">  Just want to make a reservation that this article is not intended for those who have the development of the frontend main activity.  This post is intended for backend developers who urgently need to fasten the web UI or those who are simply interested in new areas, as well as fullstack developers. <br><br>  So, we go to the problem.  The <a href="https://habr.com/ru/post/312022">article is</a> remembered, and also, in the open spaces of Habr there were some more similar.  They are all presented as jokes, but as they say, ‚Äúthere is some truth in every joke,‚Äù and here it‚Äôs not even a fraction ... But the question is, how useful are all these frameworks, are they necessary? <br><br>  A question that I would like to raise, mainly about the assembly.  It is at this stage that the js community offers an incredible number of tools, the need for which is not at all obvious.  For example, the community offers various options for working with modules, which made sense at one time, but at the moment the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">import</a> / <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">export</a> specification is supported by all modern browsers, and even <s>under</s> the edge browser.  Since we have previously mentioned that we have no reason to work with old libraries, consider the import / export specification.  What we really need is some kind of work with dependencies. <br><a name="habracut"></a><br>  I will make a small digression to explain the choice of technologies that will be used in the example for the frontend itself.  In order not to delve into the countless variety of frameworks, let's go on a remarkable <a href="https://spec.whatwg.org/">standard</a> .  So, everything becomes simple enough, there is no virtual DOM, there are web components.  This could be finished, but still js.  If we decide to get rid of <a href="https://www.ecma-international.org/ecma-262/8.0/">pure</a> js, then we will have to somehow solve infrastructure problems, get rid of the boiler codelet, etc.  In other words - to fence your bike ... To not do this, I would like to take something where everything has already been done and is of sufficient quality.  Accordingly, my choice fell on <a href="https://www.polymer-project.org/">Polymer</a> - a framework from Google, which pushed through web components to the standard. <br><br>  We return to the assembly.  Many of you (Java developers anyway) got used to such a tool as maven and gradle, and you probably found out that they do an excellent job with resource manipulations (for maven, this is a little worse, of course, but for gradle you don‚Äôt have any problems at all anything).  The frontend community offers us to take npm, for which nodeJs is needed, but this is not enough, the webpack is also on top.  And they still have to understand and put each developer.  Um ... I would like to just dump the repository, do the gradlew build and start working, so let's stop at the usual gradle. <br><br>  Of course, we won't be able to do without npm, at least, we need a repository from which to get the js library and npm it provides, but the utility is not required.  You can find some good solutions like <a href="https://github.com/srs/gradle-node-plugin">this</a> , but they always download nodeJs, and run npm tasks.  Option, but I would like to minimize communication with npm before interacting with the repository and only.  How the solution was to write your own plugin for gradle.  Although it is quite simple to write plugins for gradle, due to the wide variety of options for specifying versions for the npm repository, the task is somewhat more complicated.  The benefit of this is clear <a href="https://docs.npmjs.com/misc/semver">documentation</a> . <br><cut></cut><br>  So, let's write a gradle script to load dependencies.  Kotlin dsl is used for the reason that rewriting to groovy dsl is rather trivial, but on the contrary, you would have to spend time if there was no previous experience. <br><br><pre><code class="kotlin hljs">repositories { mavenLocal() jcenter() } dependencies { classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-npm-repository-plugin:0.0.3"</span></span>) } apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.npm"</span></span>) configure&lt;GradleNpmRepositoryExtension&gt; { output = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$projectDir</span></span></span><span class="hljs-string">/src/libs/"</span></span> dependencies = mapOf( Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/polymer"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.5"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/app-layout"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/paper-toolbar"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/paper-icon-button"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/iron-icons"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@webcomponents/webcomponentsjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.1.3"</span></span>) ) }</code> </pre> <br>  This <a href="https://github.com/artfable/gradle-npm-repository-plugin">plugin</a> will add us <i>npmLoad</i> .  To allow the IDE to group nicely, we define it into a group <br><br><pre> <code class="kotlin hljs">tasks[<span class="hljs-string"><span class="hljs-string">"npmLoad"</span></span>].group = <span class="hljs-string"><span class="hljs-string">"frontend"</span></span></code> </pre> <br>  Great, you can try writing code for our frontend.  The built-in Intellij server by default will tell you that <i>Method Not Allowed</i> to attempt to connect scripts via import.  To avoid this, check the <i>allow using requests</i> checkbox.  (in recent versions it works without it). <br><br><img src="https://habrastorage.org/webt/xq/pv/h5/xqpvh57s9uum5zynuqx_muf0rc4.png" alt="Settings (pic. 1)"><br><br>  Let's try to start now, and ... Anyway, nothing worked.  Fell dependencies inside the polymer components.  The fact is that many js libraries push imports with the expectation of some kind of transpiler like babel.  Such an import looks like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'@polymer/polymer/polymer-legacy.js'</span></span>;</code> </pre> <br>  Such syntax import is not correct, since for the browser the path must begin only with '/', './' or '../'.  In addition, in this form, it cannot be taken either as a relative or as an absolute, since here it is calculated at the beginning from the root of the library directory.  Consequently, such ways need to be corrected, well, in order not to do it ourselves - you can take the prepared <a href="https://github.com/artfable/gradle-js-import-fix-plugin">plug-in</a> . <br><br>  Depending <br><br><pre> <code class="kotlin hljs">classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-js-import-fix-plugin:0.0.1"</span></span>)</code> </pre><br><pre> <code class="kotlin hljs">apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.js.import.fix"</span></span>) configure&lt;GradleJsImportFixExtension&gt; { directory = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$projectDir</span></span></span><span class="hljs-string">/src/libs"</span></span> }</code> </pre><br>  Task <i>jsImportFix</i> will be <i>added</i> which will put all the imports in order. <br><cut></cut><br>  So simple, and without the need to deal with the mountain of new tools, you can assemble the front.  But let's look at the issue with styles.  Frankly, web components allow you to get rid of the boilerplate, and the variables in css, which are already in the standard, open up many possibilities, so there is no longer any need for such things as sass.  But suddenly, for example, you really liked <a href="https://getbootstrap.com/">bootstrap</a> and wanted to make a design based on it. <br><br>  Finding any plugin for building on this is not a problem, basically, they all take <a href="http://sass-lang.com/libsass">libsass</a> as the basis and there is a java wrapper on <a href="https://github.com/bit3/jsass">jsass</a> .  The only problem is for everyone (at least at the moment when I looked at them) in duplicating dependent files. <br><br>  Example: <br><br>  File a: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ‚Äúb‚Äù; @<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ‚Äúc‚Äù;</code> </pre><br>  Files _b and _c: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ‚Äúd‚Äù;</code> </pre> <br>  As a result, in the main file we get 2 identical blocks from the _c file.  You can easily fix it, if you add the <a href="https://jsass.readthedocs.io/en/latest/importers.html">importer</a> to jsass, api allows.  Actually, that's why I am again with my decision <a href="https://github.com/artfable/gradle-sass-plugin">here</a> (if there are no such requirements, then it is better to use another solution). <br><br>  Add to the list of npm dependencies <br><br><pre> <code class="kotlin hljs">Pair(<span class="hljs-string"><span class="hljs-string">"bootstrap"</span></span>, <span class="hljs-string"><span class="hljs-string">"4.1.3"</span></span>)</code> </pre> <br>  Plugin dependency <br><br><pre> <code class="kotlin hljs">classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-sass-plugin:0.0.1"</span></span>)</code> </pre> <br><pre> <code class="kotlin hljs">apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.sass"</span></span>) configure&lt;GradleLibsassPluginExtension&gt; { group(delegateClosureOf&lt;GradleLibsassPluginGroup&gt; { sourceDir = <span class="hljs-string"><span class="hljs-string">"src/sass"</span></span> outputDir = <span class="hljs-string"><span class="hljs-string">"src/css"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Closure&lt;Any&gt;) } tasks.create(<span class="hljs-string"><span class="hljs-string">"processResources"</span></span>)</code> </pre><br>  Fake task <i>processResources</i> will have to be created if the java-plugin is not connected (and we don‚Äôt need it here).  This is of course a flaw, then I will definitely fix it. <br><br>  Please note that the received css file should not be connected to the <i>head</i> , since then it will not be visible inside the component, but directly into the template of the component itself. <br><br>  The last step is to slightly modify the script to get the usual <i>build</i> directory, with a ready project that can be deployed to the prod. <br><br>  <a href="https://github.com/artfable/frontend-demo">The full code is</a> laid out on github (you will probably have to migrate to gitlab later ...). <br><br>  I hope the basic idea is clear, and then you can add quite simply absolutely anything.  Thanks for reading. </div><p>Source: <a href="https://habr.com/ru/post/438584/">https://habr.com/ru/post/438584/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Encryption of traffic in Direct Connect, Part 2</title>
  <meta name="description" content="- Who are you??? 
 - I am a new Russian. 
 - And then who am I? 

 Foreword 

 In the first part of the article, we built the ADCs hub and talked abou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Encryption of traffic in Direct Connect, Part 2</h1><div class="post__text post__text-html js-mediator-article">  <i>- Who are you???</i> <i><br></i>  <i>- I am a new Russian.</i> <i><br></i>  <i>- And then who am I?</i> <br><br>  <b>Foreword</b> <br><br>  In the <a href="https://habr.com/ru/post/438264/">first part of the</a> article, we built the <a href="https://dchublist.org/8268-Kin-dza-dza.html">ADCs hub</a> and talked about Direct Connect as a whole. <br><br>  Today we have to learn how to use such a hub for its intended purpose.  To do this, we‚Äôll talk about the features of compatible DC clients and make them friends with TLS. <a name="habracut"></a><br><br>  In the settings of each of them, you will need to pay attention to the <b>Encryption</b> section, also <b>known</b> as <b>Security &amp; certificates</b> or <b>Security</b> . <br><br><blockquote>  Needless to say, when using the active mode, the TCP port for TLS should also be forwarded. </blockquote><br>  <b>AirDC ++</b> <br><br>  The advanced heir of the legendary fulDC ++, the very first fashion of the original client.  Visible and adequate. <br><br><img src="https://habrastorage.org/webt/a5/s7/gn/a5s7gnprts7ehkezit1kx1o7_om.png"><br>  <i>AirDC ++ settings for working on ADCs hub</i> <br><br>  The key and certificate are generated when the client is first started (or on demand) and valid for 360 days. <br><br><img src="https://habrastorage.org/webt/km/p5/zy/kmp5zyfj632qzjkilbpbjy92wuk.png"><br><br>  Note that when connecting clients to each other, TLS can also be used on a normal ADC hub, but with an unpredictable result (see the previous part of the article). <br><br>  <b>And what for the client is <i>hub <u>with</u> trusted certificate</i> ?</b> <br><br>  As the tests showed, even if you feed the real hub, a certificate signed by the authorization center (or at least from Let's Encrypt), it will not be trusted for the client. <br><br><img src="https://habrastorage.org/webt/vm/kv/my/vmkvmyt5plnxjdzvelozmalas5m.png"><br>  <i>[S] = Secure, [U] = Untrusted</i> <br><br>  The criterion of trust for the ADCs of the hub is the coincidence of the certificate <a href="https://adc.sourceforge.io/ADC-EXT.html">fingerprint</a> obtained by the client itself with the explicitly indicated in the address of the hub. <br><br><blockquote>  *** Connecting to adcs: //babylon.aab21pro.org: 412 /? Kp = SHA256 / 1QTHF6U3SDQPQKCCGGZZYK4LQS322MIXI64GMAX7PXLGKYCYTJOQ ... <br>  *** TLS error: Keyprint mismatch <br>  *** The keyprint does not match the server certificate. </blockquote><br>  It is touching, but useless, because the keyprint will not be forever the same;  which means it is not suitable for mass use. <br><br>  A better way to get the coveted [S] is to save the hub certificate in a folder specifically designed for this (it usually coincides with the one in which the client stores its own "documents").  The certificate, of course, must be requested from the hub administrator. <br><br>  <b>What is <i>direct encrypted private message channels</i> ?</b> <br><br>  DC ++, AirDC ++ and, suddenly, <a href="https://play.google.com/store/apps/details%3Fid%3Dsharikdc.sharikdc%26hl%3Dru">SharikDC</a> can <a href="https://forum.dcbase.org/viewtopic.php%3Ft%3D724">send private messages to each other over a secure channel</a> , bypassing the hub.  Hello, Telegram! .. <br><br>  <b>DC ++</b> <br><br>  The original NMDC / ADC client, the most unassuming.  However, the safety of its developers <a href="https-and-keyp/">pay a</a> lot of attention. <br><br><img src="https://habrastorage.org/webt/sq/v6/wr/sqv6wrnbqbgii7jeouvwctthhke.png"><br>  <i>DC ++ settings for working on ADCs hub</i> <br><br>  <b>ApexDC ++</b> <br><br><img src="https://habrastorage.org/webt/vp/c-/xn/vpc-xnr8f7geenvh4t6i6akpld4.png"><br>  <i>ApexDC ++ settings for working on ADCs hub</i> <br><br>  The most tolerant.  It focuses on the security settings of the remote client - therefore, along with the secure ones, normal connections can also be skipped (for example, with unconfigured FlylinkDC ++). <br><br>  Anyway, this is the best option for hot-swappable, outdated StrongDC ++. <br><br>  <b>EiskaltDC ++</b> <br><br><img src="https://habrastorage.org/webt/lb/fy/hn/lbfyhncurogsnucfe2tsz-ypmfs.png"><br>  <i>EiskaltDC ++ settings for working on ADCs hub</i> <br><br>  <b>FlylinkDC ++</b> <br><br>  The most strict and most inadequate.  And the translation of options is not quite correct. <br><br><img src="https://habrastorage.org/webt/en/lt/cl/enltcljvvocivmvvf9xqxktahmg.png"><br>  <i>Settings FlylinkDC ++ to work on ADCs hub</i> <br><br>  Strict, because it requires all and all signed certificates <s>, which still can not verify</s> .  Inadequate, because by default it completely ignores secure connections and allows normal ones. <br><br><img src="https://habrastorage.org/webt/xn/fd/wv/xnfdwv9aidjgcoto8cztct8akeq.png"><br>  <i>AirDC ++ vs.</i>  <i>FlylinkDC ++</i> <br><br>  <b>Epilogue</b> <br><br>  If the connection is successfully established using TLS (for example, when downloading a filelist), the <b>Cipher</b> or <b>Cipher</b> column in the transmission window will be filled (in AirDC ++, otherwise, see below) <br><br><img src="https://habrastorage.org/webt/rn/1e/ti/rn1etiakni5tsoabkaivmjvxhwy.jpeg"><br><br>  As you can see, not without rough edges, but TLS in DC takes place and works;  There are plans to further develop this topic.  By the way!  On February <a href="https://www.dcbase.org/">10th of</a> this year, the first online meeting of the DC community this year will be held at 19:00 CET at the DCNF <a href="https://www.dcbase.org/">office</a> .  there will be a public discussion of <a href="https://forum.dcbase.org/viewtopic.php%3Ff%3D55%26t%3D1479">one new idea</a> ... Interesting?  Then go for a light! </div><p>Source: <a href="https://habr.com/ru/post/438922/">https://habr.com/ru/post/438922/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
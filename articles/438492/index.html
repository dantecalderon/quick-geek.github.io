<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Initialization in C ++ is really crazy. Better start with C</title>
  <meta name="description" content="Recently I was reminded why I consider it a bad idea to give C ++ to newbies. This is a bad idea , because in C ++ a real mess is a beautiful, though ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6974184241884155",
      enable_page_level_ads: true
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Initialization in C ++ is really crazy. Better start with C</h1><div class="post__text post__text-html js-mediator-article">  Recently <a href="http://ericniebler.com/2018/12/05/standard-ranges/">I was</a> <a href="https://twitter.com/aras_p/status/1076947443823136768">reminded</a> why I <a href="http://aras-p.info/blog/2018/12/28/Modern-C-Lamentations/">consider it a</a> <a href="https://sean-parent.stlab.cc/2018/12/30/cpp-ruminations.html">bad idea</a> to give C ++ to newbies.  This is a <a href="http://www.elbeno.com/blog/%3Fp%3D1598">bad</a> <a href="https://medium.com/%40pat_wilson/get-your-shit-together-6ccbfd6bb755">idea</a> , because in C ++ a real mess is a beautiful, though perverse, tragic and amazing mess.  Despite the current state of the community, this article is not directed against <i>modern</i> C ++.  Rather, it partially continues the <a href="https://blog.tartanllama.xyz/">article</a> <a href="https://blog.tartanllama.xyz/initialization-is-bonkers/">‚ÄúInitialization in C ++ is insane‚Äù by</a> Simon Brand, and in part it is a message to every student who wants to start his education looking into the abyss. <br><br>  Typical objections from students when they are told about studying C: <br><br><ul><li>  ‚ÄúSomeone else uses it?‚Äù <br></li><li>  "This is stupid" <br></li><li>  "Why do we study C?" <br></li><li>  ‚ÄúWe have to learn something better, for example, C ++‚Äù ( <b>laughter</b> ) </li></ul><a name="habracut"></a><br>  It seems that many students think that learning C doesn‚Äôt matter much (from the author: it‚Äôs not), and instead you should start with C ++.  Let's look at just one of the reasons why this is an absurd proposition: <b>creating a fucking variable</b> .  In the original article, Simon Brand suggested that the reader is already familiar with the weirdness of initialization in versions prior to C ++ 11.  We will look at some of them here and go a little further. <br><br>  Let me first explain that in this article my personal opinion, and <b>not the</b> official position of the University of Drexel, where I teach at the Department of Electrical Engineering and Computer Engineering.  My lectures are usually included in the course of the engineering program, rather than computer science, that is, they relate more to system programming and embedded systems. <br><br><h1>  Summary in one gifka </h1><br>  <a href="https://www.reddit.com/r/cpp/comments/ad07zw/initialization_in_c_is_seriously_bonkers/edcjuxi/">u / AlexAlabuzhev on Reddit</a> managed to retell the whole article in one gif.  (I think this is the original work of <a href="https://mobile.twitter.com/timur_audio/status/1004017362381795329">Timur Dumler</a> ) <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  I have nothing against C ++, but there is a lot that you don‚Äôt need at an early stage. <br><br>  That's all.  Go home.  Walk the dog.  Wash your laundry.  Call your mom and tell me you love her.  Try a new recipe.  There is nothing to read, guys.  In fact, think about how badly the engineers (that is, me) know how to communicate their thoughts ... <br><br>  Everything, I persuaded as I could! <br><br>  So are you still here?  This soldier.  If I could, I would give you a medal!  And tasty chocolate milk! <br><br>  <b>Now back to our usual ... programming.</b> <br><br><h1>  Initialization in C </h1><br><h3>  Introduction </h3><br>  First, consider <a href="https://en.cppreference.com/w/c/language/initialization">initialization in C</a> , because it is similar to C ++ for compatibility reasons.  It will be pretty quick, because C is so boring and simple ( <i>ahem</i> ).  Every newcomer learns this initialization by heart, because in C it works differently than in many new statically typed languages.  There is either a default initialization for acceptable values ‚Äã‚Äãor a compilation error. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
    <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, i);
}</code></pre><br>
–õ—é–±–æ–π –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –Ω–∞ C –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç <code>i</code> –∫–∞–∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–ª—è –≤—Å–µ—Ö –Ω–∞–º–µ—Ä–µ–Ω–∏–π –∏ —Ü–µ–ª–µ–π <code>i</code> –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞). –û–±—ã—á–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>int i = 0</code>;, –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ <s>–ø–æ–≤—Ç–æ—Ä—è—Ç—å, –∫—Ä–∏—á–∞—Ç—å, –æ—Ä–∞—Ç—å</s> –º—è–≥–∫–æ –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞–º –æ–± —ç—Ç–æ–º, –æ—Å—Ç–∞—é—Ç—Å—è —Ç–µ, –∫—Ç–æ —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ <code>0</code>.<br>
<br>
–û—Ç–ª–∏—á–Ω–æ, –ø–æ–ø—Ä–æ–±—É–µ–º –µ—â—ë –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä.<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, i);
}</code></pre><br>
–û—á–µ–≤–∏–¥–Ω–æ, —ç—Ç–æ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ? –ú—ã –ø–æ–Ω—è—Ç–∏—è –Ω–µ –∏–º–µ–µ–º –æ –∑–Ω–∞—á–µ–Ω–∏–∏ <code>i</code>&nbsp;‚Äî –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π.<br>
<br>
–ù–µ—Ç.<br>
<br>
–ü–æ—Å–∫–æ–ª—å–∫—É —É –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –µ—Å—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è, –æ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –±–µ–∑–∑–Ω–∞–∫–æ–≤—ã–π –Ω–æ–ª—å. –í—ã —Å–ø—Ä–æ—Å–∏—Ç–µ, –ø–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫ —Å–∫–∞–∑–∞–Ω–æ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —É —Ç–∏–ø–æ–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —è –¥–∞–∂–µ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Å—å —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ.<br>
<br>
–û–∫–µ–π, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">;</span></span>
    <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, a.i);
}</code></pre><br>
–¢–æ –∂–µ —Å–∞–º–æ–µ. <code>a</code> –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –ú—ã —É–≤–∏–¥–∏–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.<br>
<br>
<pre><code class="bash hljs">$ gcc -Wuninitalized a.c
a.c: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòmain‚Äô:
a.c:9:5: warning: ‚Äòa.i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%d\n"</span></span>, a.i);</code></pre><br>
–í C –º–æ–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä: 1)&nbsp;—Å –ø–æ–º–æ—â—å—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, 2)&nbsp;–≤–æ –≤—Ä–µ–º—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–ª–∏ 3)&nbsp;–ø—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–µ–∫–æ–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> default_A = {<span class="hljs-number"><span class="hljs-number">0</span></span>};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init_A</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct A *ptr)</span></span></span><span class="hljs-function"> </span></span>{
    ptr-&gt;i = <span class="hljs-number"><span class="hljs-number">0</span></span>;
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-comment"><span class="hljs-comment">/* helper function */</span></span>
    <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a1</span></span></span><span class="hljs-class">;</span></span>
    init_A(&amp;a1);

    <span class="hljs-comment"><span class="hljs-comment">/* during definition;
     * Initialize each member, in order. 
     * Any other uninitialized members are implicitly
     * initialized as if they had static storage duration. */</span></span>
    <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a2</span></span></span><span class="hljs-class"> = {</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>};

    <span class="hljs-comment"><span class="hljs-comment">/* Error! (Well, technically) Initializer lists are 'non-empty' */</span></span>
    <span class="hljs-comment"><span class="hljs-comment">/* struct A a3 = {}; */</span></span>

    <span class="hljs-comment"><span class="hljs-comment">/* ...or use designated initializers if C99 or later */</span></span>
    <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a4</span></span></span><span class="hljs-class"> = {</span></span>.i = <span class="hljs-number"><span class="hljs-number">0</span></span>};

    <span class="hljs-comment"><span class="hljs-comment">/* default value */</span></span>
    <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a5</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">default_A</span></span></span><span class="hljs-class">;</span></span>
}</code></pre><br>
–≠—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ–± –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ C, –∏ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ö–∏—Ç—Ä—ã—Ö –æ—à–∏–±–æ–∫ –≤–æ –º–Ω–æ–≥–∏—Ö —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –ò —É–∂ —Ç–æ—á–Ω–æ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ—è–≤—è—Ç—Å—è, –µ—Å–ª–∏ —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å—ë –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ <code>0</code>.<br>
<br>
<h1>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ C++</h1><br>
<h3>–ê–∫—Ç 1. –ù–∞—à –≥–µ—Ä–æ–π –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—É—Ç—å</h3><br>
–ï—Å–ª–∏ –≤–∞–º –Ω–µ —Ç–µ—Ä–ø–∏—Ç—Å—è —É–∑–Ω–∞—Ç—å –≤—Å–µ <s>—É–∂–∞—Å—ã</s> —á—É–¥–µ—Å–∞ C++, —Å–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∏—Ç–µ —Å–ø–æ—Å–æ–±—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –ó–¥–µ—Å—å —Ç–∞–∫–æ–µ –∂–µ <i>–ø–æ–≤–µ–¥–µ–Ω–∏–µ</i>, –∫–∞–∫ –≤ C –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–¥–∞, –Ω–æ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏ –≤ <i>–ø—Ä–∞–≤–∏–ª–∞—Ö</i> —ç—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è. –í —Ç–µ–∫—Å—Ç–µ —è –±—É–¥—É –≤—ã–¥–µ–ª—è—Ç—å <i>–∫—É—Ä—Å–∏–≤–æ–º</i> —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –∂–∞—Ä–≥–æ–Ω C++, —á—Ç–æ–±—ã –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —Ç–µ –º–æ–º–µ–Ω—Ç—ã, –≥–¥–µ —è –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ –Ω–∞–∑—ã–≤–∞—é –≤–µ—â–∏, –∞ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö‚Ä¶ <i>–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</i>‚Ä¶ –≤ C++ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å C. –ù–∞—á–Ω—ë–º —Å –ø—Ä–æ—Å—Ç–æ–≥–æ:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a;
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
–ó–¥–µ—Å—å —É –° –∏ C++ –ø–æ—á—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –í C –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ <code>A</code>, –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º. –í C++ <code>a</code> <i><a href="https://en.cppreference.com/w/cpp/language/default_initialization">–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</a></i>, —Ç–æ –µ—Å—Ç—å –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <i><a href="https://en.cppreference.com/w/cpp/language/default_constructor">–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</a></i>. –ü–æ—Å–∫–æ–ª—å–∫—É <code>A</code> –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞, —É –Ω–µ—ë <i>–Ω–µ—è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</i>, –∫–æ—Ç–æ—Ä—ã–π –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç. –ù–µ—è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ¬´–∏–º–µ–µ—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ —ç—Ñ—Ñ–µ–∫—Ç¬ª, –∫–∞–∫:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A(){}
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
}</code></pre><br>
–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ <code>g++ 8.2.1</code> –≤—ã–¥–∞–≤–∞–ª —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –∞ <code>clang++ 7.0.1</code> –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–¥–∞–≤–∞–ª (—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º <code>-Wuninitialized</code>). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤.<br>
<br>
<pre><code class="bash hljs">$ g++ -Wuninitalized -O2 a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:9:20: warning: ‚Äòa.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; a.i &lt;&lt; std::endl;</code></pre><br>
–ü–æ —Å—É—Ç–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–≥–æ –º—ã –æ–∂–∏–¥–∞–µ–º –æ—Ç C. –¢–∞–∫ –∫–∞–∫ –∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å <code>A::i</code>?<br>
<br>
<h3>–ê–∫—Ç 2. –ù–∞—à –≥–µ—Ä–æ–π —Å–ø–æ—Ç—ã–∫–∞–µ—Ç—Å—è</h3><br>
–ù–∞–≤–µ—Ä–Ω–æ–µ, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ –∂–µ —Å–ø–æ—Å–æ–±—ã, —á—Ç–æ –∏ –≤ –°? –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, C++ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –°, –≤–µ—Ä–Ω–æ? (<i>–∫—Ö–º</i>)<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a = {.i = <span class="hljs-number"><span class="hljs-number">0</span></span>};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -Wuninitialized -O2 -pedantic-errors a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:9:12: error: C++ designated initializers only available with -std=c++2a or -std=gnu++2a [-Wpedantic]
     A a = {.i = 0};</code></pre><br>
–í–æ—Ç –≤–∞–º –∏ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏. –Ø–≤–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ C++ –¥–æ C++20. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç C++, –∫–æ—Ç–æ—Ä—ã–π –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫ –≤—ã—Ö–æ–¥—É –≤ 2020 –≥–æ–¥—É. –î–∞, –≤ C++ —Ñ—É–Ω–∫—Ü–∏—é —Ä–µ–∞–ª–∏–∑—É—é—Ç —á–µ—Ä–µ–∑ 21 –≥–æ–¥ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∞ –ø–æ—è–≤–∏–ª–∞—Å—å C. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —è –¥–æ–±–∞–≤–∏–ª <code>-pedantic-errors</code> –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π gcc.<br>
<br>
–ß—Ç–æ –Ω–∞—Å—á—ë—Ç —Ç–∞–∫–æ–≥–æ?<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a = {<span class="hljs-number"><span class="hljs-number">0</span></span>};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -Wuninitialized -O2 -pedantic-errors a.cpp
$</code></pre><br>
–ù—É —Ö–æ—Ç—å —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å <code>A a = {};</code> —Å —Ç–µ–º –∂–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–º, —á—Ç–æ –∏ –Ω—É–ª–µ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è <code>a.i</code>. –≠—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ <code>A</code> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π <a href="https://en.cppreference.com/w/cpp/language/aggregate_initialization">–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø</a>. –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?<br>
<br>
<b>–î–æ C++11</b> –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø (–ø–æ —Å—É—Ç–∏) —è–≤–ª—è–µ—Ç—Å—è –ª–∏–±–æ –ø—Ä–æ—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º –≤ —Å—Ç–∏–ª–µ C, –ª–∏–±–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ C. –ù–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–æ—Å—Ç—É–ø–∞, –Ω–∏ –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤, –Ω–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø –ø–æ–ª—É—á–∞–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é. –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?<br>
<br>
<ol>
<li>–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ –ø–æ—Ä—è–¥–∫—É.</li>
<li>–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –±–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—É—á–∏—Ç <a href="https://en.cppreference.com/w/cpp/language/value_initialization">–∑–Ω–∞—á–µ–Ω–∏–µ ¬´–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ¬ª</a>.</li>
</ol><br>
–û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç? –ï—Å–ª–∏ —É –æ–±—ä–µ–∫—Ç–∞ –¥—Ä—É–≥–æ–π —Ç–∏–ø –∫–ª–∞—Å—Å–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω —ç—Ç–æ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º –∫–ª–∞—Å—Å–∞ –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∫–∞–∫ <code>A</code>, –æ–Ω –±—É–¥–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º. –ï—Å–ª–∏ —É –Ω–∞—Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–∞–∫ <code>int i</code>, —Ç–æ –æ–Ω <a href="https://en.cppreference.com/w/cpp/language/zero_initialization">–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω—É–ª—ë–º</a>.<br>
<br>
–£—Ä—Ä—Ä—Ä—Ä—Ä—Ä–∞–∞–∞! –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –Ω–æ–ª—å! –£—Ö —Ç—ã.<br>
<br>
<b>–ü–æ—Å–ª–µ C++11</b> —Å–∏—Ç—É–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç –∏–Ω–∞—á–µ‚Ä¶ –≤–µ—Ä–Ω—ë–º—Å—è –∫ —ç—Ç–æ–º—É –ø–æ–∑–∂–µ.<br>
<br>
–¢—Ä—É–¥–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –∏ –∑–∞–ø—É—Ç–∞–Ω–æ? –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —É –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ C++ —Å–≤–æ–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª. <i><b>–¢–∞–∫ –∏ –µ—Å—Ç—å. –≠—Ç–æ —á–µ—Ä—Ç–æ–≤—Å–∫–∏ –∑–∞–ø—É—Ç–∞–Ω–æ –∏ –Ω–∏–∫–æ–º—É –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è</b></i>. –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–±—ã—á–Ω–æ –¥–µ–π—Å—Ç–≤—É—é—Ç, –ø–æ—ç—Ç–æ–º—É –æ–±—ã—á–Ω–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –±—É–¥—Ç–æ –≤—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞–∫ –Ω–æ–ª—å. –ù–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ª—É—á—à–µ —è–≤–Ω–æ –≤—Å—ë –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –Ø –Ω–µ –ø—Ä–∏–¥–∏—Ä–∞—é—Å—å –∫ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –º–Ω–µ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ–±–∏—Ä–∞—Ç—å—Å—è —Å–∫–≤–æ–∑—å –¥–µ–±—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ —É–∑–Ω–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.<br>
<br>
<h3>–ê–∫—Ç 3. –ì–µ—Ä–æ–π –∑–∞–±—Ä—ë–ª –≤ –ø–µ—â–µ—Ä—É</h3><br>
–ß—Ç–æ –∂, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º <code>–ê</code> –º–µ—Ç–æ–¥–æ–º C++ —Å <b>–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏</b> (<i>—Ç–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞</i>)! –ú–æ–∂–µ–º –Ω–∞–∑–Ω–∞—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—É <code>i</code> –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ <code>–ê</code> –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ <i>–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º</i> –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A() : i(<span class="hljs-number"><span class="hljs-number">0</span></span>) {}
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};</code></pre><br>
–≠—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç <code>i</code> –≤ <i><a href="https://en.cppreference.com/w/cpp/language/initializer_list">—Å–ø–∏—Å–∫–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ —á–ª–µ–Ω–æ–≤</a></i>. –ë–æ–ª–µ–µ –≥—Ä—è–∑–Ω—ã–π —Å–ø–æ—Å–æ–±&nbsp;‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–ª–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A() { i = <span class="hljs-number"><span class="hljs-number">0</span></span>; }
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};</code></pre><br>
–ü–æ—Å–∫–æ–ª—å–∫—É —Ç–µ–ª–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —á—Ç–æ —É–≥–æ–¥–Ω–æ, –ª—É—á—à–µ –≤—ã–¥–µ–ª–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ —á–ª–µ–Ω–æ–≤ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —á–∞—Å—Ç—å —Ç–µ–ª–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞).<br>
<br>
<blockquote>–í C++11 –∏ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href="https://en.cppreference.com/w/cpp/language/data_members">–¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —á–ª–µ–Ω–æ–≤</a> (—Å–µ—Ä—å—ë–∑–Ω–æ, –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö).<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// default member initializer, available in C++11 and later</span></span>
};</code></pre></blockquote><br>
–û–∫–µ–π, —Ç–µ–ø–µ—Ä—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ <code>i</code> —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ 0, –∫–æ–≥–¥–∞ –ª—é–±–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ <code>A</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ù–∞–∫–æ–Ω–µ—Ü, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º A –∑–∞–¥–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <code>i</code>, –º–æ–∂–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞—Ç—å –¥—Ä—É–≥–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ò–ª–∏ —Å–º–µ—à–∞—Ç—å –∏—Ö –≤–º–µ—Å—Ç–µ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>) : i(i) {}
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a1;
    <span class="hljs-function"><span class="hljs-function">A </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;

    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a1.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a2.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -pedantic-errors -Wuninitialized -O2 a.cpp
$ ./a.out
0 1</code></pre><br>
<blockquote>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ. –ù–µ–ª—å–∑—è –Ω–∞–ø–∏—Å–∞—Ç—å <code>A a();</code> –¥–ª—è –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω—è—Ç –∫–∞–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∏–º–µ–Ω–µ–º <code>a</code>, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç <code>A</code>. –ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ –∫—Ç–æ-—Ç–æ –∫–æ–≥–¥–∞-—Ç–æ –¥–∞–≤–Ω–æ —Ö–æ—Ç–µ–ª —Ä–∞–∑—Ä–µ—à–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –≤ –±–ª–æ–∫–∞—Ö —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –∏ —Ç–µ–ø–µ—Ä—å –º—ã —Å —ç—Ç–∏–º –∑–∞—Å—Ç—Ä—è–ª–∏.</blockquote><br>
–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç –∏ –≤—Å—ë. –ú–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Ç–æ–ª—á–æ–∫ –∏ –≥–æ—Ç–æ–≤—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤ –º–∏—Ä–µ C++, —Ä–∞–∑–¥–æ–±—ã–≤ –ø–æ–ª–µ–∑–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—ã–∂–∏–≤–∞–Ω–∏—é —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—Å—è –∏ –∏–¥—ë–º –¥–∞–ª—å—à–µ!<br>
<br>
<h3>–ê–∫—Ç 4. –ì–µ—Ä–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ–º–Ω–æ—Ç—É</h3><br>
–ú—ã <i>–º–æ–≥–ª–∏</i> –±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è. –ù–æ, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <i>—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ</i> –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ <i>—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ</i> C++, —Ç–æ –¥–æ–ª–∂–Ω—ã —É–≥–ª—É–±–∏—Ç—å—Å—è –¥–∞–ª—å—à–µ. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º–æ—è –≤–µ—Ä—Å–∏—è g++ (8.2.1), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <code>gnu++1y</code>, —á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ C++14 —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ GNU. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, —ç—Ç–∞ –≤–µ—Ä—Å–∏—è g++ —Ç–∞–∫–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç C++17. ¬´–†–∞–∑–≤–µ —ç—Ç–æ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ?¬ª ‚Äî –º–æ–∂–µ—Ç–µ –≤—ã —Å–ø—Ä–æ—Å–∏—Ç—å. –ü–∞—Ä–µ–Ω—å, –Ω–∞–¥–µ–≤–∞–π —Å–≤–æ–∏ —Ä—ã–±–æ–ª–æ–≤–Ω—ã–µ —Å–∞–ø–æ–≥–∏ –∏ —Å–ª–µ–¥—É–π –∑–∞ –º–Ω–æ–π –≤ —Å–∞–º—É—é –≥—É—â—É.<br>
<br>
–í–æ –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö, –≤–∫–ª—é—á–∞—è C++11, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç—Ç–æ—Ç –Ω–æ–≤–æ–º–æ–¥–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <i><a href="https://en.cppreference.com/w/cpp/language/list_initialization">—Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</a></i>. –ß—É–≤—Å—Ç–≤—É–µ—Ç–µ, –∫–∞–∫ —Ö–æ–ª–æ–¥–æ–∫ –ø—Ä–æ–±–µ–∂–∞–ª –ø–æ —Å–ø–∏–Ω–µ? –≠—Ç–æ —Ç–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <i>–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π</i>. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Å–∫–∏—Ö –ø—Ä–∏—á–∏–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: —Å–º. <a href="https://isocpp.org/wiki/faq/cpp11-language-misc">–∑–¥–µ—Å—å</a> –∏ <a href="https://isocpp.org/wiki/faq/cpp11-language">–∑–¥–µ—Å—å</a>. –û–¥–Ω–∞ –∑–∞–±–∞–≤–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑ FAQ:<br>
<br>
<blockquote><i>–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è C++11 –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–±—Å–æ–ª—é—Ç–Ω–æ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π, –Ω–æ —ç—Ç–æ –ø–æ—á—Ç–∏ —Ç–∞–∫.</i></blockquote><br>
–°–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å —Ñ–∏–≥—É—Ä–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏ (<code>{thing1, thing2, ...}</code>, —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <i>braced-init-list</i>) –∏ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; </span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a1;      <span class="hljs-comment"><span class="hljs-comment">// default initialization -- as before</span></span>
    A a2{};    <span class="hljs-comment"><span class="hljs-comment">// direct-list-initialization with empty list</span></span>
    A a3 = {}; <span class="hljs-comment"><span class="hljs-comment">// copy-list-initialization with empty list</span></span>
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a1.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a2.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a3.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:9:26: warning: ‚Äòa1.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; a1.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a2.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a3.i ¬´ std::endl;</code></pre><br>
–≠–π, —ç–π, –≤—ã —ç—Ç–æ –∑–∞–º–µ—Ç–∏–ª–∏? –û—Å—Ç–∞–ª—Å—è –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–æ–ª—å–∫–æ <code>a1.i</code>. –û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω–∞—á–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.<br>
<br>
<code>A a{};</code> –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ç–æ –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, —á—Ç–æ –∏ <code>A a = {};</code>. –í –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö <code>a</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º braced-init-list. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, <code>A a = {};</code> –±–æ–ª—å—à–µ –Ω–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π&nbsp;‚Äî —Ç–µ–ø–µ—Ä—å —ç—Ç–æ <i>copy-list-initialization</i> (<i>–≤–∑–¥—ã—Ö–∞–µ—Ç</i>). –ú—ã —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª–∏, —á—Ç–æ <code>A a;</code> —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —Å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.<br>
<br>
–í —Å—Ç—Ä–æ–∫–∞—Ö 7/8 –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ (–ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —ç—Ç–æ <b>–ø–æ—Å–ª–µ C++11</b>):<br>
<br>
<ol>
<li>–°–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è <code>A</code> –ø—Ä–∏–≤–æ–¥–∏—Ç –∫–æ –≤—Ç–æ—Ä–æ–º—É –ø—É–Ω–∫—Ç—É.<br>
</li>
<li>–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç <i>–∞–≥—Ä–µ–≥–∞—Ç–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</i>, –ø–æ—Å–∫–æ–ª—å–∫—É A —è–≤–ª—è–µ—Ç—Å—è <i>–∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–º —Ç–∏–ø–æ–º</i>.<br>
</li>
<li>–ü–æ—Å–∫–æ–ª—å–∫—É —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –≤—Å–µ —á–ª–µ–Ω—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏.<br>
<ol>
<li><i>int i{}</i> –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è <code>i</code>, —Ä–∞–≤–Ω–æ–≥–æ 0.</li>
</ol></li>
</ol><br>
–ê –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç?<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a1{<span class="hljs-number"><span class="hljs-number">0</span></span>}; 
    A a2{{}};
    A a3{a1};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a1.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a2.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; a3.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
$</code></pre><br>
<code>a1.i</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ 0, <code>a2.i</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º, –∞ <code>a3</code>&nbsp;‚Äî –∫–æ–ø–∏—è, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∏–∑ <code>a1</code>. –í—ã –≤–µ–¥—å –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏–π, <i>–≤–µ—Ä–Ω–æ</i>? –¢–æ–≥–¥–∞ –≤—ã –∑–Ω–∞–µ—Ç–µ —Ç–∞–∫–∂–µ –æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, —Å—Å—ã–ª–∫–∞—Ö rvalue, –∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö —Å—Å—ã–ª–∫–∞—Ö, pr-–∑–Ω–∞—á–µ–Ω–∏—è—Ö, x-–∑–Ω–∞—á–µ–Ω–∏—è—Ö, gl-–∑–Ω–∞—á–µ‚Ä¶ –ª–∞–¥–Ω–æ, –Ω–µ–≤–∞–∂–Ω–æ.<br>
<br>
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤ –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ —Å C++11 –∑–Ω–∞—á–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–∞ –∏–∑–º–µ–Ω—è–ª–æ—Å—å, —Ö–æ—Ç—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–æ —Å–∏—Ö –ø–æ—Ä –º–µ–∂–¥—É –∞–≥—Ä–µ–≥–∞—Ç–∞–º–∏ C++17 –∏ C++20 –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π —Ä–∞–∑–Ω–∏—Ü—ã. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ C++, —á—Ç–æ-—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–ª–∏ –Ω–µ –±—ã—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–æ–º. –¢—Ä–µ–Ω–¥ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ª–∏–±–µ—Ä–∞–ª–∏–∑–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—É–±–ª–∏—á–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –≤ –∞–≥—Ä–µ–≥–∞—Ç–∞—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –Ω–∞—á–∏–Ω–∞—è —Å C++17, —á—Ç–æ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤. –í—Å—ë –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ!<br>
<br>
–ö–∞–∫ —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ? –ù–µ–º–Ω–æ–≥–æ –≤–æ–¥–∏—á–∫–∏? –°–∂–∏–º–∞—é—Ç—Å—è –∫—É–ª–∞–∫–∏? –ú–æ–∂–µ—Ç, —Å–¥–µ–ª–∞–µ–º –ø–µ—Ä–µ—Ä—ã–≤, –≤—ã–π–¥–µ–º –Ω–∞ —É–ª–∏—Ü—É?<br>
<br>
<h3>–ê–∫—Ç 5. –ü—Ä–æ—â–∞–π, –∑–¥—Ä–∞–≤—ã–π —Å–º—ã—Å–ª</h3><br>
–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ <code>A</code> –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–º —Ç–∏–ø–æ–º?<br>
<br>
–í–∫—Ä–∞—Ç—Ü–µ, —á—Ç–æ —Ç–∞–∫–æ–µ –∞–≥—Ä–µ–≥–∞—Ç:<br>
<br>
<ul>
<li>–º–∞—Å—Å–∏–≤ –∏–ª–∏<br>
</li>
<li>—Å—Ç—Ä—É–∫—Ç—É—Ä–∞/–∫–ª–∞—Å—Å/–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, –≥–¥–µ<br>
<ul>
<li>–Ω–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö/–∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —á–ª–µ–Ω–æ–≤<br>
</li>
<li>–Ω–µ—Ç –∑–∞—è–≤–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤<br>
</li>
<li>–Ω–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π<br>
</li>
<li>–Ω–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ —á–ª–µ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≤ C++11, –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏–π –±–µ–∑ —Ä–∞–∑–Ω–∏—Ü—ã)<br>
</li>
<li>–Ω–µ—Ç –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–ø—É–±–ª–∏—á–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤ C++17)<br>
</li>
<li>–Ω–µ—Ç —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ (<code>using Base::Base;</code>, –≤ C++17)</li>
</ul></li>
</ul><br>
–¢–∞–∫ —á—Ç–æ –Ω–µ–∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–∏–º:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A(){};
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a{};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:8:20: warning: ‚Äòa.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; a.i &lt;&lt; std::endl;</code></pre><br>
–ó–¥–µ—Å—å —É <code>A</code> –µ—Å—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–æ—ç—Ç–æ–º—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω–∞—á–µ.<br>
<br>
–í —Å—Ç—Ä–æ–∫–µ 7 –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:<br>
<br>
<ol>
<li>–°–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è <code>A</code> –ø—Ä–∏–≤–æ–¥–∏—Ç –∫–æ –≤—Ç–æ—Ä–æ–º—É –ø—É–Ω–∫—Ç—É.</li>
<li>–ù–µ-–∞–≥—Ä–µ–≥–∞—Ç —Å –ø—É—Å—Ç—ã–º braced-init-list –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∑–Ω–∞—á–µ–Ω–∏—è, –∏–¥—ë–º –∫ —Ç—Ä–µ—Ç—å–µ–º—É –ø—É–Ω–∫—Ç—É.</li>
<li>–ù–∞–π–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Ç–∞–∫ —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ, <code>a.i</code> –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è.</li>
</ol><br>
<blockquote>–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º?<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A() = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;
};</code></pre><br>
–≠—Ç–æ <i>–Ω–µ</i> –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –≠—Ç–æ –∫–∞–∫ –µ—Å–ª–∏ –≤–æ–æ—â–µ –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–æ –Ω–∏–∫–∞–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∞ <code>A</code> —è–≤–ª—è–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–æ–º.<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A();
};
A::A() = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;</code></pre><br>
<i>–í–æ—Ç —ç—Ç–æ</i> –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –≠—Ç–æ —Å–ª–æ–≤–Ω–æ –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ <code>A(){}</code> –≤ —Ç–µ–ª–µ, –≥–¥–µ <code>–ê</code> –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–æ–º.<br>
<br>
–ò —É–≥–∞–¥–∞–π—Ç–µ —á—Ç–æ? –í C++20 —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å: —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã —É –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –Ω–µ –±—ã–ª–æ <i>–æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö</i> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ :). –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ? –Ø –Ω–µ —É–≤–µ—Ä–µ–Ω! –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏–º.</blockquote><br>
–ö–∞–∫ –Ω–∞—Å—á–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">friend</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a{};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<code>A</code> ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –∞ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ—ç—Ç–æ–º—É <code>i</code> –±—É–¥–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–º, –∏ –Ω–∞–º –ø—Ä–∏—à–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <code>main</code> –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç <code>–ê</code> –Ω–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–º. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±—ã—á–Ω—ã–π —Ç–∏–ø –∫–ª–∞—Å—Å–∞. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ <code>a.i</code> –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –≤–µ—Ä–Ω–æ?<br>
<br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
$</code></pre><br>
–ß—ë—Ä—Ç –ø–æ–±–µ—Ä–∏. –ò —ç—Ç–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º—ã –≤—Ä–æ–¥–µ –Ω–∞—á–∞–ª–∏ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å–æ –≤—Å–µ–º —ç—Ç–∏–º. –û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, <code>a.i</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ 0, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∞–≥—Ä–µ–≥–∞—Ç–∞:<br>
<br>
<ol>
<li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –¥–ª—è A, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 2.</li>
<li>–ù–µ–∞–≥—Ä–µ–≥–∞—Ç, —Ç–∏–ø –∫–ª–∞—Å—Å–∞ —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ braced-init-list –≤—ã–∑—ã–≤–∞—é—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∑–Ω–∞—á–µ–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 3.</li>
<li>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ—ç—Ç–æ–º—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç –∫–∞–∫ –Ω–æ–ª—å, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 4.</li>
<li>–í—ã–∑–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ—è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Ç—Ä–∏–≤–∏–∞–ª–µ–Ω (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —É—Å–ª–æ–≤–∏–µ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç).</li>
</ol><br>
–ß—Ç–æ –µ—Å–ª–∏ –º—ã –ø–æ–ø—Ä–æ–±—É–µ–º –∞–≥—Ä–µ–≥–∞—Ç–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">friend</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a = {<span class="hljs-number"><span class="hljs-number">1</span></span>};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:7:13: error: could not convert ‚Äò{1}‚Äô from ‚Äò&lt;brace-enclosed initializer list&gt;‚Äô to ‚ÄòA‚Äô
     A a = {1};</code></pre><br>
<code>A</code> –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–æ–º, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:<br>
<br>
<ol>
<li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –¥–ª—è A, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 2.<br>
</li>
<li>–ü–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.<br>
</li>
<li>–ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å <code>1</code> –≤ <code>A</code>, –∫–æ–º–ø–∏–ª—è—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π.</li>
</ol><br>
–í –∫–∞—á–µ—Å—Ç–≤–µ –±–æ–Ω—É—Å–∞ –æ–∑–æ—Ä–Ω–æ–π –ø—Ä–∏–º–µ—Ä—á–∏–∫:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i) : i(i) {}
    A() = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a{};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
–ó–¥–µ—Å—å –Ω–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ, –Ω–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–∞–∫ –≤ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—Ä–∏–º–µ—Ä–µ: —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, A –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–æ–º. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω—É–ª–µ–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, <i>–≤–µ—Ä–Ω–æ</i>?<br>
<br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
$</code></pre><br>
<i>–ù–µ—Ç</i>! –†–∞–∑–±–µ—Ä—ë–º—Å—è –ø–æ –ø—É–Ω–∫—Ç–∞–º:<br>
<br>
<ol>
<li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –¥–ª—è A, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 2.</li>
<li>–ù–µ–∞–≥—Ä–µ–≥–∞—Ç, —Ç–∏–ø –∫–ª–∞—Å—Å–∞ —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ braced-init-list –≤—ã–∑—ã–≤–∞—é—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∑–Ω–∞—á–µ–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 3.</li>
<li>–ù–µ –Ω–∞–π–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä <i>–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</i> (<i>–≤–æ—Ç —á—Ç–æ —è —É–ø—É—Å—Ç–∏–ª –≤—ã—à–µ</i>), –ø–æ—ç—Ç–æ–º—É –æ–±—ä–µ–∫—Ç <b>–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –Ω–æ–ª—å</b>, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—É–Ω–∫—Ç—É 4.</li>
<li>–í—ã–∑–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ—è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Ç—Ä–∏–≤–∏–∞–ª–µ–Ω (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —É—Å–ª–æ–≤–∏–µ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç).</li>
</ol><br>
–û–¥–∏–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏–º–µ—Ä:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A(){}
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> A {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    B b = {};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; b.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; b.j &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:11:25: warning: ‚Äòb.B::&lt;anonymous&gt;.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; b.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; b.j &lt;&lt; std::endl;</code></pre><br>
<code>b.j</code> –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è, –∞ <code>b.i</code> –Ω–µ—Ç. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ? –ù–µ –∑–Ω–∞—é! –í—Å–µ –±–∞–∑—ã <code>b</code> –∏ —á–ª–µ–Ω—ã –∑–¥–µ—Å—å –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –Ω—É–ª–µ–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é. –Ø –∑–∞–¥–∞–ª –≤–æ–ø—Ä–æ—Å –Ω–∞ <a href="https://stackoverflow.com/questions/54028846/why-is-a-member-not-getting-zero-initialized-in-this-example">Stack Overflow</a>, –∏ <s>–Ω–∞ –º–æ–º–µ–Ω—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–æ–ª—É—á–∏–ª —Ç–≤—ë—Ä–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –∫—Ä–æ–º–µ –≤–æ–∑–º–æ–∂–Ω–æ–π –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞</s> –ª—é–¥–∏ –ø—Ä–∏—à–ª–∏ –∫ –∫–æ–Ω—Å–µ–Ω—Å—É—Å—É, —á—Ç–æ –∑–¥–µ—Å—å –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞. –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ —Ç–æ–Ω–∫–∏–µ –∏ —Å–ª–æ–∂–Ω—ã–µ –¥–ª—è <i>–≤—Å–µ—Ö</i>. –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä clang (–Ω–µ –æ–±—ã—á–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä) –≤–æ–æ–±—â–µ –Ω–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö. –†–∞–∑–±–∏—Ä–∞–π—Ç–µ—Å—å —Å–∞–º–∏.<br>
<br>
...<i>(—Ç—É–ø–æ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –≤–∞—Å) (–≤–∑–≥–ª—è–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –≤–µ–∂–ª–∏–≤—É—é —É–ª—ã–±–∫—É)</i> —Ö–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ –Ω—ã—Ä–Ω—ë–º –µ—â—ë –≥–ª—É–±–∂–µ!<br>
<br>
<h3>–ê–∫—Ç 6. –ë–µ–∑–¥–Ω–∞</h3><br>
–í C++11 –ø–æ—è–≤–∏–ª–æ—Å—å –Ω–µ—á—Ç–æ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º <a href="https://en.cppreference.com/w/cpp/utility/initializer_list"><code>std::initializer_list</code></a>. –£ –Ω–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–∏–ø: –æ—á–µ–≤–∏–¥–Ω–æ, <code>std::initializer_list&lt;T&gt;</code>. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é braced-init-list. –ò –∫—Å—Ç–∞—Ç–∏, braced-init-list –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ –∏–º–µ–µ—Ç —Ç–∏–ø–∞. –ù–µ –ø—É—Ç–∞–π—Ç–µ initializer_list —Å–æ —Å–ø–∏—Å–∫–æ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ braced-init-list! –í—Å–µ –æ–Ω–∏ –∏–º–µ—é—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —Å–ø–∏—Å–∫–∞–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ —á–ª–µ–Ω–æ–≤ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º —á–ª–µ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–∞–∫ –∫–∞–∫ –ø–æ–º–æ–≥–∞—é—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è. –û–Ω–∏ —Å–≤—è–∑–∞–Ω—ã, –Ω–æ —Ä–∞–∑–Ω—ã–µ! –ù–µ—Å–ª–æ–∂–Ω–æ, –ø—Ä–∞–≤–¥–∞?<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt;
    A(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">initializer_list</span></span>&lt;T&gt;) {}
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a1{<span class="hljs-number"><span class="hljs-number">0</span></span>};
    A a2{<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>};
    A a3{<span class="hljs-string"><span class="hljs-string">"hey"</span></span>, <span class="hljs-string"><span class="hljs-string">"thanks"</span></span>, <span class="hljs-string"><span class="hljs-string">"for"</span></span>, <span class="hljs-string"><span class="hljs-string">"reading!"</span></span>};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a1.i &lt;&lt; a2.i &lt;&lt; a3.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
<pre><code class="bash hljs">$ g++ -std=c++17 -pedantic-errors -Wuninitialized -O2 a.cpp
a.cpp: In <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ‚Äòint main()‚Äô:
a.cpp:12:21: warning: ‚Äòa1.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; a1.i &lt;&lt; a2.i &lt;&lt; a3.i &lt;&lt; std::endl;
                     ^
a.cpp:12:29: warning: ‚Äòa2.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; a1.i &lt;&lt; a2.i &lt;&lt; a3.i &lt;&lt; std::endl;
                             ^
a.cpp:12:37: warning: ‚Äòa3.A::i‚Äô is used uninitialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> [-Wuninitialized]
     std::cout &lt;&lt; a1.i &lt;&lt; a2.i &lt;&lt; a3.i &lt;&lt; std::endl;</code></pre><br>
–û–∫–µ–π. –£ <code>A</code> –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <code>std::initializer_list&lt;T&gt;</code>. –ö–∞–∂–¥—ã–π —Ä–∞–∑ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –ø–æ—ç—Ç–æ–º—É <code>i</code> –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –¢–∏–ø <code>T</code> –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–ø–∏—Å–∫–µ, –∞ –Ω–æ–≤—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞.<br>
<br>
<ul>
<li>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ –≤–æ—Å—å–º–æ–π —Å—Ç—Ä–æ–∫–µ <code>{0}</code> –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ <code>std::initializer_list&lt;int&gt;</code> —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º <code>0</code>.</li>
<li>–í –¥–µ–≤—è—Ç–æ–π —Å—Ç—Ä–æ–∫–µ <code>{1, 2, 3}</code> –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ <code>std::initializer_list&lt;int&gt;</code> —Å —Ç—Ä–µ–º—è —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.</li>
<li>–í –¥–µ—Å—è—Ç–æ–π —Å—Ç—Ä–æ–∫–µ —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ braced-init-list –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ <code>std::initializer_list&lt;const char*&gt;</code> —Å —á–µ—Ç—ã—Ä—å–º—è —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.</li>
</ul><br>
<blockquote>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: <code>A a{}</code> –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ, —Ç–∞–∫ –∫–∞–∫ —Ç–∏–ø –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å <code>a{std::initializer_list&lt;int&gt; {}}</code>. –ò–ª–∏ –º—ã –º–æ–∂–µ–º —Ç–æ—á–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–∞–∫ –≤ <code>A(std::initializer_list&lt;int&gt;){}</code>.</blockquote><br>
<code>std::initializer_list</code> –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∫ —Ç–∏–ø–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä STL, –Ω–æ —Ç–æ–ª—å–∫–æ —Å —Ç—Ä–µ–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏: <code>size</code>, <code>begin</code> –∏ <code>end</code>. –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã <code>begin</code> –∏ <code>end</code> –≤—ã –º–æ–∂–µ—Ç–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞—Ç—å, —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å–ø–∏—Å–∫–∞–º–∏ —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;vector&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;string&gt;</span></span></span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; v_1_int{<span class="hljs-number"><span class="hljs-number">5</span></span>};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; v_5_ints(<span class="hljs-number"><span class="hljs-number">5</span></span>);
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; v_strs = {<span class="hljs-string"><span class="hljs-string">"neato!"</span></span>, <span class="hljs-string"><span class="hljs-string">"blammo!"</span></span>, <span class="hljs-string"><span class="hljs-string">"whammo!"</span></span>, <span class="hljs-string"><span class="hljs-string">"egh"</span></span>};
}</code></pre><br>
–£ <code>std::vector&lt;T&gt;</code> –µ—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <code>std::initializer_list&lt;T&gt;</code>, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –ª–µ–≥–∫–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–µ–∫—Ç–æ—Ä—ã, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ.<br>
<br>
<blockquote>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ. –í–µ–∫—Ç–æ—Ä <code>v_1_int</code> —Å–æ–∑–¥–∞–Ω –∏–∑ –µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±–µ—Ä—ë—Ç <code>std::initializer_list&lt;int&lt; init</code> —Å –æ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º <code>5</code>.<br>
<br>
–í–µ–∫—Ç–æ—Ä <code>v_5_ints</code> —Å–æ–∑–¥–∞–Ω –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ <code>size_t count</code>, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–µ–∫—Ç–æ—Ä –∏–∑ (<code>5</code>) —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö –≤ –∑–Ω–∞—á–µ–Ω–∏—è (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤—Å–µ —Ä–∞–≤–Ω—ã <code>0</code>).</blockquote><br>
–û–∫–∏‚Äì–¥–æ–∫–∏, –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏–º–µ—Ä:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span></span>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span>
    A(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">initializer_list</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; l) : i(<span class="hljs-number"><span class="hljs-number">2</span></span>) {}
    A(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>) : i(i) {}
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i;
};
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    A a1;
    A a2{};
    <span class="hljs-function"><span class="hljs-function">A </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;
    A a4 = {<span class="hljs-number"><span class="hljs-number">5</span></span>};
    A a5{<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>};
    <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a1.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span>
              &lt;&lt; a2.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span>
              &lt;&lt; a3.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span>
              &lt;&lt; a4.i &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span>
              &lt;&lt; a5.i &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
}</code></pre><br>
–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, —ç—Ç–æ –Ω–µ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ. –£ –Ω–∞—Å –¥–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞: –æ–¥–∏–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <code>std::initializer_list&lt;int&gt;</code>, –∞ –¥—Ä—É–≥–æ–π —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <code>int</code>. –ü—Ä–µ–∂–¥–µ —á–µ–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≤—ã–¥–∞—á—É –Ω–∏–∂–µ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–º –±—É–¥–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ <code>i</code>.<br>
<br>
–ü–æ–¥—É–º–∞–ª–∏...? –ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è.<br>
<br>
<pre><code class="bash hljs">$ g++ -std=c++11 -pedantic-errors -Wuninitialized -O2 a.cpp
$ ./a.out
1 1 3 2 2</code></pre><br>
–° <code>a1</code> –≤—Å—ë –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–µ–≥–∫–æ. –≠—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏—Å–ø–æ–ª—å–∑—É—è –µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. <code>a2</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º. –ü–æ—Å–∫–æ–ª—å–∫—É —É <code>A</code> –µ—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø—Ä–æ—Å—Ç—ã–º –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ —ç—Ç–æ–º—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É. –ï—Å–ª–∏ –±—ã —É <code>A</code> –Ω–µ –±—ã–ª–æ —ç—Ç–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, —Ç–æ –ø–æ—à–ª–æ –±—ã –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –≤ —Ç—Ä–µ—Ç—å–µ–π —Å—Ç—Ä–æ–∫–µ —Å –≤—ã–∑–æ–≤–æ–º –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞. <code>a3</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫–æ–±–∫–∏, –∞ –Ω–µ —Å–ø–∏—Å–æ–∫ braced-init-list, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç <code>3</code> —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º <code>int</code>. –î–∞–ª–µ–µ, <code>–∞4</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∫–ª–æ–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª—å–∑—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç <code>std::initializer_list</code>. –û—á–µ–≤–∏–¥–Ω–æ, <code>a5</code> –Ω–µ–ª—å–∑—è —Å–æ–æ—Ç–Ω–µ—Å—Ç–∏ —Å –∫–∞–∫–∏–º-—Ç–æ <code>int</code>, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ –∏ –¥–ª—è <code>a4</code>.<br>
<br>
<h1>–≠–ø–∏–ª–æ–≥</h1><br>
–ù–∞–¥–µ—é—Å—å, –≤—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ —ç—Ç–∞ —Å—Ç–∞—Ç—å—è (<i>–≤ –æ—Å–Ω–æ–≤–Ω–æ–º</i>) –ø–æ–ª–µ–º–∏—á–µ—Å–∫–∞—è –∏, –Ω–∞–¥–µ—é—Å—å, –Ω–µ–º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è. –ú–Ω–æ–≥–∏–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –∑–¥–µ—Å—å –Ω—é–∞–Ω—Å—ã –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å, –∏ —è–∑—ã–∫ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å, –µ—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–±—É–¥–µ—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è. –î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∞—Ç—å –≤—Å–µ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –°++, –≤—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ —Ö–æ–¥—É —Ä–∞–±–æ—Ç—ã —Ä–∞–∑–±–µ—Ä—ë—Ç–µ—Å—å —Å –ø–æ–¥–≤–æ–¥–Ω—ã–º–∏ –∫–∞–º–Ω—è–º–∏ –∏ –∏–¥–∏–æ–º–∞–º–∏. <i>–î–ª—è —è—Å–Ω–æ—Å—Ç–∏</i>, —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è&nbsp;‚Äî —Ö–æ—Ä–æ—à–∞—è –≤–µ—â—å. –ï—Å–ª–∏ –≤—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏ –¥–æ–ª–∂–µ–Ω –≤—Å—ë –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω—É–ª—ë–º, –∞ –∑–∞—Ç–µ–º –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —á–ª–µ–Ω–æ–≤. –ù–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –≥–¥–µ-—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –µ—Å—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π <i>–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è</i> –Ω–∞ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.<br>
<br>
–ù–∞–¥–µ—é—Å—å, –º–Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ C++ –±–æ–ª—å—à–æ–π, —Ç—Ä—É–¥–Ω—ã–π —è–∑—ã–∫ (–ø–æ –º–Ω–æ–≥–∏–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º). –í—Å—è —Å—Ç–∞—Ç—å—è –ø–æ—Å–≤—è—â–µ–Ω–∞ –Ω—é–∞–Ω—Å–∞–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. <i>–ü—Ä–æ—Å—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</i>. –ò –º—ã –¥–∞–∂–µ –Ω–µ —Ä–∞—Å–∫—Ä—ã–ª–∏ —Ç–µ–º—É —Ü–µ–ª–∏–∫–æ–º, –∞ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞–ª–∏ –ª–∏—à—å 5 —Ç–∏–ø–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –°–∞–π–º–æ–Ω –≤ <a href="https://blog.tartanllama.xyz/initialization-is-bonkers/">–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–µ</a> —É–ø–æ–º–∏–Ω–∞–µ—Ç 18 —Ç–∏–ø–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.<br>
<br>
–Ø –±—ã –Ω–µ —Ö–æ—Ç–µ–ª –æ–±—É—á–∞—Ç—å –Ω–æ–≤–∏—á–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ C++. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –Ω–µ –Ω–∞—à–ª–æ—Å—å –º–µ—Å—Ç–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è–º –æ –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è–º —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –∏–ª–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º. –ï—Å–ª–∏ –≤—ã –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã –≤ C++, —Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –∫—É—Ä—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ C++, –Ω–æ –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ —Ç–∞–º –±—É–¥—É—Ç –∏–∑—É—á–∞—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —è–∑—ã–∫. –ï—Å–ª–∏ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç <i>C —Å –∫–ª–∞—Å—Å–∞–º–∏</i> –∏–ª–∏ <i>C —Å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º–∏ –∏–º—ë–Ω</i>, —Ç–æ —Å–Ω–∞—á–∞–ª–∞ —É–∑–Ω–∞–π—Ç–µ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ <code>this</code> –∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤ C.<br>
<br>
C ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π, —á—ë—Ç–∫–∏–π, –±—ã—Å—Ç—Ä—ã–π, —Ö–æ—Ä–æ—à–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∏ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —è–∑—ã–∫ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö. –ò —É –Ω–µ–≥–æ —Ç–æ—á–Ω–æ –Ω–µ—Ç 18 —Ç–∏–ø–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.<br>
<br>
<hr><br>
–ö—Å—Ç–∞—Ç–∏, —è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –∑–∞–±—ã–ª, —á—Ç–æ <a href="https://lobste.rs/s/0wvqqc/stop_teaching_c_as_first_language">—Ä–∞—Å—Å—É–∂–¥–∞–ª —Ç–æ—á–Ω–æ –Ω–∞ —ç—Ç—É —Ç–µ–º—É –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥</a>. –í–æ—Ç —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ.<br>
<br>
<hr><br>
–û–±—Å—É–∂–¥–µ–Ω–∏–µ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –∏ –∫—Ä–∏—Ç–∏–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä—É–º–∞—Ö:<br>
<br>
<ol>
<li><a href="https://lobste.rs/s/tul188/initialization_c_is_seriously_bonkers">Lobste.rs</a><br>
</li>
<li><a href="https://news.ycombinator.com/item%3Fid%3D18832311">Hacker News</a><br>
</li>
<li><a href="https://www.reddit.com/r/cpp/comments/ad07zw/initialization_in_c_is_seriously_bonkers/">Reddit</a></li>
</ol><br>
<i>–û—Ç–≤–µ—á–∞—è –Ω–∞ —Å–∞–º—É—é —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—É—é –∫—Ä–∏—Ç–∏–∫—É:</i> –¥–∞, –º–æ–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–∑—É–º–Ω—ã–º —Å–ø–æ—Å–æ–±–∞–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è —Å <i>–±–µ–∑–¥–Ω–æ–π</i>. –ù–∞ —ç—Ç–æ—Ç —Å—á—ë—Ç —è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–∞–ø–∏—Å–∞–ª –≤ —ç–ø–∏–ª–æ–≥–µ, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏&nbsp;‚Äî —Ö–æ—Ä–æ—à–∞—è –≤–µ—â—å. –õ–∏—á–Ω–æ —è —Ä–µ–¥–∫–æ –ø–æ–ª—å–∑—É—é—Å—å —à–∞–±–ª–æ–Ω–∞–º–∏, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é C++. –î–µ–ª–æ –Ω–µ –≤ —ç—Ç–æ–º. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –Ω–∞—á–∏–Ω–∞—é—â–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å STL –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É C, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏, –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ. –¢–∞–∫ –º—ã –ø—Ä–∏–±–ª–∏–∂–∞–µ–º—Å—è –∫ C —Å –∫–ª–∞—Å—Å–∞–º–∏, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ —ç—Ç–æ –Ω–µ C, –∏ –≤—ã –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏, –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏, —Å—Ç–µ–∫, –∫—É—á—É, –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –ø–∞–º—è—Ç—å. –ò —Ç–µ–ø–µ—Ä—å –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –º–Ω–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω C, —è –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ <i>–¥—Ä—É–≥–æ–π</i> —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –≤—ã—É—á–∏—Ç—å —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞. –ï—Å–ª–∏ –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å C++, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ C++. –ù–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å C++ –±–µ–∑ –≤—Å–µ—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π C++, —Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–∑—É—á–∏—Ç–µ C. –ò –ø–æ–≤—Ç–æ—Ä—é –∏–∑ <b>–ø–µ—Ä–≤–æ–≥–æ –∞–±–∑–∞—Ü–∞</b>, —è –Ω–µ –ø—Ä–æ—Ç–∏–≤ C++. –ú—ã –≤–∏–¥–∏–º –±–æ—Ä–æ–¥–∞–≤–∫–∏ –Ω–∞ —Ç–µ–ª–µ –ª—é–±–∏–º—ã—Ö –∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ª—é–±–∏–º –∏—Ö.<br>
<br>
<font color="gray"><blockquote>–ò —ç—Ç–æ –≤—Å—ë, —á—Ç–æ —è –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å –æ–± —ç—Ç–æ–º.</blockquote></font></div><p>Source: <a href="https://habr.com/ru/post/438492/">https://habr.com/ru/post/438492/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Workplace and 4k @ 60Hz</title>
  <meta name="description" content="Good day, dear readers, under the cat tells about the choice of how to connect 4k monitor to a laptop and the pitfalls are not new technologies. Perha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6974184241884155",
      enable_page_level_ads: true
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Workplace and 4k @ 60Hz</h1><div class="post__text post__text-html js-mediator-article"><p>  Good day, dear readers, under the cat tells about the choice of how to connect 4k monitor to a laptop and the pitfalls are not new technologies.  Perhaps such a user experience and conclusions will be useful to someone when choosing and buying iron, especially given the fact that its value is steadily increasing relative to the average purchasing power of the population. </p><a name="habracut"></a><br><h3>  General theses </h3><br><p>  <i>My use: there are no high requirements for CPU and RAM (not a developer), there are no high requirements for a GPU (not a gamer), normal use, sometimes you need to render video, work with sound, run virtual machines.</i> </p><br><ul><li>  <strong>Laptop weight is more important than screen size.</strong> <ul><li>  <strong>The consumption of momentary content does not depend on the screen size.</strong>  In the presence of a normal modern matrix, there will be no significant difference between laptops with 12 or 15 inch screens.  Problems arise with the old non-adaptive design of sites and, especially, desktop applications.  The same on smartphones. </li><li>  <strong>Work and games require a high-quality external screen with a large matrix.</strong>  Which can not be placed in the body of the laptop, it is 23-27 inches and more. </li></ul></li><li>  <strong>Laptop weight is more important than performance.</strong> <ul><li>  <strong>Mobile video cards in the current reality, even close can not be compared in performance with the desktop.</strong>  For work and games, you can use either a powerful desktop PC, or a desktop video card in an external box ( <a href="https://egpu.io/">eGPU</a> ), for games or a console (console), or streaming (cloud) gaming services. </li><li>  <strong>The rest of the components, such as the processor and memory, are approximately the same as ultrabooks and heavy gaming laptops.</strong>  The difference in the possibility of an upgrade. </li></ul></li></ul><br><p>  <strong>Hence the conclusion:</strong> if you need to carry a laptop with you, you should take the most fresh, lightweight (up to 1.5 kg, you still have to charge and carry adapters), productive (by processor and memory, because you are unlikely to upgrade it) without discrete video card. <br>  The strangest thing is that ports (USB, HDMI, Ethernet, Card Reader ...), although people very much swear at their absence (but rather out of habit), it is true that the user mass is used less and less, and most often in a stationary workplace.  Therefore, it is especially important to have at least one USB-C port with support for the latest standards (at the time of writing the post it is <a href="https://en.wikipedia.org/wiki/USB_3.0">USB 3.2</a> and <a href="https://en.wikipedia.org/wiki/Thunderbolt_(interface)">Thunderbolt 3</a> ) and a dock station that is suitable for functionality. </p><br><p>  The last 10-15 years, the normal replacement period for iron was, on average, 2 years, the so-called <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B8%25D0%25BA-%25D1%2582%25D0%25B0%25D0%25BA_(%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D1%2582%25D0%25B5%25D0%25B3%25D0%25B8%25D1%258F)">tick-so</a> strategy was that of Intel processors, that Apple had the usual and S iPhone models.  Apparently the companies understood that people got used to it and decided to introduce confusion, especially in the names of products. </p><br><h3>  How to figure out 4k @ 60Hz and not break the brain </h3><br><h4>  Setup </h4><br><p>  I have the opportunity to check how everything works on a Dell XPS 13 9360 Core i5-8250U laptop, a Dell D6000 docking station and a Dell P2715Q monitor.  For testing, the monitor was connected to the dock with DisplayPort to mini DisplayPort, HDMI to HDMI cables, directly to the laptop with a USB-C to DisplayPort cable, but USB-C to HDMI, unfortunately, was not available. </p><br><h4>  What is USB-C? </h4><br><p>  <a href="https://en.wikipedia.org/wiki/USB-C">USB Type-C</a> or USB-C ‚Äî USB <a href="http://ww1.microchip.com/downloads/en/AppNotes/00001953A.pdf">specification</a> for a universal compact two-way 24-pin connector for USB devices and USB cables. <br>  Using the USB Type-C connector does not necessarily mean that the device implements the high-speed USB 3.1 Gen1 / Gen2 standard or <a href="https://ru.wikipedia.org/wiki/USB">USB Power Delivery</a> protocol, as the Chinese managed to produce smartphones with a USB-C connector soldered to the USB 2.0 port. </p><br><p>  <strong>Note: a</strong> connector is a physical entity (plug or socket), a port is a more general concept that includes both a physical component (connector) and electronic (pinout, connection with electronic components on the board) and logical (software implementation of protocols).  Often similar in meaning words connector, port, interface, and others are used intermixed, but there is one nuance (s). </p><br><p>  Apple is also, slowly but surely, transferring its products from using proprietary ports like <a href="https://ru.wikipedia.org/wiki/MagSafe">MagSafe</a> (by the way, the Chinese have riveted a bunch of cables with variations on magnetic connectors) and <a href="https://ru.wikipedia.org/wiki/Lightning_(%25D0%25BA%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580)">Lightning</a> (showed that you can make a symmetrical connector and not torment users) to a universal USB-C . </p><br><h4>  Why so hard? </h4><br><p>  For the user, the pain and suffering with USB-C remain the same as with the rest of the USB family - you need to understand a bunch of existing standards and technologies (and the user reads the standards a little more than never), understand what he wants to get at the output, choose equipment and cables that will support these standards. <br>  Moreover, articles like ‚ÄúThe Best USB-C Hubs and Docks‚Äù, as well as the description of goods in online stores, do not provide much clarity on this issue.  On the same Amazon a lot of angry reviews to the cables and docks, because  supported standards and device compatibility are not obvious.  Enthusiasts are trying to create a compatibility table (for example, such as the official for <a href="https://cdn.competec.ch/documents/4/1/415174/USB-C_TB_docking_compatibility_and_power_adapter_matrix.pdf">Dell</a> ). <br><br>  It often happens that some glands are acquired, beautiful inscriptions on the boxes promise unearthly pleasures and cosmic speeds, by itself it works somehow not very much and begins to brain, but how can you collect candy from this junk. <br>  You can also notice that the very concept of ‚Äú4k resolution‚Äù can mean <a href="https://ru.wikipedia.org/wiki/4K_(%25D1%2580%25D0%25B0%25D0%25B7%25D1%2580%25D0%25B5%25D1%2588%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5)">different image sizes in pixels</a> , in this case, Ultra HD 4K or <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25B2%25D0%25B8%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2581%25D0%25B2%25D0%25B5%25D1%2580%25D1%2585%25D0%25B2%25D1%258B%25D1%2581%25D0%25BE%25D0%25BA%25D0%25BE%25D0%25B9_%25D1%2587%25D1%2591%25D1%2582%25D0%25BA%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">UHDTV1</a> . </p><br><h4>  How is the image transmitted via USB-C? </h4><br><p>  There are two main ways - DisplayLink and Alternate Mode (Alt Mode). <br>  Connecting the monitor through the docking station you most often use DisplayLink, connecting the monitor through a small adapter or ‚Äústraight‚Äù cable you use an alternative mode. </p><br><p>  The main types of intermediaries between a laptop and a monitor, just for visualization. </p><br><p><img width="720" src="https://habrastorage.org/webt/2v/1h/lk/2v1hlk3p5oe-4ztsm08hlia85e0.png"></p><br><h4>  Displaylink </h4><br><p>  The technology and the eponymous company <a href="https://en.wikipedia.org/wiki/DisplayLink">DisplayLink</a> most likely did not meet the majority of users if they did not connect more than two monitors to a computer.  In any case, I have such a name for years of interaction with computer technology is not deposited in my head.  Nevertheless, the company exists quite a long time ago, it develops hardware (chips, they are also IC, they are also Integrated circuit USB Graphics chips) and software. <br>  For the user, in most cases it <a href="https://en.wikipedia.org/wiki/DisplayLink">looks like this</a> : special drivers are installed on his PC and a virtual video adapter appears in the operating system, a docking station with a DisplayLink chip is connected to the USB port (2.0 and higher).  On a PC, the image is programmatically compressed and transmitted to the dock, where the DisplayLink chip is restored and transmitted to a monitor, TV, projector, or other display device. <br>  Advantages of the technology: connection up to 6 monitors (operation modes are determined by the capabilities of the chip used and the display device), drivers for all popular platforms, the ‚Äústuck and flew‚Äù format. <br>  Minus: performance.  As written on <a href="https://en.wikipedia.org/wiki/DisplayLink">Wikipedia</a> , the VGC (Virtual Graphics Card) compresses the image change and transfers it to the HRE (Hardware Rendering Engine), i.e.  There is optimization, but it helps to max out the resolution, but not the display of movies and games. <br>  Some manufacturers of docks even write in the description that "not recommended for games." </p><br><p><img width="550" src="https://habrastorage.org/webt/bu/n_/ux/bun_uxlsnapalxtk2ir7_3w2kcs.png"><br>  DisplayLink Manager, available in the Microsoft Store. </p><br><p><img width="550" src="https://habrastorage.org/webt/st/9d/cq/st9dcqxqjgy91bygjobkgglkxoa.png"><br>  In case of connection with two cables, display 2 is Alternate Mode via a USB-C to DisplayPort cable, display 3 is DisplayLink via a DisplayPort to mini DisplayPort cable. </p><br><h4>  Alternate mode </h4><br><p>  <a href="https://en.wikipedia.org/wiki/USB-C">Alternative mode</a> allows you to reuse some contacts in the USB-C 3.1 cable to transfer data between the device (the host is a laptop or smartphone) and a peripheral device (the device is a monitor or TV) using an alternative protocol, including at the moment: </p><br><ul><li>  DisplayPort 1.4 </li><li>  MHL (MHL 1.0, 2.0, 3.0 and superMHL 1.0) </li><li>  Thunderbolt 3 - can encapsulate DisplayPort </li><li>  HDMI 1.4b </li><li> VitualLink 1.0 - not yet standardized, the standard for connecting virtual reality headsets through one cable instead of three, transmitting power, video and data. </li></ul><br><p>  Of the alternative modes, we are primarily interested in DisplayPort and HDMI, because  They are most often used in conventional budget monitors and laptops.  MHL is still more about mobile devices and TVs, although the HDMI connector on my monitor is marked HDMI (MHL). </p><br><br><p>  The alternative mode allows for the appearance of additional buns, for example, in HDMI Alt Mode it is 3D video, Ethernet, Dolby 5.1 and other things, but the developer is responsible for the functionality of a specific standard. </p><br><br><p>  <strong>Note: It</strong> must be borne in mind that, unlike the HDMI standard, which came from the world of home appliances, the Thunderbolt and DisplayPort standards, born in the computer industry, are developing faster.  Their rapid development also contributes to the absence of royalties (payment of royalties for each device produced or, as some say, "for each port").  There is an opinion that when it comes to modes with a resolution higher than 4k and a sweep frequency higher than 60 Hz (especially in game monitors), it becomes clear that HDMI has lost the arms race, so with sufficient budget it‚Äôs better not to count on it. </p><br><h4>  Alternative mode "directly" </h4><br><p>  In my impression, the most predictable and understandable result of pairing devices is provided by the <strong><a href="https://en.wikipedia.org/wiki/Thunderbolt_(interface)">Thunderbolt 3</a></strong> standard. </p><br><p>  In the case of <strong><a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a></strong> on devices, you need to check the version of the supported standard.  If the devices are modern, there should be no problems. </p><br><p>  With <strong><a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a></strong> , the situation is not very clear, the HDMI Alt Mode is supported by <a href="https://www.hdmi.org/manufacturer/HDMIAltModeUSBTypeC.aspx">the 1.4b specification</a> (maximum 4k @ 30Hz), and the official alternative mode support for the existing parallel 2.0b is not yet announced.  At the same time, cable manufacturers on the market claim that their products support 4k @ 60Hz, some write that it will work if your device supports DP Alt Mode.  Does it ever work like HDMI Alt Mode or always on top of DisplayPort, is a mystery to me.  Due to the lack of a USB-C to HDMI cable, I cannot verify this design. </p><br><h4>  Alternative mode through the dock </h4><br><p>  Information about the support of the alternative mode and the way it is implemented varies or is silent in the description of the docks.  In practice, I found a <a href="https://www.hypershop.com/collections/usb-c-hubs">HyperDrive</a> dock <a href="https://www.hypershop.com/collections/usb-c-hubs">that was</a> fired on Kickstarter using two Thunderbolt 3 ports, alas, compatible only with MacBooks. </p><br><p>  The second option is found in the documentation for the <a href="http://downloads.dell.com/manuals/all-products/esuprt_electronics/esuprt_docking_stations/dell-universal-dock-d6000_user%2527s%2520guide_en-us.pdf">Dell D6000</a> and in the description of the docks from StarTech.com, it states that Alt-Mode works for HDMI 4k @ 30Hz (3840x2160 @ 30Hz). <br>  I managed to connect the monitor in this mode, it works very strange.  In order to guarantee the reproduction of the behavior, only HDMI and power should be connected to the monitor, switching on the alternative mode is achieved by twisting (sorry) the HDMI cable between the dock and the monitor.  At the same time, all ports except HDMI stop working at the dock, only power is supplied to USB ports, for some reason the promised USB 2.0 does not work. <br>  See below: Alternate Mode does not employ USB 2.0 and USB Power Standards. <br>  A return to normal mode is achieved by rebooting the dock for power. </p><br><p><img width="550" src="https://habrastorage.org/webt/kz/o6/ks/kzo6ksuf1weliyrm9-zvvzhrzwm.png"><br>  Indeed, 4k @ 30Hz. </p><br><p>  Also, for example, I read the information around the compact <a href="https://us.targus.com/products/usb-c-displayport-alt-mode-travel-dock-dock411usz">Targus USB-C DisplayPort Alt-Mode Travel Dock (DOCK411USZ)</a> , which, judging by the description, implements HDMI over DisplayPort Alt-Mode and promises HDMI2.0 up to 4096 x 2160 30Hz 24 bpp monitor connection.  See below: (eg, DisplayPort, HDMI, VGA or DVI). <br>  Wikipedia prompts, and it is quite possible that the Dell D6000 implements it in exactly the same way that this is achieved with the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort Dual-Mode (DP ++)</a> feature. </p><br><h4>  Cables </h4><br><p>  There is a division into passive (permissible length up to 0.5 m) and active (with integrated chips) cables.  It makes sense to buy only active cables, because  Only they are suitable for high currents and alternative mode. <br>  On marketplaces such as AliExpress and Amazon, you can find available active cables manufactured by Ugreen, QGeeM, uni, etc. In the stores in the Russian Federation, the analogs are 1.5-2, and even more, times more expensive. </p><br><p>  From <a href="https://en.wikipedia.org/wiki/USB-C">Wikipedia</a> : <a href="https://en.wikipedia.org/wiki/Active_cable">Active cables</a> / adapters.  There is no need for any additional interface (eg, DisplayPort, HDMI, VGA or DVI). <br>  Using full-featured USB-C cables for Alternate Mode connections provides some benefits.  Alternate Mode doesn‚Äôt use USB 2.0 lanes and it may be <a href="http://ww1.microchip.com/downloads/en/AppNotes/00001953A.pdf">available</a> .  In addition, SuperSpeed ‚Äã‚ÄãVideo Display and MHL can be used at the same time as USB 3.1 data. </p><br><h3>  findings </h3><br><p>  In my case, the dock was chosen to connect a 4k monitor (Power Delivery was discovered during operation and became just a pleasant bonus, as was the Ethernet port) and a large number of USB devices.  In fact, it is more interesting to connect and use the monitor directly, and for USB devices one could buy a cheaper and more compact solution. </p><br><h4>  Displaylink </h4><br><p>  + In addition to the additional ports in the docking station, you get Power Delivery (if this feature is supported by both the dock and the laptop), i.e.  charging the laptop over the same cable and reducing the number of wires on the table; <br><br>  + The technology allows you to display an image on several external monitors, depending on the chip in the dock and the number of outputs, up to 6 pieces; <br><br>  - Although the monitor operates in 4k @ 60Hz mode, heavy video lags, i.e.  not having time to work through, and if it is treated with local video using VLC (which is performance, native codecs, decoding algorithms, hardware decoding or quality degradation is the subject of disputes in the network), streaming video continues to suffer. <br><br>  - More recycled laptop CPU.  When viewing 4k videos on YouTube via DisplayLink, the CPU load was about 40-50%, when viewed through an alternative mode, about 10-20%. </p><br><h4>  Alternate mode </h4><br><p>  + The image on the monitor displays a laptop video card, so the video does not lag; <br><br>  + In this mode, the function "Night Light" is supported.  Who is like, and my eyes with her are much easier in the evenings; <br><br>  - Instead of one cable between the laptop and the dock, you have to connect three: to the dock, monitor and power supply; <br><br>  - If the laptop has one USB-C port, then the dock must be connected to another port, respectively, there must be a free port and the dock connection port must match it.  In my situation, this is solved by the built-in USB-C to USB 3.0 adapter on the dock cable and the presence of two more USB 3.0 ports on the laptop. <br></p><br><h3>  Dock Station Tips </h3><br><ul><li>  Check the list of supported standards and modes, it is better to do this on the official website of the manufacturer; </li><li>  Read reviews and reviews on the Internet, there are all sorts of situations, up to the ‚Äúlow data transfer rate‚Äù; </li><li>  Update software and / or drivers, including the dock.  Many manufacturers have their own special software for comprehensive software updates, for example, Dell has SupportAssist.  For Linux, there are drivers too, but most likely everything will work out of the box and without them; </li><li>  If you are using Windows and especially if the dock is stationary, go to the Device Manager, open the properties of USB controllers and devices and uncheck the checkbox ‚ÄúAllow this device to be turned off to save energy‚Äù, because  devices with this feature can be disconnected at the most inappropriate moment and OSes, for some ridiculous reason, then unable to find and connect them back (it is treated again, forgive me, by twisting the cable, which does not add health to the connected devices). </li></ul><br><p><img width="550" src="https://habrastorage.org/webt/5s/xr/2c/5sxr2crekgfau4zkj1g6sbckt-m.png"></p><br><p>  <b>Useful comments:</b> <br>  <a href="https://habr.com/ru/post/399413/">A complete nightmare: USB-C and Thunderbolt 3</a> <br>  <a href="https://habr.com/ru/post/378605/">Chroma subsampling article</a> </p></div><p>Source: <a href="https://habr.com/ru/post/438594/">https://habr.com/ru/post/438594/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
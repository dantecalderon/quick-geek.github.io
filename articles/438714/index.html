<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Update overview of Veeam Backup & Replication 9.5 Update 4</title>
  <meta name="description" content="At the end of January, Update 4 for Veeam Availability Suite 9.5 was released, full of features like a full major release. Today I will briefly tell y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6974184241884155",
      enable_page_level_ads: true
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Update overview of Veeam Backup & Replication 9.5 Update 4</h1><div class="post__text post__text-html js-mediator-article">  At the end of January, Update 4 for Veeam Availability Suite 9.5 was released, full of features like a full major release.  Today I will briefly tell you about the main innovations implemented in Veeam Backup &amp; Replication, and I promise to write about Veeam ONE in the near future.  In this review, we consider: <br><br><ul><li>  versions of systems and applications that the solution now supports </li><li>  work with cloud infrastructures </li><li>  backup enhancements </li><li>  improvement in recovery </li><li>  new in vSphere and Hyper-V support </li></ul><br>  And also we will learn about improvements in work with virtual machines running Linux, about new plugins and other features. <br><br> <a href=""><img src="https://habrastorage.org/webt/f7/e9/ei/f7e9eiume7q1un7miyhkhfx1gpy.png"></a> <br><br>  So, welcome under cat. <br><a name="habracut"></a><br><h1>  Supports Windows Server 2019, Hyper-V 2019, latest applications and platforms </h1><br>  <b>Microsoft Windows Server 2019 is</b> supported as: <br><br><ul><li>  guest OS for protected virtual machines </li><li>  server for installing Veeam Backup &amp; Replication and its remote components </li><li>  a machine that can be backed up using Veeam Agent for Microsoft Windows </li></ul><br>  Similar support is implemented for <b>Microsoft Windows 10 October 2018 Update</b> . <br><br>  A new version of the <b>Microsoft Windows Server Hyper-V 2019</b> hypervisor is supported, including support for VMs with virtual hardware version 9.0. <br><br>  For popular systems and applications of <b>Microsoft Active Directory 2019</b> , <b>Exchange 2019</b> and <b>SharePoint 2019</b> , backup-based application operation (application-aware processing) and application object recovery are supported using Veeam Explorer tools. <br><br>  For VMs with a Windows guest OS, support for <b>Oracle Database 18c</b> is implemented - also taking into account the operation of the application, including backup logs and the ability to restore to the selected point. <br><br>  In addition, VMware vSphere 6.7 U1 ESXi, vCenter Server and vCenter Server Appliance (VCSA), and VMware vCloud Director 9.5 are now supported. <br><br><h1>  Flexible backup storage with Capacity Tier </h1><br>  <b>Capacity Tier</b> is a new approach to storing backups in a scalable repository (scale-out backup repository, SOBR) with the ability to automatically load data into cloud storage. <br><br>  With the help of Capacity Tier and storage policies, you can organize an effective multi-level storage system, in which ‚Äúat arm's length‚Äù (that is, in a sufficiently fast storage) fresh backups will be in case of a quick recovery.  After the deadline has passed, they will go into the category of ‚Äúsecond freshness‚Äù and will automatically leave for the remote site - in this case, the cloud. <br><br>  Capacity Tier requires: <br><br><ol><li>  one or more SOBR repositories containing 1 or more repositories-extent </li><li>  one cloud repository (so-called object storage - object storage repository) </li></ol><br>  Cloud S3 Compatible, Amazon S3, Microsoft Azure Blob Storage, IBM Cloud Object Storage are supported. <br><br>  If you plan to use this functionality, you will need: <br><br><ol><li>  Configure backup repositories for use as extents of the SOBR repository. </li><li>  Set up a cloud repository. </li><li>  Configure a scalable SOBR repository and add repository-degrees to it. </li><li>  Configure the binding of the cloud repository to the SOBR and set the policy for storing data and uploading them to the cloud - this will be the configuration of your Capacity Tier. </li><li>  Create a backup task that will save backups to the SOBR repository. </li></ol><br>  With paragraph 1, everything is pretty obvious (for those who have forgotten, there is <a href="https://helpcenter.veeam.com/evaluation/backup/vsphere/ru/setup_backup_repository.html">documentation</a> in Russian).  Go to step 2. <br><br><h1>  Cloud storage as an element of the Veeam Backup infrastructure </h1><br>  About setting up the cloud repository (aka object storage) is described in detail <a href="https://helpcenter.veeam.com/docs/backup/hyperv/new_object_storage.html%3Fver%3D95u4">here</a> (so far in English).  In short, you need to do the following: <br><br><ol><li>  In the <b>Backup Infrastructure</b> view, select the <b>Backup Repositories</b> node in the left pane and in the top menu click on the <b>Add Repository</b> item. </li><li>  Choose which cloud storage will be configured: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df3/832/b83/df3832b8359a520be4b881426c86c0c1.png" alt="image"><br><br></li><li>  Next, go through the steps of the wizard (for example, I will consider Amazon S3) </li></ol><br>  <i>Note:</i> <i>Standard</i> class storage and <i>Infrequent Access are supported</i> . <br><br><ol><li>  First, enter the name and a brief description of our new repository. </li><li>  Then we specify an account to access Amazon S3 - select an existing one from the list or click <b>Add</b> and enter a new one.  From the list of regions where the data centers are located. <b>Data center region</b> select the desired region. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f4/f89/ed5/9f4f89ed5a47b1751799fb306ba82ef0.png" alt="image"><br><br>  <i>Tip:</i> <b>Cloud Credentials Manager has been</b> developed for specifying accounts used when working with cloud components. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e8d/f5b/4d8/e8df5b4d82c2efd3f3a5f7421903050f.png" alt="image"><br><br></li><li>  If you need to control Internet traffic through the gateway (gateway), you can select the <b>Use gateway server</b> option and specify the desired gateway. <br></li><li>  Specify the settings of the new storage: the desired bucket, the folder where our backups will be added, the limit on the total space (optional) and the storage class (optional). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/823/be4/780/823be4780f7e6179f5b52b2adc138071.png" alt="image"><br><br>  <i>Important!</i>  One folder can be assigned only one object storage!  In no case can you configure several such storages, ‚Äúlooking‚Äù at the same folder. </li><li>  In the final step, we check all the settings and click <b>Finish</b> . </li></ol><br><h1>  Configuring the download of backups to the cloud storage </h1><br>  Now we set up the SOBR repository accordingly: <br><br><ol><li>  In the <b>Backup Infrastructure</b> view, select the <b>Backup Repositories</b> node in the left pane and in the top menu click on the <b>Add Scale-out Repository</b> item. </li><li>  On the <b>Performance Tier</b> wizard step, specify the extent for it and tell how to add backups to them: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/45e/b03/090/45eb03090518afc659bc666ecab0d8b3.png" alt="image"><br><br></li><li>  At the <b>Capacity Tier</b> step: <br><ul><li>  select the option <b>Extend scale-out backup repository capacity with object storage</b> (expand the capacity of the repository by using the object storage) and specify which cloud storage objects to use.  You can select from the list or launch the creation wizard by clicking <b>Add</b> . </li><li>  We say what days-hours you can download to the cloud - to do this, click the <b>Window</b> button (download window). </li><li>  configure the storage policy - specify how many days the storage in the SOBR repository data will become ‚Äúsecond freshness‚Äù, and they can be transferred to the cloud - in our example it is 15 days. </li><li>  You can enable data encryption when uploading to the cloud - to do this, select the option <b>Encrypt data uploaded to object storage</b> and specify which of the passwords stored in the <b>Credentials Manager</b> should be used.  Encryption is performed using AES 256-bit. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/720/02b/071/72002b071586350816b684aa134dce3a.png" alt="image"><br></li></ul><br></li></ol><br>  By default, data is collected with extent and transferred to the object storage using a special job type - <b>SOBR Offload job</b> .  It runs in the background, is named for the SOBR repository with the <i>Offload</i> suffix (for example, <i>Amazon Offload</i> ) and performs the following operations every 4 hours: <br><br><ol><li>  Checks whether the backup chains stored in extents match the transfer criteria to the object storage. </li><li>  Collects the tested chains and sends them blockwise to the object storage. </li><li>  Records the results of the work of his session in the database so that the administrator can view them if necessary. </li></ol><br>  The data transfer scheme and its storage structure in the cloud are shown in the figure below: <br><br> <a href=""><img src="https://habrastorage.org/webt/rw/ve/9i/rwve9izjrhq2txztdxvnl7ai08w.png"></a> <br><br>  <i>Important!</i>  To create such a multi-tier storage system, you need an <i>Enterprise</i> Edition license. <br><br>  Backups saved to the cloud, of course, can be used to restore directly from storage.  And you can also download them from the cloud to the ground and restore them using even the free Veeam Backup Community Edition. <br><br><h1>  New in working with cloud infrastructures </h1><br><h3>  To work with Amazon </h3><br><ul><li>  Restoration from backups directly to AWS - supported for VMs from a Windows or Linux guest OS, also for physical machines.  All this can be restored to virtual machines in <b>AWS EC2 VM</b> , including <i>Amazon Government Cloud</i> and <i>Amazon China</i> . </li><li>  Works embedded conversion UEFI2BIOS. </li></ul><br><h3>  To work with Microsoft Azure </h3><br><ul><li>  Implemented support for Azure Government Cloud and Azure CSP subscriptions. </li><li>  It is possible to select the network security group when restoring to Azure IaaS VM. </li><li>  When logging into the cloud using your Azure account, you can now specify an Azure Active Directory user. </li></ul><br><h1>  New in application support </h1><br><ul><li>  <b>Kerberos authentication is</b> supported for applications running on vSphere virtual machines.  This will disable NTLM in the network settings of the guest OS to prevent attacks that use hash transfer, which is very important for infrastructures with not the highest level of control. </li><li>  The <b>SQL</b> and <b>Oracle</b> transaction log backup module now uses not a system drive <i>C</i> , which often has not enough space, but a volume with maximum free space as a backup location for log backups.  On a Linux-VM, the directory will be <i>/ var / tmp</i> or <i>/ tmp</i> , also depending on the free space. </li><li>  When backing up the <b>Oracle redo logs logs, they</b> will be analyzed in order to maintain the guaranteed recovery points <i>Guaranteed Restore Points</i> (which are part of the <i>Oracle Flashback</i> built-in feature). </li><li>  Added support for <b>Oracle Data Guard</b> . </li></ul><br><h1>  Improved backup </h1><br><ul><li>  The maximum supported size of the disk and backup file has increased more than 10 times: with a block size of 1 MB for the .VBK file, the maximum size of the disk in the backup can now be 120 TB, and the maximum size of the entire backup file is 1 PB.  (Confirmed by testing 100 TB for both values.) </li><li>  For backups without encryption, the amount of metadata is reduced by 10 MB. </li><li>  Optimized performance of the initialization and completion of the backup job;  as a result, backups of small VMs will go almost twice as fast. </li><li>  The module responsible for publishing the content of the VM image has been reworked, which significantly accelerated recovery at the file level and at the object level. </li><li>  Preferred Networks settings (preferred networks) will now be extended to WAN accelerators. </li></ul><br><h1>  New in recovery </h1><br>  The new ability to restore the VM entirely called <b>Staged Restore</b> - phased recovery.  In this mode, the VM is restored from the desired backup, first in the sandbox (which is now called DataLab), on the guest OS, you can run your own script to make changes to the database contents, OS settings or applications.  VMs with already made changes can then be transferred to the production infrastructure.  This can be useful, for example, in advance to install the necessary applications, enable or disable settings, delete personal data, etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea1/eba/bc3/ea1ebabc35a0e1bfcffe70536009b924.png" alt="image"><br><br>  You can read more <a href="https://helpcenter.veeam.com/docs/backup/hyperv/staged_restore_about.html%3Fver%3D95u4">here</a> (in English). <br><br>  <i>Note:</i> Requires at least <i>Enterprise</i> license. <br><br>  Also, the <b>Secure Restore</b> option is available - secure recovery (works for almost all types of recovery).  Now you can check the guest VM system files (directly in the backup) for viruses, Trojans, etc., before starting the recovery process.  - for this purpose, VM disks are mounted to the mount-server associated with the repository, and the scanning procedure is started using an antivirus installed on this mount-server.  (It is not necessary that the same antivirus be on the mount server and on the VM itself.) <br><br>  Out of the Box are supported by Microsoft Windows Defender, Symantec Protection Engine and ESET NOD32;  You can also specify another antivirus if it supports work via the command line. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cc/878/3f6/0cc8783f6ee0a66aefc09c789e7e61b7.png" alt="image"><br><br>  You can read more <a href="https://helpcenter.veeam.com/docs/backup/vsphere/av_scan_about.html%3Fver%3D95u4">here</a> (in English. Language). <br><br><h1>  New to Microsoft Hyper-V </h1><br><ul><li>  You can now add groups of Hyper-V VMs to backup and replication tasks. </li><li>  Instant recovery to Hyper-V VM from backups created using Veeam Agent, supports Windows 10 Hyper-V as a target hypervisor. </li></ul><br><h1>  New with VMware vSphere </h1><br><ul><li>  Improved several times the write cache performance of vPower NFS - for more efficient instant recovery of the VM and optimizing the use of SSD. </li><li>  vPower NFS now works more efficiently with the SOBR repository, which allows you to process more virtual machines in parallel. </li><li>  The vPower NFS server has an option to authorize hosts by IP address (by default, access is granted to the ESXi host, which provides the vPower NFS datastore).  To disable this feature in the registry of the mount server, go to <b>HKEY_LOCAL_MACHINE \</b> <b><br></b>  <b>SOFTWARE \ WOW6432Node \ Veeam \ Veeam NFS \</b> and create <b>vPowerNFSDisableIPAuth</b> key under it </li><li>  Now you can configure the SureBackup task to use the vPower NFS cache (in addition to redirecting the recording of changes to the vSphere datastore).  This solves the issue of using SureBackup for VMs with disks larger than 2 TB in cases where the only storage system for vSphere is VMware VSAN. </li><li>  Implemented support for Paravirtual SCSI controllers with more than 16 attached drives. </li><li>  Quick Migration now automatically migrates vSphere tags;  these tags are also preserved when instantaneous VM recovery. </li></ul><br><h1>  Improvements in Linux VM support </h1><br><ul><li>  For accounts that need to be raised to <i>root</i> , there is now no need to add the <i>NOPASSWD: ALL</i> option to sudoers. </li><li>  Added support for the included <i>require requirements option</i> in sudoers (this is the default setting, for example, for CentOS). </li><li> When you register a Linux server, you can now switch with the <code>su</code> command if the <code>sudo</code> not available. </li><li>  The SSH fingerprint check now extends to all Linux server connections ‚Äî to protect against MITM attacks. </li><li>  Improved reliability of PKI authentication algorithm. </li></ul><br><h1>  New plugins </h1><br>  <b>Veeam Plug-in for SAP HANA</b> - Helps you use the BACKINT interface to back up and restore HANA databases to / from the Veeam repository.  Implemented HCI SAP HANA support.  Solution certified by SAP. <br><br>  <b>Veeam Plug-in for Oracle RMAN</b> - allows you to use <i>RMAN manager</i> to backup and restore Oracle databases to / from Veeam repository.  (It is not necessary to replace the existing integrated integration based on OCI.) <br><br><h1>  Additional features </h1><br><ul><li>  Experimental block cloning support for deduplicated files on Windows Server 2019 ReFS.  To activate this feature in the registry of the Veeam backup server, you need to find the <b>HKEY_LOCAL_MACHINE \ SOFTWARE \ Veeam \ Veeam Backup and Replication</b> key and create the <b>ReFSDedupeBlockClone (DWORD) value</b> . </li><li>  The setup now includes Microsoft SQL Server 2016 SP1. </li><li>  JSON support is implemented for working with RESTful API. </li></ul><br><h1>  What else to read and see </h1><br>  <a href="https://www.veeam.com/ru/veeam_backup_9_5_datasheet_ds.pdf">Solution Overview (in Russian)</a> <br>  <a href="https://www.veeam.com/ru/products-edition-comparison.html">Comparison of editions (in Russian)</a> <br>  User Guide (in English) for <a href="https://helpcenter.veeam.com/docs/backup/vsphere/overview.html%3Fver%3D95u4">VMware</a> and <a href="https://helpcenter.veeam.com/docs/backup/hyperv/overview.html%3Fver%3D95u4">Hyper-V</a> </div><p>Source: <a href="https://habr.com/ru/post/438714/">https://habr.com/ru/post/438714/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
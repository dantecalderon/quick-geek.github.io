<div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/8d/ia/vy/8diavyafepslz6tteaqyuo4ndhw.png"></div><br>  Important changes may occur in the upcoming versions of Firefox and Chromium. <br><br>  Firstly, in Firefox 66 for desktops, the default is to automatically block video and sound on all pages.  The Mozilla Hacks blog <a href="https://hacks.mozilla.org/2019/02/firefox-66-to-block-automatically-playing-audible-video-and-audio/">warns</a> developers <a href="https://hacks.mozilla.org/2019/02/firefox-66-to-block-automatically-playing-audible-video-and-audio/">in advance</a> .  Video and audio playback is permitted only through the <code>HTMLMediaElement</code> API and only after the <b>user interacts with the page</b> (click of a mouse, pressing a button, or touching the touchscreen). <br><br>  Even more interesting changes can occur in Chromium. <br><a name="habracut"></a><br>  At the same time allowed to automatically play a video with muffled sound.  For such content you need to set the “muted” attribute to true for <code>HTMLMediaElement</code> .  The screenshot shows that users can manually turn off the sound blocking for individual sites. <br><br>  In Firefox for Android, the new implementation will replace the existing auto-play blocking mechanism. <br><br>  Technically, Firefox blocks the <code>play()</code> call from <code>HTMLMediaElement.play()</code> , returning the <code>NotAllowedError</code> error.  All browsers with similar functionality do the same.  Accordingly, web developers should not assume that the <code>play()</code> call will always be successful.  To avoid blocking, two options are recommended.  The first is to launch content playback in conjunction with an event handler, for example, <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent">KeyboardEvent</a> on the desktop or <a href="https://developer.mozilla.org/en-US/docs/Web/Events/touchend">touchend</a> under Android.  Second: start autoplay without sound (it is allowed by default) and show the user a button to turn on the sound. <br><br>  The final version of Firefox 66 is scheduled for release on <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox">March 19, 2019</a> , so developers have time to prepare. <br><br>  Mozilla is now working on automatic blocking of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">Web Audio</a> content: it is promised until the end of 2019. <br><br><h1>  Budget for web pages </h1><br>  Changes in Chromium are still under discussion.  Not the fact that the corresponding kommit will include in the main branch.  But the idea is very interesting. <br><br>  On February 4, 2019, one of the developers, Alex Russell, introduced <a href="https://chromium-review.googlesource.com/c/chromium/src/%2B/1265506">commit 1265506 (“Never-Slow Mode”)</a> .  He proposes to introduce into the browser an additional mode <code>--enable-features=NeverSlowMode</code> , which will <b>limit the budget of each web page</b> , thereby ensuring fast loading. <br><br>  Alex Russell - one of the leading developers of Chrome, Blink and the web platform at Google, the author of the article “Can you afford it?  The budget of web productivity in the real world "which <a href="https://habr.com/ru/post/345212/">transfer</a> was published on Habré. <br><br><img src="https://habrastorage.org/webt/rt/2-/gb/rt2-gbw9vt3s5pwuip3tueoesou.png"><br>  <i><font color="gray">Illustration from the <a href="https://habr.com/ru/post/345212/">article by</a> Alex Russell</font></i> <br><br>  <b>Proposed budget:</b> <br><br><ul><li>  The size of one picture: 1 MB <br></li><li>  Volume of all pictures: 2 MB <br></li><li>  One CSS style sheet: 100 KB <br></li><li>  All CSS style sheets: 200 KB <br></li><li>  Maximum script size: 50 KB </li></ul><br>  Naturally, the user will include this feature as desired.  For example, if it works through a slow Internet connection, on a weak device (an outdated computer), etc. A budget constraint ensures fast loading and the absence of brakes, but it increases the likelihood that the page will not load to the end. <br><br>  Obviously, the budget should be reviewed periodically, focusing on page load time. <br><br><h1>  Obesity sites </h1><br>  Page budgeting is a sensible idea.  Many users and specialists note that over the years, programs and web applications have not become faster at all, despite a significant increase in computer performance. <br><br>  For some reason, application requests grow faster than hardware performance.  As a result, every year the <a href="https://habr.com/ru/post/423889/">software becomes slower</a> , and <a href="https://habr.com/ru/post/278655/">websites are</a> <a href="https://habr.com/ru/post/423889/">getting</a> <a href="https://habr.com/ru/post/278655/">fat</a> . <br><blockquote>  The trend is that the software does not become faster and more functional.  We get faster hardware, on which software with the same functions is turned more slowly than before.  Everything works much slower than the maximum speed.  Have you ever wondered why your phone boots from 30 to 60 seconds?  Why can't it boot, say, in one second?  There are no physical limitations.  Personally, I would like this.  I want the developers to reach the limit, using every bit for performance.  - From the article <a href="https://habr.com/ru/post/423889/">“My disappointment in software”</a> </blockquote>  Perhaps the budget of the web pages will help solve the problem if other Chromium developers agree to Russell’s commit. <br><br><hr><br> <a href="https://clck.ru/EhoeK"><img src="https://habrastorage.org/webt/1z/ee/y0/1zeey0n_oamytquvhui2rpjuyzu.jpeg"></a> </div>
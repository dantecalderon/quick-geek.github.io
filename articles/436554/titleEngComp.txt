Transferring 30,000 lines of code from Flow to TypeScript
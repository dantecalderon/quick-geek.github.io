<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HX711 ADC from 3.3V - do not trust the Chinese documentation and not only</title>
  <meta name="description" content="Enthusiasts who use this module for assembling electronic scales "by default", with a five-volt power supply, have no problems. 


 I once again encou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>HX711 ADC from 3.3V - do not trust the Chinese documentation and not only</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/09b/f5c/4fc/09bf5c4fce49af265b05ca9943b704a7.jpg" alt="Converter fee"></p><br><p>  Enthusiasts who use this module for assembling electronic scales "by default", with a five-volt power supply, have no problems. </p><br><p>  I once again encounter inconsistencies in the manual - well, well, the linear regulator burns at half the input voltage, or the settings of the Ai-Thinker module are not saved, but mixing up the formula in the documentation is a brute force. </p><br><p>  About the modification of the 24-bit ADC converter board for battery-powered operation under the cut. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d96/48e/79a/d9648e79a887aeada174c9679fc7ec20.jpg" alt="Actually, the error"></p><br><p>  To eliminate the need for an external stabilized voltage source, the microcircuit contains an internal reference regulator (1.25V). </p><br><p>  The voltage applied to the Wheatstone measuring bridge (strain gauges) is set by a voltage divider on R1, R2 (the first photo). </p><br><p>  The correct formula is Vavdd = Vbg * (R1 + R2) / R2, where Vbg is 1.25V. </p><br><p>  With the default values ‚Äã‚Äãof 20k and 8.2k, 4.2V is applied to the sensors, that is, when the supply voltage of the circuit is below 4.3V (according to the documentation), we will get false weights, walking with a power supply drawdown. </p><br><p>  In order for the circuit to work correctly from 3.3V, you need to reduce the nominal value of R1 (the upper one in the resistor pattern), then the bridge will be supplied with lower voltage. </p><br><p>  It seemed to be the end of a fairy tale, <a href="https://hackaday.io/project/1741-honeybee-hive-monitoring/log/9780-modifying-the-hx711-breakout-board-for-33v-operation">especially since they already wrote about such a modification</a> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/246/6a5/494/2466a5494cdfb847e366e92e6df17024.jpg" alt="The planet that was not"></p><br><h3 id="no-net-zemlya-uzhe-ne-ta">  But no, the "earth" is not the same! </h3><br><p>  From the first days of the radio circle we were taught that the "mass" is in the general scheme! </p><br><p>  Chinese apparently not. </p><br><p>  As a result, having become the test leads of the tester to the power outputs of the bridge E + and E-, the picture against the use of the input ground line changes. </p><br><p>  Maybe this is due to the specifics of the wiring of this particular board, but the voltage drop is 750mV (and not 100, as in the dock). </p><br><p>  Thus, if you follow the advice of the article, and solder instead of 20k, ten, the voltage on the bridge will begin to sink already from 3.5V. </p><br><p>  Output - in the divider on R1, R2 use the same ratings, then the bridge will be powered from 2.5V, and work stably when the input voltage drops to 3.25V. </p><br><p>  Ask - why such difficulties? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/bb0/555/3f9/bb05553f9fb11ef00ae30a92be52839b.jpg" alt="Debug stand"></p><br><p>  It's simple - I still collect the hive monitoring system (in the photo is the debugging booth). </p><br><p>  The beekeepers convinced me that first of all the mass was important to them. </p><br><p>  As a result, I decided to start making simple autonomous SMS scales for 3 beehives at once. </p><br><p>  The circuit normally falls asleep, the most battery eater - GSM-module - all the iron consumes ~ 1.8mA with a good signal from the service provider. </p><br><p>  But the main point is that the information on the HX711 module may be useful to Kulibin, who are not interested in bees, and therefore wrote a separate article. </p><br><p>  PS A "mission control center" I will describe separately in the near future. </p><br><h3 id="upd---vyvod---ne-pokupayte-takuyu-platu-voobsche">  UPD - CONCLUSION - DO NOT BUY SUCH PAYMENT AT ALL !!! </h3><br><p>  Just like in the photo - E- is not connected to GND, instead of 100 Ohm resistors to all measuring inputs (4 pieces), there are 1.2k each for A +, B +. </p><br><p>  I looked at the photos of other modules on the HX711 - which is green, that red - everything is in order - and by the number of elements and by nominal. </p><br><p>  Visually it is easy to distinguish - the entire back side of a normal board is a conductor (ground) to which E- and GND are connected, there are options with a screen, which is preferable. </p><br><p>  PPS, for normal operation of the bridge voltage regulator when powered from 3.3V, R1, R2 (near the transistor), solder to resistors of the same rating of 2-10k </p><br><p>  Until new meetings on the pages of Habr, Andrew. </p></div><p>Source: <a href="https://habr.com/ru/post/438772/">https://habr.com/ru/post/438772/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
<div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/9a1/0b2/dcf/9a10b2dcfd4ac4cecec5187bde957a69.png" align="left">  We no longer control our home directories. <br><br>  In my own 25 regular files and 144 hidden.  Dotfiles store data that does not belong to me: they belong to programmers whose programs decide to capture my space, which is intended for storing my personal files. <br><br>  I can not remove these files to another place.  If I try to remove them, they will appear again.  All I can do is sit and know that in the dark, behind the scenes, they are.  Waiting in silence.  Some of these programmers decided to additionally place here a few regular files and directories.  They are clearly visible every time I run <code>ls</code> .  I have no idea how the <code>node_modules</code> directory, <code>package-lock.json</code> , <code>yarn.lock</code> (I never deliberately even <code>yarn</code> !), Some two strange log files from some Java program got into my personal folder, explicitly using the H2 database, and the <code>Desktop</code> folder.  The latter was created by Steam, which is rather unfortunate, since there is simply no desktop or any desktop on my machine.  I'm afraid of the day when I hear a loud knock at the door - and one of these programmers will burst in and tell you that he is going to keep some of his furniture in the middle of my living room, if I do not mind. <br><a name="habracut"></a><br>  For those of you who read this: I implore you.  Do not create files or folders of any type in the <code>$HOME</code> user directory to store your configs or data.  This practice is at least strange, and it's time to stop it.  I'm sorry to say that many, if not most programs are guilty of this, while there are significantly better places to store each user's data. <br><br>  Even if we can never solve this problem - because of historical heritage, backward compatibility, old software versions, or programmers-villains who store files where they want, simply because of harm - we can at least try to follow sane practices.  Although the <a href="https://plus.google.com/%2BRobPikeTheHuman/posts/R58WgWwN9jp">conceptual mistake of introducing "hidden" files is</a> no longer canceled, we can at least mitigate its consequences. <br><br>  This particular problem has been noticed and solved long ago with the creation of the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">Specification for the location of base directories (XDG)</a> .  It defines a set of environment variables that point programs to the directory in which the data or configuration should be stored.  These variables are set by the user, so if they are not specified, the program should use the default directory defined by default, not the user's home directory. <br><br><h1>  User environment variables </h1><br><h3>  $ XDG_DATA_HOME </h3><br><blockquote>  <code>$XDG_DATA_HOME</code> specifies the base directory in which user data files should be stored.  If <code>$XDG_DATA_HOME</code> not defined or contains a <code>$XDG_DATA_HOME</code> value, then the default value should be <code>$HOME/.local/share</code> . </blockquote><br>  Example of use: storage of plug-ins uploaded by the user, databases created by the program, input history, bookmarks, emails, and so on. <br><br><h3>  $ XDG_CONFIG_HOME </h3><br><blockquote>  <code>$XDG_CONFIG_HOME</code> specifies the base directory in which user configuration files should be stored.  If <code>$XDG_CONFIG_HOME</code> not defined or contains a <code>$XDG_CONFIG_HOME</code> value, then the default value of <code>$HOME/.config</code> should be used. </blockquote><br>  This directory should be used to store custom program configuration files.  When you first run the program, it is probably wise to create a file with reasonable defaults. <br><br><h3>  $ XDG_CACHE_HOME </h3><br><blockquote>  <code>$XDG_CACHE_HOME</code> specifies the base directory in which non-essential (cached) user data should be stored.  If <code>$XDG_CACHE_HOME</code> not defined or contains a <code>$XDG_CACHE_HOME</code> value, then the default value of <code>$HOME/.cache</code> should be used. </blockquote><br>  Example: caching of preview images from a file manager, songs that a user often listens to through a streaming service, and so on.  The program should continue to function without any problems, if this directory is deleted by the user.  Make sure unnecessary files are properly deleted.  Remember that exceeding your files a reasonable amount of disk space is likely to upset the user, who quickly find the culprit in the face of your program. <br><br><h3>  $ XDG_RUNTIME_DIR </h3><br><blockquote>  <code>$XDG_RUNTIME_DIR</code> specifies the directory in which non-essential runtime files and other objects should be stored (for example, sockets, named pipes ...). </blockquote><br>  The specification lists a number of requirements for this catalog.  Indicated that it should be used to store sockets and other files that are used in communications. <br><br><h1>  System variables </h1><br><h3>  $ XDG_CONFIG_DIRS </h3><br><blockquote>  <code>$XDG_CONFIG_DIRS</code> determines the preference order for the base directories in which configuration files will be searched, in addition to <code>$XDG_CONFIG_HOME</code> .  Directories in the <code>$XDG_CONFIG_DIRS</code> variable must be separated by a colon. <br><br>  If <code>$XDG_CONFIG_DIRS</code> not defined or contains a <code>$XDG_CONFIG_DIRS</code> value, then the default value should be <code>/etc/xdg</code> . </blockquote><br>  This directory should be used for system-level configuration files.  This configuration can be overridden by user configuration files.  Most likely, this directory is used during the installation process. <br><br><h3>  $ XDG_DATA_DIRS </h3><br><blockquote>  <code>$XDG_DATA_DIRS</code> determines the order of preference for the base directories in which data files will be searched, in addition to <code>$XDG_DATA_HOME</code> .  Directories in the <code>$XDG_DATA_DIRS</code> variable must be separated by a colon. <br><br>  If <code>$XDG_DATA_DIRS</code> not defined or contains a <code>$XDG_DATA_DIRS</code> value, then the default value should be <code>/usr/local/share/:/usr/share/</code> . </blockquote><br>  Example: saving plugins or themes used by all users.  Most likely, this directory is used during the installation process. <br><br><h1>  How does it work in practice? </h1><br>  Using the standard is very simple.  Read the corresponding variable, and if it is missing, use the default paths defined by the standard.  There, create a directory for the program and store your data. <br><br>  For example, store configuration files in the <code>$XDG_CONFIG_HOME/your-program</code> directory, and not just in <code>$XDG_CONFIG_HOME</code> .  And never write the default path in the program from the standard, but first read the environment variable to allow the user to define these directories if necessary. <br><br>  You can easily migrate existing programs to use this standard.  To do this, when creating new files, start using the standard, but continue to check the old location of the files as they are read.  This will allow you to perform the migration without disturbing the program for users with configuration files or data created by a previous version of the program. <br><br>  Read the standard to learn more and take a look at the directory hierarchy that is almost certainly already present in your home directory.  In reality, a cross-platform library is available for your programming language, allowing you to define a directory for storing your data.  On Linux and similar systems, this library will most certainly use the Specification for the location of base directories. </div>
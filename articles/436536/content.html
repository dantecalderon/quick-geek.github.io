<div class="post__text post__text-html js-mediator-article">  Microsoft and Docker have <a href="https://blog.docker.com/2018/12/announcing-cloud-native-application-bundle-cnab/">developed</a> an open specification Cloud Native Application Bundle (CNAB).  It describes a universal way of packaging container applications for working in hybrid environments.  Further we will tell why CNAB was needed and what it is. <br><br> <a href="https://habr.com/ru/company/it-grad/blog/436536/"><img src="https://habrastorage.org/webt/pk/2j/pf/pk2jpfx48u10lbf0zqbrvulayrm.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ photo <a href="https://www.flickr.com/photos/tsuna72/5939008153">tsuna72</a> <a href="https://creativecommons.org/licenses/by/2.0/">CC BY</a></i></font> <br><br><h2>  What is CNAB? </h2><br>  The Cloud Native Application Bundle is a specification that describes how to pack the components (APIs, virtual machines, containers) necessary to run cloud applications in distributed environments.  At first glance, this task should be solved by Docker itself.  However, <a href="https://www.theregister.co.uk/2018/12/04/docker_microsoft_cnab/">it is known</a> that in the case of large-scale hybrid infrastructures, its standard functions are not enough. <br><br>  Thus, CNAB is an attempt to unify the process of packaging, scanning and managing the life cycle of distributed applications based on Kubernetes, Helm, Swarm, and others, using a single packet format.  These packages are based on JSON and OpenPGP. <br><br>  Using the Cloud Native Application Bundle, the developer gets the opportunity to deploy his application both on a local workstation and in a public cloud.  Each of the IT giants presented their tool, which demonstrates the capabilities of the specification.  At Microsoft, this decision was the <a href="https://github.com/deislabs/duffle">Duffle</a> client, and at Docker, the <a href="https://github.com/docker/app/releases/tag/cnab-dockercon-preview">Docker app</a> . <br><br><h2>  Examples </h2><br>  As we said above, the specification defines a method for packaging distributed applications of various formats.  CNAB includes a <a href="">package definition</a> (bundle.json) to describe the application, as well as a special image ( <a href="">invocation image</a> ) for installing it.  The package definition looks like this (an example of the description is in the <a href="">official repository on GitHub</a> ): <br><br><pre><code class="xml hljs">{ "schemaVersion": "v1.0.0-WD", "name": "helloworld", "version": "0.1.2", "description": "An example 'thin' helloworld Cloud-Native Application Bundle", "maintainers": [ { "name": "Matt Butcher", "email": "technosophos@gmail.com", "url": "https://example.com" } ], "invocationImages": [ { "imageType": "docker", "image": "technosophos/helloworld:0.1.0", "digest": "sha256:aaaaaaa..." } ], "images": [ { "image": "technosophos/microservice:1.2.3", "description": "my microservice", "digest": "sha256:aaaaaaaaaaaa...", "uri": "urn:image1uri", "refs": [ { "path": "image1path", "field": "image.1.field" } ] } ], "parameters": { "backend_port" : { "type" : "int", "defaultValue": 80, "minValue": 10, "maxValue": 10240, "metadata": { "description": "The port that the back-end will listen on" } } }, "credentials": { "kubeconfig": { "path": "/home/.kube/config", }, "image_token": { "env": "AZ_IMAGE_TOKEN", }, "hostkey": { "path": "/etc/hostkey.txt", "env": "HOST_KEY" } } }</code> </pre> <br>  This block describes the parameters of the package with the application and provides information on where to “search” installed images (the format should be docker or oci).  Additionally, the definition specifies the size of the image in bytes, the platform on which it will work, as well as the architecture and operating system. <br><br>  And this is how the image itself is described directly: <br><br><pre> <code class="xml hljs">"invocationImages": [ { "imageType": "docker", "image": "technosophos/helloworld:0.1.0", "digest": "sha256:aca460afa270d4c527981ef9ca4989346c56cf9b20217dcea37df1ece8120685" } ]</code> </pre><br>  Its task is to install the components necessary for the work.  These components can be containers, functions, virtual machines, and service frameworks. <br><br>  Developers from Microsoft prepared a separate <a href="https://www.youtube.com/watch%3Fv%3D26e5-UK4YRA">video</a> in which they told how to work with the standard and gave a few examples on real code. <br><br><h2>  What the IT community thinks </h2><br>  CNAB is not the only solution for managing application lifecycle in cloud environments.  For example, for the same Kubernetes there is a Crossplane manager and a package manager Helm.  However, CNAB is the first solution, which covers several popular tools at once and does not depend on the platform.  By the way, CNAB can also work with Helm: there is even an <a href="https://github.com/deislabs/bundles/tree/master/hellohelm">appropriate example</a> on GitHub. <br><br>  Because of this versatility, the IT community has met the emergence of a new specification with enthusiasm.  One of Kubernetes founders, Brendan Burns (Brendan Burns), <a href="https://twitter.com/brendandburns/status/1069994276455514112">noted</a> that installing distributed applications using CNAB resembles installing an application from an ordinary USB flash drive.  According to him, it is just as easy. <br><br>  But not everyone is confident in the success of the new solution.  Some users are worried that CNAB is waiting for the fate of other package managers who, due to the lack of operators (as in Kubernetes), have been forgotten.  To dispel doubts and discuss all possible functions, one of the decision makers joined the <a href="https://news.ycombinator.com/item%3Fid%3D18600953">thematic thread on Hacker News</a> .  He answered all questions from residents of the site and listened to suggestions for development. <br><br>  So far, CNAB <a href="https://www.zdnet.com/article/cnab-docker-and-microsofts-cloud-native-application-bundle/">is in the active development stage</a> .  Both Microsoft and Docker invite all developers to join them to finalize the specification and release it into production.  A couple of IT giants intend to make the new tool the industry standard.  At the same time, representatives of both companies hope that, over time, the Cloud Native Application Bundle will develop independently, regardless of its creators. <br><br><hr><br>  Posts from our corporate blog: <br><br><ul><li>  <a href="https://iaas-blog.it-grad.ru/novosti/kak-dela-u-vmware-obzor-novyx-reshenij/">"How are VMware?": A review of new solutions</a> </li><li>  <a href="https://iaas-blog.it-grad.ru/tendencii/besservernye-vychisleniya-v-oblake-trend-sovremennosti-ili-neobxodimost/">Serverless computing in the cloud - a trend of modernity or necessity?</a> </li><li>  <a href="https://iaas-blog.it-grad.ru/tendencii/pochemu-korporativnye-zakazchiki-ispolzuyut-virtualnye-mashiny-a-ne-kontejnery/">Why corporate customers use virtual machines, not containers</a> </li></ul><br>  Posts from our Telegram channel: <br><br><ul><li>  <a href="https://t.me/iaasblog/187">IT architecture of the future - who prepares for it and how</a> </li><li>  <a href="https://t.me/iaasblog/186">Blockchain in the work of a cloud provider - 3 areas of application</a> </li></ul></div>
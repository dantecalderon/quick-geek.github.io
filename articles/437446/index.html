<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Apache Kafka and RabbitMQ: Semantics and Message Delivery Guarantee</title>
  <meta name="description" content="We have prepared a translation of the next part of a multi-part article, which compares the functionality of Apache Kafka and RabbitMQ. This publicati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Apache Kafka and RabbitMQ: Semantics and Message Delivery Guarantee</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/9w/ar/yb/9warybopprmxno4cvxzuvswgexu.jpeg"><br><br>  We have prepared a translation of the next part of a multi-part article, which compares the functionality of Apache Kafka and RabbitMQ.  This publication deals with the semantics and guarantees of message delivery.  Please note that the author took into account Kafka before version 0.10 inclusive, and in version 0.11 appeared exactly-once.  Nevertheless, the article remains relevant and full of useful points from a practical point of view. <br>  Previous parts: <a href="https://habr.com/ru/company/itsumma/blog/416629/">first</a> , <a href="https://habr.com/ru/company/itsumma/blog/418389/">second</a> . <br><a name="habracut"></a><br>  Both RabbitMQ and Kafka offer robust message delivery guarantees.  Both platforms offer guarantees on the principles of ‚Äúat a maximum single delivery‚Äù and ‚Äúat least a single delivery‚Äù, but with the principle of ‚Äústrictly one-time delivery‚Äù, Kafka guarantees operate under a very limited scenario. <br><br>  First, let's figure out what these guarantees mean: <br><br><ul><li>  At-most-once delivery (‚Äúat a maximum single delivery‚Äù).  This means that the message cannot be delivered more than once.  In this case, the message may be lost. </li><li>  At-least-once delivery (‚Äúat least one-time delivery‚Äù).  This means that the message will never be lost.  In this case, the message can be delivered more than once. </li><li>  Exactly-once delivery (‚Äústrictly one-time delivery‚Äù).  Holy Grail message systems.  All messages are delivered strictly once. </li></ul><br>  The word ‚Äúdelivery‚Äù here is likely to be an incomplete term.  It would be more accurate to say ‚Äúprocessing‚Äù.  In any case, we are now interested in whether the consumer can process messages and on what basis this happens: ‚Äúno more than one‚Äù, ‚Äúno less than one‚Äù, or ‚Äústrictly once‚Äù.  But the word ‚Äúprocessing‚Äù complicates perception, and the expression ‚Äústrictly one-time delivery‚Äù in this case will not be a precise definition, because it may be necessary to deliver the message twice in order to properly process it once.  If the recipient has disconnected during processing, it is required that the message be sent a second time to the new recipient. <br><br>  The second.  Discussing the issue of message processing, we approach the topic of partial failures, which is a headache for developers.  There are several stages in the processing of a message.  It consists of communication sessions between the application and the message system at the beginning and at the end and the operation of the application itself with the data in the middle.  Partial application failure scenarios must be processed by the application itself.  If the operations performed are completely transactional and the results are formulated on the ‚Äúall or nothing‚Äù principle, partial failures in the application logic can be avoided.  But often, many steps involve interfacing with other systems where transactionality is impossible.  If we include interrelationships between messaging systems, applications, the cache, and the database, can we guarantee that the processing is ‚Äústrictly once‚Äù?  The answer is no. <br><br>  The ‚Äústrictly once‚Äù strategy is limited to the scenario in which the only recipient of the processed messages is the messaging platform itself, and the platform itself provides full-fledged transactions.  In this limited scenario, you can process messages, write them, send signals that they are processed as part of a ‚Äúall or nothing‚Äù transaction.  This is provided by the Kafka Streams library. <br><br>  But if message processing is always idempotent, you can avoid the need to implement the strategy ‚Äústrictly once‚Äù through transactions.  If the final processing of messages is idempotent, you can easily accept duplicates.  But not all actions can be implemented idempotently. <br><br>  <b>End-to-end notification</b> <br><br>  What is not represented in any devices of all messaging systems with which I have worked is a thorough confirmation.  If we consider that in RabbitMQ a message can be delivered in several queues, end-to-end notification does not make sense.  At Kafka, similarly, several different groups of recipients can read information simultaneously from one topic.  In my experience, pass-through notification is what people who are new to the concept of messaging ask most often.  In such cases, it is better to immediately explain that this is impossible. <br><br>  <b>Chain of responsibility</b> <br><br>  By and large, the sources of messages can not know that their messages are delivered to recipients.  They can only know that the messaging system took their messages and took responsibility for ensuring their safe storage and delivery.  There is a chain of responsibility that starts with the source, goes through the messaging system and ends at the recipient.  Everyone must correctly perform their duties and clearly convey the message to the next.  This means that you, as a developer, should competently design your applications to prevent the loss or incorrect use of messages while they are under your control. <br><br>  <b>Message Transfer Order</b> <br><br>  This article focuses primarily on how each platform provides for sending at least one and no more than one strategies.  But there is still a messaging procedure.  In the previous parts of this series, I wrote about the order in which messages are transmitted and how they are processed, and I advise you to turn to these parts. <br><br>  In short, both RabbitMQ and Kafka provide a guarantee of the order of a simple sequence (first in first out, FIFO).  RabbitMQ maintains such an order at the queue level, and Kafka maintains this order at the segment allocation level.  The implications of such design decisions have been considered in previous articles. <br><br>  <b>Delivery guarantees in RabbitMQ</b> <br><br>  Delivery guarantees are provided: <br><br><ul><li>  reliability of messages - they will not disappear while being stored on RabbitMQ; </li><li>  message notifications - RabbitMQ exchanges signals with senders and receivers. </li></ul><br><h4>  Reliability components </h4><br>  <b>Queue mirroring</b> <br><br>  Queues can be mirrored (replicated) on many nodes (servers).  For each queue, a leading queue is provided at one of the nodes.  For example, there are three nodes, 10 queues and two replicas per queue.  10 control queues and 20 replicas will be distributed over three nodes.  The distribution of control queues across nodes can be configured.  In case of node hangup: <br><br><ul><li>  instead of each leading queue on a hung node, a replica of this queue is provided on another node; </li><li>  on other nodes, new replicas are created to replace lost replicas on the outgoing node, thereby maintaining the replication factor. </li></ul><br>  We are talking about fault tolerance in the next part of the article. <br><br>  <b>Reliable queues</b> <br><br>  There are two types of queues on RabbitMQ: reliable and unreliable.  Reliable queues are written to disk and saved when the node is rebooted.  When the node starts, they are overridden. <br><br>  <b>Resistant Posts</b> <br><br>  If the queue is reliable, it does not mean that its messages are saved when the node is restarted.  Only messages marked sender by the sender will be restored. <br><br>  When working on RabbitMQ, the more reliable the message, the lower the performance possible.  If there is a stream of real-time events and it is not critical to lose several of them or a small time period of the stream, it is better not to apply queue replication and transmit all messages as unstable.  But if it is undesirable to lose messages due to node failure, it is better to use robust replication queues and robust messages. <br><br><h4>  Message Receive Notifications </h4><br>  <b>Messaging</b> <br><br>  Messages can be lost or duplicated during transmission.  It depends on the sender's behavior. <br><br>  <i>‚ÄúShot and forget‚Äù</i> <br><br>  The source may decide not to ask the recipient for confirmation (notification of receipt of the message to the sender) and simply send the message automatically.  Messages will not be duplicated, but may be lost (which satisfies the ‚Äúone-time delivery maximum‚Äù strategy). <br><br>  <i>Confirmations to the sender</i> <br><br>  When the sender opens a channel for the queue broker, he can use the same channel to send acknowledgments.  Now, in response to the received message, the queue broker should provide one of two things: <br><br><ul><li>  basic.ack.  Positive acknowledgment.  Message received, responsibility for it now lies on RabbitMQ; </li><li>  basic.nack.  Negative confirmation.  Something happened and the message was not processed.  Responsibility for it remains at the source.  If desired, he can send the message again. </li></ul><br>  In addition to the positive and negative notifications on message delivery, a basic.return message is provided.  Sometimes the sender needs to know not only that the message arrived in RabbitMQ, but also that it actually got into one or several queues.  It may happen that the source sends a message to the distribution system in queues (topic exchange), in which the message is not routed to any of the delivery queues.  In such a situation, the broker simply discards the message.  In some scenarios, this is normal; in others, the source must know whether the message has been cleared and act accordingly.  You can set the ‚ÄúMandatory‚Äù flag for individual messages, and if the message has not been defined in any delivery queue, the message of basic.return will be returned to the sender. <br><br>  The source may wait for confirmation after sending each message, but this will greatly reduce the performance of its work.  Instead, sources can send a steady stream of messages, setting a limit on the number of unacknowledged messages.  When the interim message limit is reached, sending will be suspended until all confirmations are received. <br><br>  Now that there are a lot of messages in transit from the sender to RabbitMQ, confirmations are grouped together to increase performance using the multiple flag.  All messages sent through the channel are assigned a monotonically increasing integer value, the ‚Äúsequence number‚Äù (Sequence Number).  The notification of the receipt of a message includes the sequence number of the corresponding message.  And if at the same time the value multiple = true, the sender must track the sequence numbers of their messages in order to know which messages were successfully delivered and which did not.  I wrote a detailed article on this topic. <br><br>  Thanks to confirmations, we avoid losing messages in the following ways: <br><br><ul><li>  re-sending messages in case of a negative notification; </li><li>  continue to store messages somewhere in case of receiving a negative notification or basic.return. </li></ul><br>  <i>Transactions</i> <br><br>  Transactions are rarely used in RabbitMQ for the following reasons: <br><br><ul><li>  Weak guarantee.  If messages are sent to multiple queues or have a mandatory icon, the continuity of transactions will not be supported; </li><li>  Poor performance </li></ul><br>  Honestly, I never applied them, they do not give any additional guarantees, except confirmations to the sender, and only increase the uncertainty about how to interpret acknowledgments of receipt of messages arising from the completion of transactions. <br><br>  <i>Communication / channel errors</i> <br><br>  In addition to notifications on receiving messages, the sender needs to keep in mind the failures of communication tools and brokers.  Both of these factors lead to a loss of communication channel.  With the loss of channels, there is no way to receive any not yet delivered notification of receipt of messages.  Here, the sender must choose between the risk of losing messages and the risk of duplicating them. <br><br>  Broker failure can occur when the message was in the buffer of the operating system or pre-processed, and then the message will be lost.  Or maybe the message was queued, but the message broker died before sending the confirmation.  In this case, the message will be successfully delivered. <br><br>  Similarly affects the situation of failure of communication.  Did a failure occur while sending a message?  Or after the message was queued, but before receiving a positive notification? <br><br>  The sender cannot determine this, so he must choose one of the following options: <br><br><ul><li>  do not re-send the message, creating the risk of losing it; </li><li>  re-send the message and create a risk of duplication. </li></ul><br>  If many sender messages are in transit, the problem becomes more complex.  The only thing the sender can do is give the recipients a hint by adding a special header to the message indicating that the message is being sent a second time.  Recipients may decide to check the messages for the presence of similar headers and, if they are found, to additionally check the received messages for duplicates (if such a check has not been done before). <br><br><h4>  Recipients </h4><br>  Recipients have two options governing notification of receipt: <br><br><ul><li>  no notification mode; </li><li>  manual notification mode. </li></ul><br>  <i>No notification mode</i> <br><br>  It is the automatic notification mode.  And he is dangerous.  First of all, because when a message gets into your application, it is removed from the queue.  This may result in the loss of a message if: <br><br><ul><li>  The connection was disconnected until the message was received; </li><li>  the message is still in the internal buffer, and the application is disabled; </li><li>  unable to process message. </li></ul><br>  In addition, we lose backpressure mechanisms as a means of controlling the quality of message delivery.  By setting the mode of sending notifications manually, you can set a prefetch (or set the level of services provided, QoS) to limit the one-time number of messages that the system has not yet confirmed.  Without this, RabbitMQ sends messages as fast as the connection allows, and this can be faster than the recipient is able to process them.  As a result, buffers overflow and memory errors occur. <br><br>  <i>Manual notification mode</i> <br><br>  The recipient must manually send notification of receipt of each message.  He can set a prefetch in case the number of messages is more than one, and process many messages at the same time.  He may decide to send a notification for each message, or he can use the multiple flag and send several notifications at the same time.  Notification grouping improves performance. <br><br>  When the recipient opens a channel, the messages going through it contain the Delivery Tag parameter, whose values ‚Äã‚Äãare an integer, monotonically increasing number.  It is included in each notification of receipt and is used as the message identifier. <br><br>  Notifications can be the following: <br><br><ul><li>  basic.ack.  After it, RabbitMQ deletes the message from the queue.  The multiple flag can be applied here. </li><li>  basic.nack.  The recipient must set the flag to tell RabbitMQ whether to reissue the message.  When re-staging the message gets to the top of the queue.  From there it is sent to the recipient again (even to the same recipient).  The basic.nack notification supports the multiple flag. </li><li>  basic.reject.  Same as basic.nack, but does not support the multiple flag. </li></ul><br>  Thus, semantically, basic.ack and basic.nack are the same when requeue = false.  Both operators mean removing the message from the queue. <br><br>  The next question is when to send receipt alerts.  If the message was processed quickly, you may want to send a notification immediately after the completion of this operation (successful or unsuccessful).  But if the message was in the RabbitMQ queue and it takes a lot of minutes to process?  Sending a notification after this will be problematic, because if the channel closes, all messages to which there were no notifications will be returned to the queue, and sending will be made again. <br><br>  <b>Connection / Message Broker Error</b> <br><br>  If the connection was terminated or an error occurred in the broker, after which the channel ceases to work, then all messages that have not been acknowledged have been received again, are queued and re-sent.  This is good because it prevents data loss, but badly, because it causes unnecessary duplication. <br><br>  The longer the recipient has a long time there are messages, the receipt of which he did not confirm, the higher the risk of re-sending.  When a message is sent again, RabbitMQ for the re-send flag is set to ‚Äútrue‚Äù.  Due to this, the recipient at least has an indication that the message may have already been processed. <br><br>  <b>Idempotency</b> <br><br>  If idempotency is required and guarantees that no message will be lost, you should embed some kind of duplicate checking or other idempotent schemes.  If checking for duplicate messages is too expensive, you can apply a strategy in which the sender always adds a special header to the resubmitted messages, and the recipient checks the received messages for the presence of such a header and a resend flag. <br><br><h4>  Conclusion </h4><br> RabbitMQ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–¥—ë–∂–Ω—ã–µ, –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –Ω–æ –µ—Å—Ç—å –º–Ω–æ–≥–æ —Å–∏—Ç—É–∞—Ü–∏–π, –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω–µ –ø–æ–º–æ–≥—É—Ç. <br><br> –í–æ—Ç —Å–ø–∏—Å–æ–∫ –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç –∑–∞–ø–æ–º–Ω–∏—Ç—å: <br><br><ul><li> –°–ª–µ–¥—É–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–µ–π, –Ω–∞–¥—ë–∂–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏, —É—Å—Ç–æ–π—á–∏–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è, —Ñ–ª–∞–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è –Ω–∞–¥—ë–∂–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äú–∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù. </li><li> –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äú–∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö. </li><li> –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø–æ—Ç–µ—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ —Ç–∞–∫ –≤–∞–∂–µ–Ω, –∫–∞–∫ –≤–æ–ø—Ä–æ—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –≤—ã—Å–æ–∫–æ–π –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏, —Ç–æ –ø–æ–¥—É–º–∞–π—Ç–µ –æ —Å–∏—Å—Ç–µ–º–∞—Ö –±–µ–∑ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è, –±–µ–∑ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞. –Ø –≤—Å—ë –∂–µ –ø—Ä–µ–¥–ø–æ—á–µ–ª –±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è, —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—É—Ç–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–µ–¥–≤—ã–±–æ—Ä–∫–∏. –ü—Ä–∏ —ç—Ç–æ–º –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ ‚Äúmultiple‚Äù. </li></ul><br> <b>–ì–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ Kafka</b> <br><br> –ì–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç—Å—è: <br><br><ul><li> –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å—é —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≤ —Å–µ–≥–º–µ–Ω—Ç–µ, –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è; </li><li> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö ‚Äî –æ–±–º–µ–Ω —Å–∏–≥–Ω–∞–ª–∞–º–∏ –º–µ–∂–¥—É Kafka (–∏, –≤–æ–∑–º–æ–∂–Ω–æ, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º Apache Zookeeper) —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º/–ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º ‚Äî —Å –¥—Ä—É–≥–æ–π. </li></ul><br> <b>–î–≤–∞ —Å–ª–æ–≤–∞ –æ –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π</b> <br><br> –û–¥–Ω–æ –∏–∑ –æ—Ç–ª–∏—á–∏–π RabbitMQ –æ—Ç Kafka –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –ø—Ä–∏ –æ–±–º–µ–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. <br><br> RabbitMQ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–∞–≥–æ–¥–∞—Ä—è: <br><br><ul><li> –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞–∂–¥—ã–µ –• —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. RabbitMQ –æ–±—ã—á–Ω–æ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–ª–∞–≥ ¬´multiple¬ª. </li><li> –£—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ¬´prefetch¬ª –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é ¬´multiple¬ª. </li></ul><br> –ù–æ –≤—Å—ë –∂–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–∞–∫–µ—Ç–∞–º–∏. –≠—Ç–æ –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–∫—É –≥—Ä—É–ø–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø—Ä–∏ –æ—Ç–º–µ—á–µ–Ω–Ω–æ–º –∑–Ω–∞—á–∫–µ ‚Äúmultiple‚Äù. –ö–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª TCP. <br><br> Kafka –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª–µ–µ —è–≤–Ω–æ–µ –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π. –ü–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª–∞–µ—Ç—Å—è —Ä–∞–¥–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ –∏–Ω–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–µ –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –¥—Ä—É–≥–∏–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤ RabbitMQ, –∫–æ–≥–¥–∞ —Å–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º —Ñ–∞–∫—Ç–æ—Ä–æ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –≤ –ø—É—Ç–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—â—ë –Ω–µ—Ç. –ß–µ–º –±–æ–ª—å—à–µ —Å–æ–æ–±—â–µ–Ω–∏–π –±—ã–ª–æ –≤ –ø—É—Ç–∏ –≤ –º–æ–º–µ–Ω—Ç —Å–±–æ—è, —Ç–µ–º –±–æ–ª—å—à–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –¥—É–±–ª–µ–π –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. <br><br> Kafka –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∞–∫–µ—Ç–∞–º–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–ª—É—á–∞—Ç–µ–ª—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–±–æ—Ç–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º, –∞ –Ω–µ –ø–æ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—â–∏–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º. –ö–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –∑–∞–∫—Ä–µ–ø–ª—ë–Ω –∑–∞ –æ–¥–Ω–∏–º –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º, –ø–æ—ç—Ç–æ–º—É –¥–∞–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã. –ù–æ –µ—Å–ª–∏ –≤–º–µ—Å—Ç–µ —Å RabbitMQ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–π API –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –±–æ–ª—å—à–∏—Ö –ø–∞–∫–µ—Ç–æ–≤, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∫—Ä–∞–π–Ω–µ –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –º–µ–∂–¥—É –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–º–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏ –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º –∑–∞–¥–µ—Ä–∂–∫–∞–º –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö. RabbitMQ –ø–æ —Å–≤–æ–µ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. <br><br> <b>–≠–ª–µ–º–µ–Ω—Ç—ã, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å</b> <br><br> <i>–†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∂—É—Ä–Ω–∞–ª–∞</i> <br><br> –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–±–æ–µ–≤ —É Kafka –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–µ–¥—É—â–∏–π-–≤–µ–¥–æ–º—ã–π –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–∞–∑–¥–µ–ª–∞ –∂—É—Ä–Ω–∞–ª–∞, –∏ –≤ —ç—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –≤–µ–¥—É—â–∏–µ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –ª–∏–¥–µ—Ä–∞–º–∏, –∞ –≤–µ–¥–æ–º—ã–µ –µ—â–µ –º–æ–≥—É—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è —Ä–µ–ø–ª–∏–∫–∞–º–∏. –õ–∏–¥–µ—Ä –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ–¥–æ–º—ã—Ö. –ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏–¥–µ—Ä, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–±–æ–π, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —Ä–µ–ø–ª–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º –∏ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, —Ç–æ–ª—å–∫–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è. <br><br> Kafka –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫ (In Sync Replicas, ISR). –ö–∞–∂–¥–∞—è —Ä–µ–ø–ª–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–ª–∏ –Ω–µ –±—ã—Ç—å –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —á—Ç–æ –∏ –ª–∏–¥–µ—Ä, –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç—Ä–µ–∑–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ (–æ–±—ã—á–Ω–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥). –û–Ω–∞ –≤—ã–ø–∞–¥–∞–µ—Ç –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –µ—Å–ª–∏ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç —ç—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—å. –¢–∞–∫–æ–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏, –ø—Ä–æ–±–ª–µ–º —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–æ–π —É–∑–ª–∞ –∏ —Ç.–¥. –ü–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è –ª–∏–¥–µ—Ä–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫. –Ø —Ä–∞—Å—Å–∫–∞–∂—É –æ–± —ç—Ç–æ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏. <br><br> <i>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è</i> <br><br> –£—á–∏—Ç—ã–≤–∞—è —Ç–æ, –∫–∞–∫ Kafka —Ö—Ä–∞–Ω–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –∏ —Ç–æ, –∫–∞–∫ –æ–Ω–∏ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º, Kafka –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è —á—Ç–µ–Ω–∏—è —Ç–æ–ø–∏–∫–∞ –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π. <br><br> <i>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞</i> <br><br> –ö–æ–≥–¥–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ–Ω –¥–∞—ë—Ç –∑–Ω–∞—Ç—å –±—Ä–æ–∫–µ—Ä—É Kafka, –∫–∞–∫–æ–≥–æ —Ä–æ–¥–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å, –∑–∞–¥–∞–≤ –æ–¥–Ω—É –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫: <br><br><ul><li> –ë–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º. Acks=0. </li><li> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ª–∏–¥–µ—Ä–æ–º. Acks=1 </li><li> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ª–∏–¥–µ—Ä–æ–º –∏ –≤—Å–µ–º–∏ —É—á–∞—Å—Ç–≤—É—é—â–∏–º–∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫–∞–º–∏. Acks=All </li></ul><br> –°–æ–æ–±—â–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ —Ç–µ–º –∂–µ –ø—Ä–∏—á–∏–Ω–∞–º, —á—Ç–æ –∏ –≤ RabbitMQ. –í —Å–ª—É—á–∞–µ —Å–±–æ—è –±—Ä–æ–∫–µ—Ä–∞ –∏–ª–∏ —Å–µ—Ç–∏ –≤–æ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏, –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é –ø—Ä–∏–¥—ë—Ç—Å—è –µ—â—ë —Ä–∞–∑ –≤—ã—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω –Ω–µ –ø–æ–ª—É—á–∏–ª (–µ—Å–ª–∏ –æ–Ω –Ω–µ —Ö–æ—á–µ—Ç, —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ –ø–æ—Ç–µ—Ä—è–Ω—ã). –ù–æ –≤–ø–æ–ª–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –±—ã–ª–∏ —É–∂–µ –ø–æ–ª—É—á–µ–Ω—ã –∏ —Å—Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã. <br><br> –û–¥–Ω–∞–∫–æ —É Kafka –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ —Ö–æ—Ä–æ—à–∞—è –æ–ø—Ü–∏—è –ø—Ä–æ—Ç–∏–≤ –ø—Ä–æ–±–ª–µ–º —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –î–ª—è –µ—ë —Ä–∞–±–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–±–ª—é–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è: <br><br><ul><li> –¥–ª—è enable.idempotence —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äútrue‚Äù, </li><li> –¥–ª—è max.in.flight.requests.per.connection —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ 5 –∏–ª–∏ –º–µ–Ω–µ–µ, </li><li> –¥–ª—è retries —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ 1 –∏–ª–∏ –≤—ã—à–µ, </li><li> –¥–ª—è acks —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äúall‚Äù. </li></ul><br> –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø—Ä–∏ –ø–∞–∫–µ—Ç–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —à–µ—Å—Ç–∏ –∏–ª–∏ –±–æ–ª–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–ª–∏ –µ—Å–ª–∏ acks=0/1 –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –¥–∞–Ω–Ω–∞—è –æ–ø—Ü–∏—è –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è. <br><br> <i>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º</i> <br><br> –ü–æ–ª—É—á–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–º–µ—â–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, —á—Ç–æ–±—ã –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è –Ω–æ–≤—ã–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å –º–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –ø—Ä–µ–¥—ã–¥—É—â–∏–π. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ ZooKeeper –∏–ª–∏ –¥—Ä—É–≥–æ–º —Ç–æ–ø–∏–∫–µ Kafka. <br><br> –ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å —Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ (—Ç–æ–ø–∏–∫–∞), —É –Ω–µ–≥–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–º–µ—â–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è: <br><br><ul><li> –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏. –ü–æ –º–µ—Ä–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å–º–µ—â–µ–Ω–∏—è. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å–æ —Å–º–µ—â–µ–Ω–∏—è–º–∏ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –∏ —Ç–∞–∫–∂–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ù–æ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–∏ —Å–±–æ–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è. –ü–æ–ª—É—á–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É—Å–ø–µ—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞–∫–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —É–ø–∞—Å—Ç—å –ø—Ä–µ–∂–¥–µ, —á–µ–º –æ–Ω —É—Å–ø–µ–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–º–µ—â–µ–Ω–∏–µ. </li><li> –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äú–∫–∞–∫ –º–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù. –ü—Ä–∏ —ç—Ç–æ–º –Ω–µ –≤–∞–∂–Ω–æ, –∫–æ–≥–¥–∞ –º–æ–≥–ª–∏ –±—ã—Ç—å —Å–±–æ–∏ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è; —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–≤–∞–∂–¥—ã, –Ω–æ –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –∏ –Ω–∞ –ø—è—Ç–æ–º —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è –ø—Ä–æ–∏–∑–æ—à—ë–ª —Å–±–æ–π, –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –æ–∫–∞–∂—É—Ç—Å—è —Ç–æ–ª—å–∫–æ 4 —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—É–¥—É—Ç —Å–±—Ä–æ—à–µ–Ω—ã, –∏ —Å–ª–µ–¥—É—é—â–∏–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å –Ω–∞—á–Ω—ë—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç—É–ø—è—Ç –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞; </li><li> –í –∫–æ–Ω—Ü–µ, –∫–æ–≥–¥–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äú–∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù. –ù–µ –≤–∞–∂–Ω–æ, –∫–æ–≥–¥–∞ –º–æ–≥–ª–∏ –±—ã—Ç—å —Å–±–æ–∏ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è, –Ω–∏ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º, –Ω–æ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –∏ –Ω–∞ –ø—è—Ç–æ–º —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è –ø—Ä–æ–∏–∑–æ—à—ë–ª —Å–±–æ–π, –≤—Å–µ –¥–µ—Å—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π –±—É–¥—É—Ç —Å—á–∏—Ç–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–º –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º, –∏ 4 —Å–æ–æ–±—â–µ–Ω–∏—è –æ–∫–∞–∂—É—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –¥–≤–∞–∂–¥—ã; </li><li> –ü–æ–æ—á–µ—Ä–µ–¥–Ω–æ. –≠—Ç–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∑–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã. </li></ul><br> –°—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Äú—Å—Ç—Ä–æ–≥–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ Kafka Streams, –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –æ—Ç Java. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Java –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ—ë. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äú—Å—Ç—Ä–æ–≥–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù, –≥–ª–∞–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –∑–∞–∫–ª—é—á–∞—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ, —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤ —Ä–∞–º–∫–∞—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äú—Å—Ç—Ä–æ–≥–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –ï—Å–ª–∏ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è –ø—Ä–æ–∏–∑–æ—à—ë–ª —Å–±–æ–π –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏–ª —Å–º–µ—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ–≤—ã–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å (—Å–æ–æ–±—â–µ–Ω–∏—è) –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –ø–∏—Å—å–º–æ. <br><br> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ Kafka Streams, —É –∫–æ—Ç–æ—Ä–æ–π –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–æ–π —Ç–æ–ø–∏–∫, –º–æ–≥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–∞–º–∫–∞—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äú—Å—Ç—Ä–æ–≥–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Kafka: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–æ–π —Ç–æ–ø–∏–∫ –∏ –∑–∞–ø–∏—Å–∞—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –º–æ–∂–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –û–±–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç —É—Å–ø–µ—à–Ω—ã, –∏–ª–∏ –æ–±–µ –±—É–¥—É—Ç –Ω–µ—É–¥–∞—á–Ω—ã. –í–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–±–æ–π –ø–æ–ª—É—á–∞—Ç–µ–ª—è, –∏ –∑–∞–ø–∏—Å—å —Å–º–µ—â–µ–Ω–∏—è, –∏ –∑–∞–ø–∏—Å—å –≤ —Ç–æ–ø–∏–∫ –ª–∏–±–æ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã (–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑), –ª–∏–±–æ –Ω–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. <br><br> <b>–û —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –∏ —É—Ä–æ–≤–Ω—è—Ö –∏–∑–æ–ª—è—Ü–∏–∏</b> <br><br> –ì–ª–∞–≤–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ Kafka —è–≤–ª—è–µ—Ç—Å—è —É–ø–æ–º—è–Ω—É—Ç—ã–π –≤—ã—à–µ —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äú—á—Ç–µ–Ω–∏–µ-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–Ω–∞–ø–∏—Å–∞–Ω–∏–µ‚Äù. –í —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–æ–≥—É—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–ø–∏–∫–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–æ–≤. –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, —Å–æ–∑–¥–∞—ë—Ç –ø–∞–∫–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π, –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é. <br><br> –ï—Å–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Äú—á–∏—Ç–∞—Ç—å –Ω–µ–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ‚Äù, –æ–Ω–∏ –≤–∏–¥—è—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–∞, –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –æ—Ç–º–µ–Ω–µ–Ω–∞). –ï—Å–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Äú—á—Ç–µ–Ω–∏–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ‚Äù, –æ–Ω–∏ –Ω–µ –≤–∏–¥—è—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã –∏–ª–∏ –æ—Ç–º–µ–Ω–µ–Ω—ã. –û–Ω–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. <br><br> –ú–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤–æ–ø—Ä–æ—Å: –∫–∞–∫ –∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Äú—á—Ç–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π‚Äù –≤–ª–∏—è–µ—Ç –Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –ø–æ—Ä—è–¥–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π? –û–Ω –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∏–∫–∞–∫. –ü–æ–ª—É—á–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —á—Ç–µ–Ω–∏–µ. –°–º–µ—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Last Stable Offset, LSO) ‚Äî —ç—Ç–æ —Å–º–µ—â–µ–Ω–∏–µ –¥–æ –ø–µ—Ä–≤–æ–π –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏; –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ —Å —É—Ä–æ–≤–Ω–µ–º –∏–∑–æ–ª—è—Ü–∏–∏ ‚Äú—á—Ç–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π‚Äù –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ –¥–∞–Ω–Ω–æ–≥–æ —Å–º–µ—â–µ–Ω–∏—è. <br><br>  <b>findings</b> <br><br> –û–±–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∏ –Ω–∞–¥—ë–∂–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. –ï—Å–ª–∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞, –≤—ã –º–æ–∂–µ—Ç–µ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –æ–±–∞ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Å—Ä–∞–≤–Ω–∏–º—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏. –ù–æ —è –¥—É–º–∞—é, —á—Ç–æ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç Kafka –∏–º–µ–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –≤ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –∞ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Å–º–µ—â–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ—Ç–µ—Ä–µ —Ç–∞–∫–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–≤—Å–µ–≥–¥–∞. <br><br><h4> –ü–æ–¥–≤–µ–¥—ë–º –∏—Ç–æ–≥–∏ </h4><br><ul><li> –û–±–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å–ø–æ—Å–æ–±–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äú–∫–∞–∫ –º–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù –∏ ‚Äú–∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞‚Äù. </li><li> –û–±–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π. </li><li> –ù–∞ –æ–±–µ–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –¥–µ–π—Å—Ç–≤—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –≤ —Å–∏–ª—É –∫–æ—Ç–æ—Ä—ã—Ö —Å–ª–µ–¥—É–µ—Ç –∏—Å–∫–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–∏—Å–∫–æ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π. Kafka –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –æ–±—ä—ë–º–∞ —Ç—Ä–∞—Ñ–∏–∫–∞. </li><li> –û–±–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∑–∞–¥–∞—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ –ø—É—Ç–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—â—ë –Ω–µ –ø–æ–ª—É—á–µ–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º. </li><li> –û–±–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Ä—è–¥–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. </li><li> Kafka –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚Äú—á—Ç–µ–Ω–∏–µ-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–Ω–∞–ø–∏—Å–∞–Ω–∏–µ‚Äù. –ü—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å –º–µ—Ä—ã –ø—Ä–æ—Ç–∏–≤ —Å–Ω–∏–∂–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã. </li><li> –í Kafka, –µ—Å–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑-–∑–∞ —Å–±–æ–µ–≤ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–º–µ—â–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–º–µ—â–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–µ—Å–ª–∏ —Ç–∞–∫–æ–π —Å–ª—É—á–∞–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω). –í RabbitMQ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —É—Ç–µ—Ä—è–Ω—ã. </li><li> Kafka –º–æ–∂–µ—Ç –ø–æ–≤—ã—Å–∏—Ç—å –ø–æ–ª—å–∑—É –æ—Ç –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–≤–æ–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –ø–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –ø–∞–∫–µ—Ç–æ–≤, –∞ –≤ RabbitMQ –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–∏–ª—É –ø–∞—Å—Å–∏–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ –ø—Ä–∏—ë–º–∞, –Ω–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/437446/">https://habr.com/ru/post/437446/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
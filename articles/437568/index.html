<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why building a company knowledge base based on mediawiki is a good idea</title>
  <meta name="description" content="Recently, Confluence and sharepoint have almost completely ruled the knowledge base market. The systems are excellent, I don‚Äôt argue, but I personally...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Why building a company knowledge base based on mediawiki is a good idea</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/dh/zj/qw/dhzjqwzjzjwymhzniywqyhzowbi.jpeg" align="left"><br><br>  Recently, Confluence and sharepoint have almost completely ruled the knowledge base market.  The systems are excellent, I don‚Äôt argue, but I personally don‚Äôt have enough flexibility and, in general, I somehow didn‚Äôt grow together: the sharepoint wiki-opportunities stayed somewhere at the 2005 level (I‚Äôm not talking about working with office documents, all good). Due to their peculiarities, with the growing number of articles, confluence was inexorably turned into a dump in which it was impossible to find anything necessary ( <a href="https://habr.com/ru/post/430500/">but maybe the problem was in me</a> ). <br><br>  Without detracting from the dignity of these systems, I would like to talk about the possibilities that <a href="https://www.mediawiki.org/wiki/MediaWiki">Mediawiki has</a> as a corporate knowledge base.  Of course, mediawiki is not suitable for everyone - there is no fashionable integration with jira / tfs / etc, transferring documents with pictures from the Microsoft Office package gives a lot of inconvenience, and it itself is written in PHP, which has recently served as a deterrent factor for some IT people .  Nevertheless, the platform is more alive than all living things and a fair amount of people are working on its development, since the <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D0%25BD%25D0%25B4_%25D0%2592%25D0%25B8%25D0%25BA%25D0%25B8%25D0%25BC%25D0%25B5%25D0%25B4%25D0%25B8%25D0%25B0">Wikimedia Foundation's</a> family of projects is based on it. <br><a name="habracut"></a><br>  By itself, the wiki is pretty stingy with the possibilities, but for her there are a lot of <a href="https://www.mediawiki.org/wiki/Manual:Extensions">extensions</a> written.  Most of the interesting functionality lies in the extensions, so that a good part of the article will be about them.  And yes, I can not fail to note that there is a special corporate version of Mediawiki - <a href="https://bluespice.com/">BlueSpice</a> , which I did not use, and therefore I cannot judge its adequacy. <br><br><div class="spoiler">  <b class="spoiler_title">Why did you get into this and who are you at all</b> <div class="spoiler_text">  Hey.  My name is Nikolai, I am a QA engineer. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">f</span><span class="MJXp-mrow" id="MJXp-Span-9"><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">e</span><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-1"> \ textbf {* sympathetic applause *} </script></p><br>  QA includes not only / not so much testing, but quality assurance in a broad sense.  And among other meanings of this widest sense, such a thing as knowledge management has become a mess.  There are quite a few abstract articles and books about the principles of Knowledge management on this topic, but surprisingly few concrete recommendations and practically applicable ideas, at least some fresh ones.  It makes me think that either everyone enjoys what the well-known companies give everyone and are happy, or do not use anything and suffer, or saw their secret bike, which is embarrassing to talk about in a decent company.  <i>I am also embarrassed, but I will tell.</i> <br></div></div><br><h2>  First, about the mediaiwki chips </h2><br>  Before talking about extensions, it is worth mentioning what the general features of mediawiki itself are.  If your account has a thousand Wikipedia edits, it‚Äôs unlikely that you will learn something new from this part, you can safely skip it. <br><br>  The first and one of the most tangible buns - <b><a href="https://www.mediawiki.org/wiki/Help:Categories">categories</a></b> .  Pages can be added to categories, the categories themselves can be added to categories.  Unlike the file structure (let's forget about symlinks), a page / category can be in several categories at once.  The use of categories prevents the growth of chaos with the increase in the number of articles.  Especially if you periodically view lists of uncategorized articles and uncategorized categories <br><br>  <b><a href="https://www.mediawiki.org/wiki/Help:Namespaces">Namespaces</a></b>  Wiki ideology says that everything is a page (even a category or image).  In order to separate the pages of different types, the idea of ‚Äã‚Äãnamespaces was added.  If desired, you can add your own namespaces to separate knowledge of different types (for example, separate namespaces for product information, utilities, guides, process descriptions, and other proprietary information). <br><br>  Also, wiki supports <b><a href="https://www.mediawiki.org/wiki/Help:Templates">templates</a></b> - wiki pages that can later be included in other pages.  Templates support working with parameters, which turns them into something more than simple text inserts: if you wish, you can write a simple script in the template language.  By the way, they say that <a href="http://mentalpolyphonics.com/posts/wikimedia-proves-greenspuns-tenth-law">the template language can be Turing complete</a> . <br><br>  In addition to templates, the <b><a href="https://www.mediawiki.org/wiki/Extension:Scribunto">Scribunto</a></b> extension allows the use of <b>lua modules</b> inside the wiki.  Modules along with templates allow you to implement many things, even without writing to your extensions. <br><br>  For example, <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD:%25D0%259D%25D0%25B0%25D0%25B2%25D0%25B8%25D0%25B3%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2582%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25B8%25D1%2586%25D0%25B0"><b>navigation tables</b></a> are based on this duet.  The navigation table is, for example, this thing, which you can usually see at the bottom of the page: <br><img src="https://habrastorage.org/webt/i5/8e/bo/i58ebo40-fx-q72ffl_aswc0ppi.png"><br><br>  Although they are not standard functionality, they have proven to be a convenient means of navigation and restoring order and are used now almost everywhere. <br><br>  I can not fail to mention <b><a href="https://www.mediawiki.org/wiki/Manual:Interface/Stylesheets">Mediawiki: Common.css</a> and <a href="https://www.mediawiki.org/wiki/Manual:Interface/JavaScript">Mediawiki: Common.js</a></b> files that allow you to add a little customization to the wiki - for larger things it is better to use extensions. <br><br><h2>  Editors </h2><br>  One of the most important parts of a wiki is the editor.  It is extremely difficult to implement a wiki if it does not have a visual editor, because only a very enterprising person will agree to learn wiki markup. <br><br><h3>  Visual editor </h3><br>  Relatively fresh extension - <a href="https://www.mediawiki.org/wiki/VisualEditor">VisualEditor</a> solves the problem with visual editing of articles.  He has his own shoals, but for most tasks it is enough.  Of the most notable problems - there is not the most convenient insertion of images. <br><br>  The appearance of the visual editor is closely linked with the advent of <a href="https://www.mediawiki.org/wiki/Parsoid">Parsoid</a> , a conversion service between Mediawiki syntax and html.  This task turned out to be extremely nontrivial due to the fact that the mediawiki syntax developed chaotically and was not strictly defined.  You can read more in the <a href="https://blog.wikimedia.org/2013/03/04/parsoid-how-wikipedia-catches-up-with-the-web/">beautiful post of the official blog</a> . <br><br>  Among the extensions that integrate with VisualEditor, you can select <a href="https://www.mediawiki.org/wiki/Extension:Graph">Graph</a> for editing graphs, <a href="https://www.mediawiki.org/wiki/Extension:Math">Math</a> for editing mathematical formulas, and <a href="https://www.mediawiki.org/wiki/Extension:SyntaxHighlight">SyntaxHighlight</a> for highlighting the syntax of code fragments. <br><br><h3>  Wikieditor </h3><br>  <a href="https://www.mediawiki.org/wiki/Extension:WikiEditor">WikiEditor</a> is a simple wikitext editor.  Some tricky things are still more convenient to do through the wikitext editor, in some places visual editing is still not supported.  Be that as it may, WikiEditor makes it easy to work with wikitext, and it's also <a href="https://www.mediawiki.org/wiki/Extension:WikiEditor/Toolbar_customization">quite simple to customize it</a> . <br><br><h3>  Editing Conflicts </h3><br>  Anyone who used Mediawiki in the past remembers how painful each resolution of editing conflicts became. <br><br>  <a href="https://www.mediawiki.org/wiki/Extension:TwoColConflict">TwoColConflict</a> with beta enabled by default greatly simplifies problem solving.  In the event of a conflict, you can look at the places where there is a conflict, and select the desired version of the disputed fragment.  If both versions are not complete, then you can add one of them.  Somehow it looks like this: <br><br><img src="https://habrastorage.org/webt/vv/uo/-c/vvuo-cllxnp3okyo0uvnjhjfezc.png"><br><br>  You can try it yourself <a href="https://ru.wikipedia.org/wiki/Special:SimulateTwoColEditConflict">on the test page</a> . <br><br><h2>  Forms for adding the same type of content </h2><br>  The <a href="https://www.mediawiki.org/wiki/Extension:Page_Forms">PageForms extension</a> allows you to add content of the same type to wikis using forms.  In my practice, I used forms to add registry keys, database tables, and other similar generic things to the wiki. <br><br><img src="https://habrastorage.org/webt/ja/xc/54/jaxc54mmicfyn7yecpvqc7ksuqs.png"><br><br>  This extension reveals its power when using <a href="https://www.semantic-mediawiki.org/wiki/Semantic_MediaWiki">Semantic Mediawiki</a> or its analogs.  Media semantic allows you to add page properties or objects with their properties to a page.  Properties are set approximately as follows (on the example of the Germany page): <br><br><pre><code class="markdown hljs">[[–ò–º–µ–µ—Ç —Å—Ç–æ–ª–∏—Ü—É::–ë–µ—Ä–ª–∏–Ω]]</code> </pre> <br>  These properties and objects can then be obtained using the <a href="https://www.semantic-mediawiki.org/wiki/Help:Inline_queries">ask request</a> or via api. <br><br>  From the properties you can display tables, build graphs and <a href="https://www.semantic-mediawiki.org/wiki/Help:Result_formats">do many other cool things</a> .  For example, in my case, on the basis of the tables added through forms, the simplest schemas of the database are built.  In this case, the scheme can be built not for the whole product, but for a specific category.  In addition to the obvious FK / PK connections, the scheme can also reflect implicit links that cannot be seen by standard charting tools. <br><br>  For registry keys, key information is pulled out of the same properties so that, based on it, it is possible to generate a .reg file with a specified value. <br><br><h2>  Category Tree </h2><br>  PageForms supports the ability to add a field with a category tree, so to add a page to the necessary categories, it will be enough just to click on the necessary checkboxes. <br><br>  On the other hand, when we already have articles categorized, we can display them on any page in the form of a tree: <br><br><img src="https://habrastorage.org/webt/jj/ig/nn/jjignnr99kcnkcjyigg_5pb-4xm.png"><br><br>  The tree is loaded dynamically, so that it works for a large number of articles, and for looped categories, if these are suddenly needed by someone. <br><br><h2>  LDAP / AD authentication </h2><br>  The <a href="">Ldap Authentication</a> extension supports domain authorization, restriction of access for certain groups, and mapping of mediawiki user groups to ldap groups.  You can configure multiple domains.  Pretty tedious in terms of configuration, but, fortunately, <a href="https://blog.ryandlane.com/2009/03/23/using-the-ldap-authentication-plugin-for-mediawiki-the-basics-part-1/">there are some pretty good instructions on the Internet</a> . <br><br><h2>  Granular access rights </h2><br>  Here everything is bad.  If the task is to restrict access to unauthorized users, then this is easy.  If among these users you need to select separate groups with special access rights, then it is difficult. <br><br>  There are many different extensions, but they do not solve the fundamental problem: mediawiki was not created as a CMS.  To support access rights, you will have to patch the Mediawiki code, adding manic <br><br><pre> <code class="php hljs">$title-&gt;userCan(<span class="hljs-string"><span class="hljs-string">'read'</span></span>)</code> </pre> <br>  in all that should not be given without checking the rights.  The same applies to all extensions: for each added extension, you will have to manually add all the necessary checks. <br><br>  For myself, I solved the problem with a self-made extension, built on the idea of <a href="https://www.mediawiki.org/wiki/Extension:PermissionACL">PermissionACL</a> and packs of patches for different extensions and mediawiki itself.  Fortunately, I did not need an advanced ACL, and primitive checks were enough for several groups. <br><br>  To support the same for images, you will have to wrap the calls to the files in <a href="https://www.mediawiki.org/wiki/Manual:Img_auth.php">Img_auth.php</a> .  And the latter uses a media streamer from mediawiki, which is not able to render <a href="httpstatuses.com/206">partial content</a> (at the time of mediawiki 1.31), so to support video playback, you will have to attach another file streamer. <br><br><h2>  Video support </h2><br>  Video support is not included in the standard <a href="https://www.mediawiki.org/wiki/Extension:TimedMediaHandler">distribution</a> , but is trivially solved by installing the <a href="https://www.mediawiki.org/wiki/Extension:TimedMediaHandler">TimedMediaHandler</a> extension.  Normal video player, nothing special.  Inserting a video on a page is absolutely similar to inserting an image. <br><br><h2>  Search </h2><br>  One of the things that annoys me personally in Confluence is the search.  The standard Mediawiki search is even worse, but fortunately there are third-party extensions.  Of the search engine extensions, the most popular ones are <a href="https://www.mediawiki.org/wiki/Extension:CirrusSearch">CirrusSearch</a> and <a href="https://www.mediawiki.org/wiki/Extension:SphinxSearch">SphinxSearch</a> .  I never used the last one, but I got to know the first one very closely, which, by the way, is also used in projects of the Wikimedia Foundation. <br><br>  CirrusSearch is based on <a href="https://www.elastic.co/">elasticsearch</a> , for the expansion to work, you will have to install an intermediate interface - the <a href="https://www.mediawiki.org/wiki/Extension:Elastica">Elastica</a> extension. <br><br>  CirrusSearch supports an <a href="https://phabricator.wikimedia.org/source/extension-cirrussearch/browse/master/docs/settings.txt">insane number of parameters</a> and is developing quite actively.  For example, I was very pleased that in the 1.32 branch I started searching for CamelCase. <br><br>  Another point that I liked was the ability to add a dictionary of synonyms.  The dictionary works well with well-established internal corporate jargon, abbreviations, typical typos or various transliterations.  But you need to write the dictionary first, which may not be the easiest task.  If you do not sharpen the dictionary for a particular company, you can try existing dictionaries in the spirit of <a href="https://wordnet.princeton.edu/">WordNet</a> , but not the fact that they fit you personally. <br><br>  The extension does not support adding synonyms at the LocalSettings <a href="https://www.mediawiki.org/wiki/Manual:LocalSettings.php">config</a> level, but it is easy to solve by editing the extension code - see <a href="https://github.com/wikimedia/mediawiki-extensions-CirrusSearch/blob/master/includes/Maintenance/AnalysisConfigBuilder.php">AnalysisConfigBuilder.php</a> and the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-synonym-tokenfilter.html">instructions for setting up synonym elasticsearch</a> . <br><br>  If you wish, you can add a search line to the main page via the <a href="https://www.mediawiki.org/wiki/Extension:InputBox">InputBox</a> extension, after which you can <a href="https://www.mediawiki.org/wiki/Manual:Enabling_autocomplete_in_a_form">attach autocompletion to the instructions</a> . <br><br><img src="https://habrastorage.org/webt/6z/di/-7/6zdi-7lupwyliwj6cmnlncbydnq.png"><br><br>  By the way, <a href="https://www.mediawiki.org/wiki/Extension:AdvancedSearch">AdvancedSearch</a> will help put in order the look of the search page, with it it will not look like a victim of a checkbox fan. <br><br><h2>  Analytics </h2><br>  It sounds ridiculous, of course, but the analyst is extremely useful even for the internal knowledge base, which is visited by a hundred people a month.  It allows you to understand how users interact with the interface, what they are looking for, what they read, what they use.  If the plans have a further development of the knowledge base, the statistics will be invaluable. <br><br>  For intranets, there is an extremely decent expansion of <a href="https://matomo.org/">Matomo</a> (ex Piwik).  The appropriate extension for integration is <a href="https://www.mediawiki.org/wiki/Extension:MatomoAnalytics">MatomoAnalytics</a> . <br><br><img src="https://habrastorage.org/webt/00/8x/f8/008xf8m_3_xwjbccjalg2cnlbgi.png"><br><br>  Matomo collects statistics on search queries, traffic sources, downloads, link clicks (you can see the frequency of link clicks superimposed on the page itself) and many other metrics.  Statistics can be collected both with reference to specific users and anonymous, so as not to embarrass anyone. <br><br><h2>  Other </h2><br>  In addition to the above, there are quite a few extensions that simply make life easier.  For example, <a href="https://www.mediawiki.org/wiki/Extension:GuidedTour">GuidedTour</a> for newbies learning the basics of working with interfaces, <a href="https://www.mediawiki.org/wiki/Extension:Popups">Popups</a> for previewing articles on hovering over a link, <a href="https://www.mediawiki.org/wiki/Extension:MultimediaViewer">MultimediaViewer</a> for more comfortably viewing full-size images and much, much more. <br><br><h2>  What is the result? </h2><br>  The listed gentleman's set of extensions covers a significant part of the need to create a knowledge base, but not all.  Mediawiki is not suitable as a universal single knowledge base.  But as a universal system, all the others also do poorly - sharepoint, confluence, outlook old school folders, the search for which takes half an hour, etc.  Mediawiki on their background is distinguished by its customization capabilities and excellent scalability. <br><br>  In contrast to all the advantages mentioned above, mediawiki constantly requires that the file be doped out of the functional for the needs of a particular company, so its administrator should be morally ready to understand php, js and lua code.  But if it doesn't scare and if you agree to share work with office documents and work with wiki articles across different platforms, mediawiki as a knowledge base can be a pretty good idea. </div><p>Source: <a href="https://habr.com/ru/post/437568/">https://habr.com/ru/post/437568/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
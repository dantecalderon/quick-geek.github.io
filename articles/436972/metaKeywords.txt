javascript, fsm, finite state machine, behavior, конечный автомат
<div class="post__text post__text-html js-mediator-article">  Greetings, Habr! <br><br>  The post is inspired by the <a href="https://habr.com/ru/post/436984/">news about the termination of support for Windows 10 mobile</a> . <br><br>  Being one time the owner of Nokia Lumia 925, I will tell about one of my handicrafts in the field of mobile development under Windows Phone 8.1. <br><a name="habracut"></a><br><h2>  Appendix: "Exchange rates of the Central Bank of the Russian Federation."  Prehistory </h2><br>  It was the end of 2014 and something <a href="https://ru.wikipedia.org/wiki/%25D0%25A7%25D1%2591%25D1%2580%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B2%25D1%2582%25D0%25BE%25D1%2580%25D0%25BD%25D0%25B8%25D0%25BA_(2014)">truly strange was</a> happening.  The dollar grew, the euro was not inferior, but a vacation in a few months was already planned and it was time to buy this currency, or at least keep an eye on it. <br><br>  Not finding anything useful on the Windows Phone Market, I decided to try to write something “for myself”. <br><br>  In the end, it is not so difficult - I made an application on my knee, flooded the assembly on the phone and you live well for yourself.  And if you like it yourself, you can download it to the market, even if it is good for others. <br><br>  PS "Nothing useful" implied filtering applications with a terrible amount of advertising (by golly, what was wrong with you?). <br><br><h3>  Version number 1 </h3><br>  <b>The goal:</b> to create a simple application with the only opportunity - to see the exchange rates in the application and create a tile on the main page <br><br>  Slightly more formal: <br><br><ol><li>  The easiest UI </li><li>  Table with the price of currency for today / tomorrow </li><li>  Ability to create a tile on the main page </li><li>  No ads </li></ol><br>  What was the result (unfortunately, the screenshots of the first versions of the tiles were not preserved): <br><br><img align="left" src="https://habrastorage.org/webt/ne/o5/9o/neo59op-j57ez2kucjybnar5xrq.png"><img align="left" src="https://habrastorage.org/webt/ln/le/st/lnlestqfurrzatagvsgbcgcffi0.png"><br><br><h4>  Intermediate service </h4><br>  Tiles are accessed by reference to a written service that accesses data from the Central Bank and caches them for a day, because  The Central Bank does not update the data more often.  Those.  The application does not work with real-time data, because  The very concept of tiles does not allow for frequent updates. <br><br>  The minimum update rate, as I recall, was around half an hour. <br><br>  Who would know how many comments and minimum stars I received for creating an application with “incorrect data!”.  Adding information about the frequency of updates in the next versions did not change the situation - users continued to periodically write about bad data. <br><br>  In addition to requests for data, the service itself allowed collecting small statistics on the use of the application.  At first, the request statistics (each tile = request) was as follows: <br><br><img src="https://habrastorage.org/webt/jc/gg/jv/jcggjvvlrltnju3xwfkzoe28nxs.png"><br><br><h3>  Version number 2 </h3><br>  <b>Purpose:</b> Comments appeared unexpectedly from users asking them to add a graph of the dynamics of changes in rates. <br><br>  What happened in the end: <br><br><img align="left" src="https://habrastorage.org/webt/pq/k9/dg/pqk9dghyc4o_oz-j2juc_96wvkq.png"><img src="https://habrastorage.org/webt/rk/uf/vl/rkufvlokyl8coga0sljjm66hkj4.png"><br><br>  <i>From the interesting: I had to pick up and rebuild the source library of graphs in order to get an application certification.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Technical details</b> <div class="spoiler_text">  Already in the process of preparing for the publication of the application, it became clear, using the Windows App Certification Kit, that there are some kernel32.dll calls inside the component.  In particular, there were two errors: <br><blockquote>  API CreateFileMappingA in kernel32.dll is not supported for this application type.  Sparrow.Chart.WinRT.45.dll calls this API. <br>  API MapViewOfFile in kernel32.dll is not supported for this application type.  Sparrow.Chart.WinRT.45.dll calls this API. <br></blockquote>  It turned out (after googling and sorting through the sources) that the component #if for the Windows phone contains the #if WPF directive.  A piece of code was not used, but it broke the certification test.  Commented out the directives, compiled and, voila, all the tests passed.  It was very unpleasant to learn about a similar error at the very end of the update release.  But lucky. <br></div></div><br>  Some statistics of requests by June: <br><br><img src="https://habrastorage.org/webt/yg/b0/9a/ygb09ajemioqdvpwdctxtglnumw.png"><br><br>  The written service issued the following information on the use of tiles: <br><br><ul><li>  125 users with 0 tiles - mainly used by the application directly </li><li>  260 users with 1 tile </li><li>  175 users with 2 tiles </li><li>  61 users with 3 tiles </li><li>  7 users with 4 tiles </li><li>  1 user with 6 tiles </li></ul><br><h3>  Version number 3 </h3><br>  <b>Purpose:</b> inspired by the requests of users (two people asked, but this is enough), I decided that to be a new design. <br><br>  What happened in the end: <br><br><img align="left" src="https://habrastorage.org/webt/uf/zr/fm/ufzrfmgazaoy2vr7aqf36nupm-o.png"><img align="left" src="https://habrastorage.org/webt/sb/zr/l0/sbzrl0k35sfrp5iueqborvxk1i8.png"><br><img align="left" src="https://habrastorage.org/webt/n7/up/vx/n7upvxclzpyt96axnwdars8_r5w.png"><img align="left" src="https://habrastorage.org/webt/32/g-/u_/32g-u_nyusbbh-njuav8yj-_h_w.png"><br><br>  Statistics: <br><br><img align="left" src="https://habrastorage.org/webt/e_/mf/sm/e_mfsmmujaavjznnjswjuun8uk0.png"><br><br>  The numbers are not exorbitant, but for me it is very nice.  Slowly but surely, the number of users increased. <br><br><h3>  Version number 4, the final </h3><br>  <b>Purpose:</b> this time was inspired by the new design of the application for VKontakte.  Yes, and MVVM had to be rewritten at last.  Yes, and courses of oil and metals add. <br><br>  What happened in the end: <br><br><img align="left" src="https://habrastorage.org/webt/dl/jg/dj/dljgdjkpevxdfyniux_g_der7ok.png"><img align="left" src="https://habrastorage.org/webt/lu/3o/dh/lu3odh6go--vicc_nd1ebxbdozo.png"><br><img align="left" src="https://habrastorage.org/webt/dj/ix/u-/djixu-ew6qxsf-rxor6dllilepy.png"><img align="left" src="https://habrastorage.org/webt/5v/ld/fi/5vldfiwjd7wf4tz988jsdpfpjdk.png"><br><img align="left" src="https://habrastorage.org/webt/zz/u5/va/zzu5vagaredjjqujcqpdtnhq4uo.png"><img src="https://habrastorage.org/webt/5g/ql/tr/5gqltrhuqlr81m_wptadtcsyzjy.png"><br><br>  It is evident that at this moment I wanted to earn some money on a voluntary donate.  It was possible to earn something around 800-900 rubles, which could not be withdrawn.  Thank you Microsoft for a minimum withdrawal size of $ 25. <br><br>  Final statistics: <br><br><img align="left" src="https://habrastorage.org/webt/ak/dx/1r/akdx1rdn2q-d1yhcgufzhmxto_e.png"><br><br><h3>  In custody </h3><br>  Later a stopwatch timer was written, but nothing interesting about it.  It just works with all the limitations of the system, of which there were a lot. <br><br>  Fuse for the development began to disappear when it began to appear more and more comments from users on Windows Phone 10 with requests to correct the size of the tiles or the specific problems of the new system.  At the same time, as my device was categorically not included in the list for updating the platform with Windows Phone 8.1.  Desires to lay out at random, testing only in the emulator, especially not. <br><br>  Then came the news that there would be no system updates at all and “buy new phones”.  And for the application it was a shame, especially considering the positive, in general, user reviews. <br><br>  On such a note and finish nostalgia development post.  Thanks for attention. </div>
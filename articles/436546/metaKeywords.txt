tdd, javascript, гибкое проектирование, рефакторинг
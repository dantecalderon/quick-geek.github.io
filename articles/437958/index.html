<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Authorization in ESIA on the terminal server with EDS according to GOST-2012</title>
  <meta name="description" content="Good afternoon, Habrovchane. 

 Colleagues working in the field of state. purchases have already experienced the mandatory requirement of the governme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Authorization in ESIA on the terminal server with EDS according to GOST-2012</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, Habrovchane. <br><br>  Colleagues working in the field of state.  purchases have already experienced the mandatory requirement of the government regarding the use of carriers with an electronic digital signature GOST R 34.10-2012.  The use of EDS according to the new State Standard is mandatory from January 1, 2019, and it is no longer possible to release EDS according to GOST 2001 for work on the portals zakupki.gov and gosuslugi.ru, and after January 1, 2020, support for EDS according to the old GOST will be completely stopped. <br><br>  How often is the state.  the site by January 1, 2018 was ready but not completely. <br><br>  To work with EDS in accordance with GOST 2012, you need to install a ‚Äúplugin for work <br>  with the portal of public services ‚Äùversion 3.0.3.0 or 3.0.6.0, but unlike the version of the plug-in 2.0.6.0, the new versions do not support working with UNC in ways (we found out in the process of numerous unhealthy experiments with different versions of plug-ins), and if you like and we use roaming profiles, then authorization on the site will not work for you;  and it will not work in any browser: IE, Google Chrome, Mozilla Firefox and even Crypto Fox. <br><br>  Long correspondence with the support of state.  services, crypto pro and contour.extern unfortunately did not help, the technical support specialists for the site of public services turned out to be extremely incompetent. <br><a name="habracut"></a><br>  Actually enough words let's do business. <br><br>  To work with the site of state.  Services in accordance with GOST 2012 with portable profiles essentially need to do 3 actions. <br><br><ul><li>  Completely remove the plugin of the old version and clean out the remnants in the system. </li><li>  Install the plug-in version 3.0.6.0 for 32-bit systems, even if you are using a 64-bit OS, copying the folder with the plugin from appdata locally. </li><li>  Manually edit the registry. </li></ul><br>  We do not forget that in order to perform the following actions with IFCPlugin, the user must be given local machine administrator rights. <br><br><ul><li>  Remove the plugin. </li></ul><br>  Remove the plugin in any way possible: through the installation, uninstall programs. <br>  Through the launch of the msi of the version that you have installed (the version can be viewed in <br>  IE add-ins or user profile folder. <br><br>  Example: <code>contoso.com\dfs\Profiles\AppData\Roaming\Rostelecom\IFCPlugin\3.0.6.0)</code> <br>  Using wmic.  CMD ‚Üí wmic ‚Üí product get name ‚Üí product where name = ‚Äùname of program‚Äù call uninstall ‚Üí Y <br><br>  Delete the entire ‚ÄúRostelecom‚Äù folder from the portable profile.  Example: <code>\\contoso.com\dfs\Profiles\%UserName%\AppData\Roaming\Rostelecom</code> <br>  In the registry, remove all balances that include ‚ÄúIFCPlugin‚Äù from the ‚ÄúHKCU‚Äù branch. <br><br>  It is also advisable to clear the cache of Internet Exprorer.  Open IE, press Ctrl + Shift + Del, confirm. <br><br><ul><li>  Download and install 32-bit IFCPlugin.msi plugin version 3.0.6.0. </li></ul><br>  After installation, you must copy the folder from the portable user profile locally to the server, for example from: <br> <code>\\contoso.com\dfs\Profiles\%UserName%\AppData\Roaming\Rostelecom</code> <br>  AT <br> <code>C:\Users\%UserName%\AppData\Roaming\Rostelecom</code> <br> <br><ul><li>  Editing the registry. </li></ul><br>  Now the most interesting thing is to find all values ‚Äã‚Äãin the registry that include <code>\\contoso.com\dfs\Profiles\%UserName%\AppData\Roaming\Rostelecom</code> and change them to <code>C:\Users\%UserName%\AppData\Roaming\Rostelecom</code> <br><br>  You should have 6 to 9 replacements. <br><br>  All is ready! <br><br>  Colleagues, congratulations to all, the plugin for working on websites with authorization through ESIA now works. <br><br><ul><li>  The author of this idea is an engineer with 10 years experience in telecommunications Miroshkin Andrey. </li></ul><br>  Testing, torment, and implementation: <br><br><ul><li>  The author of this article is Karin Elijah, a system administrator who has not yet seen such deviations in the IT world. </li><li>  And Lobkov Kirill, system administrator, with the broadest outlook and experience from the installer of the SCS to the Enterprise system administrator. </li></ul><br>  PS Yes, this is a crutch, and terrible, I am against this, but at the time of this writing, neither my colleagues nor I could find any other solution.  support also did not offer anything. <br><br>  PPS I know about the availability of the version of the administrative version of the plug-in that is installed for all users, but it didn‚Äôt work from the floor, more precisely we managed to start the user with the administrative 64-bit plug-in, but we could not achieve stable work and predictable behavior, and sabotage the work of all users on Terminal Server venture is bad, better by manual labor one by one.  If you have already installed the administrative version of the plugin, then you will need to clean and other registry branches. </div><p>Source: <a href="https://habr.com/ru/post/437958/">https://habr.com/ru/post/437958/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Putting in order playlist Torrent-TV ("Superwash")</title>
  <meta name="description" content="The torrent in the illegal service Torrent-TV (‚ÄúSuper Wash‚Äù) in the overwhelming majority are the original streams from the operators or from the sate...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Putting in order playlist Torrent-TV ("Superwash")</h1><div class="post__text post__text-html js-mediator-article">  The torrent in the illegal service Torrent-TV (‚ÄúSuper Wash‚Äù) in the overwhelming majority are the original streams from the operators or from the satellite without clamping.  These are mainly streams with interlaced video.  Torrent-TV provides the highest possible quality, but low stability.  Today there are only channels, not tomorrow.  Today, some channels work well, tomorrow is bad.  This service is not suitable for constant trouble-free use - for which you paid, i.e.  not paid, then received.  But it is great when you need to watch something with high quality (if the channel at that moment will work stably).  Another problem is the formation of a convenient personal playlist.  This is exactly what will be discussed in the article. <br><br><img src="https://habrastorage.org/webt/-q/pn/q4/-qpnq4tysuha1lgfmqtcv7uu3ha.png"><br><a name="habracut"></a><br>  The basic playlist Torrent-TV ("Superwash") contains more than 1200 channels.  All sorts of regional, different countries, duplicates of SD and HD, various garbage cans, etc. The Russian audience includes 200-300 channels.  Moreover, not everyone is comfortable with the accepted channel grouping.  It would seem that you can take a playlist from Torrent-TV, arrange it as required by the perfectionist soul.  The problem is that AceStream-links to channels change periodically, and the prepared playlist will become useless.  Those.  You need to automatically generate a new current playlist in the form convenient for you.  That is what we will do. <br><br>  <b>You will need:</b> <br><br><ul><li>  Experience setting up programs for watching Torrent-TV (‚ÄúSuper Wash‚Äù) and knowing what it is. </li><li>  A router with support for Entware (if necessary, and some skills, you can easily adapt the instructions for OpenWrt or Entware on the boxes themselves). </li></ul><br>  <b>This note does not address the questions:</b> <br><br><ul><li>  Selecting and configuring an IPTV manager. </li><li>  System settings in general to view Torrent-TV. </li><li>  Features specific Android-boxes for working with interlaced video in general and Torrent-TV in particular. </li></ul><br>  We will use the program on the router, which, when requested by the link, download the current playlist Torrent-TV, form a new playlist from it and give it away: <br><br><ul><li>  Your own channel list based on a prepared list of favorite channels. </li><li>  You can automatically exclude SD channels if there are HD matches for them. </li><li>  Sort groups and their names according to your desire. </li><li>  Displayed channel names as you wish. </li><li>  Sort channels in the group by HD / SD (primary) and name. </li><li>  Embedded links to EPG sources. </li><li>  The source of the logos (as well as the logos themselves) and the EPG compliance for the channels of your choice. </li></ul><br><h2>  How will everything work after the setup? </h2><br>  Add a link to the playlist <a href="http://192.168.0.1:81/playlist.cgi">http://192.168.0.1:81/playlist.cgi</a> (replace 192.168.0.1 with the internal address of your router) in your IPTV manager.  Is done. <br><br><img src="https://habrastorage.org/webt/cm/on/1u/cmon1uarl1wclz_9v5zxk2f-p34.png"><br><br>  The principle of operation is very simple.  The playlist.cgi script on the router runs the ttv.py program, which, based on the actual Torrent-TV playlist (loaded at the time of access) and the specified list of favorite channels, generates a new playlist, and then gives it away. <br><br><h2>  Installing the necessary software on the router </h2><br>  Connect via SSH to the router.  In Windows, you can use the <a href="https://www.putty.org/">PuTTY</a> client to connect the connection. <br><br>  Install the necessary software: <br><br><pre><code class="bash hljs">opkg update opkg install wget ca-certificates mc python3 lighttpd-mod-cgi</code> </pre> <br>  <b>wget</b> is a program for downloading files.  It is only needed for the initial setup. <br><br>  <b>ca-certificates</b> - certificates for wget. <br><br>  <b>mc</b> is the Midnight Commander file manager.  It is needed only because of the convenient editor mcedit.  If you are used to using another text editor, then you can not install mc. <br><br>  <b>python3</b> is a python interpreter. <br><br>  <b>lighttpd-mod-cgi</b> - web server lighttpd. <br><br><h2>  Download the main files </h2><br><pre> <code class="bash hljs">mkdir -p /opt/etc/ttv wget --no-check-certificate -O /opt/etc/ttv/ttv.py https://raw.githubusercontent.com/Kyrie1965/ttv/master/ttv.py wget --no-check-certificate -O /opt/share/www/playlist.cgi https://raw.githubusercontent.com/Kyrie1965/ttv/master/playlist.cgi chmod +x /opt/share/www/playlist.cgi</code> </pre> <br>  I will tell about their appointment later, but for now I‚Äôll just show you the contents.  Don't be fooled by the Python code, until that moment I had never written anything in Python. <br><br><div class="spoiler">  <b class="spoiler_title">Content /opt/etc/ttv/ttv.py</b> <div class="spoiler_text"><pre> <code class="python hljs">PLAYLIST_LOAD_URL = <span class="hljs-string"><span class="hljs-string">"http://91.92.66.82/trash/ttv-list/ttv.all.tag.player.m3u"</span></span> TEMPLATE_SAVE_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/template.txt"</span></span> FAVORITES_LOAD_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/favorites.txt"</span></span> PLAYLIST_SAVE_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/playlist.m3u"</span></span> LOGOS_URL = <span class="hljs-string"><span class="hljs-string">"https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/{}"</span></span> <span class="hljs-comment"><span class="hljs-comment">#LOGOS_URL = "{}" STREAM_URL = "http://127.0.0.1:6878/ace/getstream?id={}&amp;.mp4" #STREAM_URL = "acestream://{}" EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz" #EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz,http://programtv.ru/xmltv.xml.gz,http://api.torrent-tv.ru/ttv.xmltv.xml.gz" import re import urllib.request import os from operator import itemgetter as i from functools import cmp_to_key from urllib.parse import urlencode def cmp(a, b): return (a &gt; b) - (a &lt; b) def multikeysort(items, columns): comparers = [ ((i(col[1:].strip()), -1) if col.startswith('-') else (i(col.strip()), 1)) for col in columns ] def comparer(left, right): comparer_iter = ( cmp(fn(left), fn(right)) * mult for fn, mult in comparers ) return next((result for result in comparer_iter if result), 0) return sorted(items, key=cmp_to_key(comparer)) def loadChannels(content): lines = content.splitlines() returnChannels = {} pattern = re.compile("group-title=\"(.*?)\"") channelName = "" channelGroup = "" channelStreamID = "" waitURI = False for line in lines: if line.startswith("acestream"): if waitURI: channelStreamID = line[12:] HD = False if "HD" in channelName: HD = True tmpDict = {"name": channelName, "group": channelGroup, "stream": channelStreamID, "hd": HD} returnChannels[channelName] = tmpDict waitURI = False elif line.startswith("#EXTINF"): x = line.split("\",") if (len(x) != 2): continue channelName = x[1] match = pattern.search(x[0]) if match: channelGroup = match.group(1) else: channelGroup = "–û–±—â–∏–µ" waitURI = True return returnChannels def saveTemplate(content, channels, path): lines = content.splitlines() pattern = re.compile("group-title=\"(.*?)\"") waitURI = False channelName = "" channelReplace = "" channelNewName = "" channelEPG = "" channelGroup = "" channelStreamID = "" groupDict = {} currentGroup = 1 template="" for line in lines: if line.startswith("acestream"): if waitURI: channelStreamID = line[12:] template += channelName template += "/" template += channelReplace template += "/" template += channelNewName template += "/" template += channelEPG template += "/" template += channelName + ".png" template += "/" template += channelGroup template += "\n" waitURI = False elif line.startswith("#EXTINF"): x = line.split("\",") if (len(x) != 2): continue channelName = x[1] channelNewName = x[1] channelEPG = x[1] if (channels.get(channelName + " HD") != None): channelReplace = channelName + " HD" else: channelReplace = "-" match = pattern.search(x[0]) if match: channelGroup = match.group(1) if (groupDict.get(channelGroup)): channelGroup = groupDict.get(channelGroup) else: newGroupName = "{:02d}_{}".format(currentGroup, channelGroup) currentGroup += 1 groupDict[channelGroup] = newGroupName channelGroup = newGroupName else: channelGroup = "00_Unsigned" waitURI = True file = open(path,'w', encoding='utf-8') file.write(template) file.close() return def loadFavorites(content): returnChannels = {} lines = content.splitlines() for line in lines: parts = line.split('/') if len(parts) == 6: tmpDict = {"name": parts[0], "replace": parts[1], "newName": parts[2], "EPG": parts[3], "logo": parts[4], "group": parts[5]} returnChannels[parts[0]] = tmpDict elif len(parts) == 5: #—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º tmpDict = {"name": parts[0], "replace": parts[1], "newName": parts[2], "EPG": parts[3], "group": parts[4], "logo": parts[0] + ".png"} returnChannels[parts[0]] = tmpDict return returnChannels def savePlaylist(channels, favorites, path): returnChannels = [] currentChannels = set() for key, chDict in favorites.items(): if chDict["replace"] != "-": if favorites.get(chDict["replace"]) != None and channels.get(chDict["replace"]) != None: currentChannels.add(chDict["replace"]) elif channels.get(chDict["name"]) != None: currentChannels.add(chDict["name"]) elif channels.get(chDict["name"]) != None: currentChannels.add(chDict["name"]) for ch in currentChannels: chFromFavorites = favorites.get(ch) chFromChannels = channels.get(ch) tmpDict = {"name": chFromFavorites.get("newName"), "oldName": chFromFavorites.get("name"), "EPG": chFromFavorites.get("EPG"), "group": chFromFavorites.get("group"), "logo": chFromFavorites.get("logo"), "stream": chFromChannels.get("stream"), "hd": chFromChannels.get("hd")} returnChannels.append(tmpDict) result = multikeysort(returnChannels, ['group', '-hd', 'name']) template="" template += "#EXTM3U url-tvg=" template += "\"" template += EPG_LINKS template += "\"" template += "\n" for n in result: group = n.get("group") if group.find("_", 2, 3) != -1: group = group[3:] template += "#EXTINF:-1 tvg-name=\"{}\" tvg-logo=\"{}\" group-title=\"{}\" ,{}".format(n.get("EPG"), LOGOS_URL.format(urllib.parse.quote(n.get("logo"))), group, n.get("name")) template += "\n" template += STREAM_URL.format(n.get("stream")) template += "\n" file = open(path,'w', encoding='utf-8') file.write(template) file.close() return result response = urllib.request.urlopen(PLAYLIST_LOAD_URL) content = response.read().decode("utf-8") channels = loadChannels(content) if channels == None or (len(channels.keys()) == 0): exit() saveTemplate(content, channels, TEMPLATE_SAVE_PATH) exists = os.path.isfile(FAVORITES_LOAD_PATH) if exists: file = open(FAVORITES_LOAD_PATH,'r', encoding='utf-8') content = file.read() favorites = loadFavorites(content) savePlaylist(channels, favorites, PLAYLIST_SAVE_PATH)</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Content /opt/share/www/playlist.cgi</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh PATH=/opt/sbin:/opt/bin:/opt/usr/sbin:/opt/usr/bin:/usr/sbin:/usr/bin:/sbin:/bin python3 /opt/etc/ttv/ttv.py echo "Content-Type: text/plain; charset=UTF-8" echo "" echo "$(cat /opt/etc/ttv/playlist.m3u)"</span></span></code> </pre> <br></div></div><br><h2>  Web server configuration and launch </h2><br>  Open the <b>/opt/etc/lighttpd/lighttpd.conf</b> file: <br><br><pre> <code class="bash hljs">mcedit /opt/etc/lighttpd/lighttpd.conf</code> </pre> <br>  To paste from the buffer, use Shift + Insert, save - F2, exit - F10. <br><br>  Change the line <b># server.port = 80</b> to: <br><br><pre> <code class="bash hljs">server.port = 81</code> </pre> <br>  Open the <b>/opt/etc/lighttpd/conf.d/30-cgi.conf</b> file: <br><br><pre> <code class="bash hljs">mcedit /opt/etc/lighttpd/conf.d/30-cgi.conf</code> </pre> <br>  Change <b>".cgi" =&gt; "/ opt / bin / perl"</b> to: <br><br><pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">".cgi"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"/bin/sh"</span></span></code> </pre> <br>  Start the web server: <br><br><pre> <code class="bash hljs">/opt/etc/init.d/S80lighttpd start</code> </pre> <br><h2>  Create a list of favorite channels </h2><br>  Run the <b>ttv.py</b> program: <br><br><pre> <code class="bash hljs">python3 /opt/etc/ttv/ttv.py</code> </pre> <br>  A template file <b>template.txt</b> will be created in the <b>/ opt / etc / ttv</b> folder.  This is a simple text file.  It will always be relevant, i.e.  when you start the program, it is overwritten with actual data. <br><br>  Each line in this file corresponds to one channel of Torrent-TV and looks like: <br>  <b>CHANNEL_NAME / CHANNEL_CHANGE / YOUR_NAME_CHANNEL_NAME / YOUR_NAME_CHANNEL_V_EP__NAME / YOUR LOGO / YOUR_GROUP</b> <br><br>  For example: <br><br>  Amedia Premium / Amedia Premium HD / Amedia Premium / Amedia Premium / Amedia Premium.png / 11_Films <br>  Amedia Premium HD / - / Amedia Premium HD / Amedia Premium HD / Amedia Premium HD.png / 11_Films <br><br>  Save this file on your computer for easy editing (for example, using <a href="https://winscp.net/eng/docs/lang:ru">WinSCP</a> ).  Rename it to favorites.txt. <br><br>  Edit the file, leaving only those channels that you need. <br><br>  <b>NAME OF CHANNEL</b> - the name of the channel in the original playlist. <br><br>  <b>CHANNEL REPLACEMENT</b> - channel name in the original replacement playlist.  Put "-" if replacement is not needed.  By default, substitutions are automatically substituted in the template if the channel has an HD option.  For example, in the original playlist there are Amedia Premium and Amedia Premium HD.  In the final playlist will be only Amedia Premium HD. <br><br>  <b>YOUR_NAME_CHANNEL</b> - the display name in the IPTV-manager.  It can be any and affects only the display names in the IPTV manager.  For example, the original channel has the name ‚ÄúParamount Comedy HD (Russia)‚Äù, and you rename it to ‚ÄúParamount Comedy HD‚Äù. <br><br>  <b>YOUR_NAME_CANAL_B_EPG</b> - this is necessary for full compliance in the selected source EPG.  For example, the original channel is called "Match TV HD."  And in the EPG this channel is called ‚ÄúMatch!‚Äù.  Change this parameter to ‚ÄúMatch!‚Äù And get full match for your EPG source.  Thus, for all channels, you can bring the EPG match to 100%. <br><br>  <b>YOUR LOGO</b> is the name of the logo file. <br><br>  <b>YOUR GROUP</b> - the name of the channel group.  You can use an index, a two-digit number, in front of the group name.  This index determines the order of the groups in the final playlist (from the smallest to the largest).  After sorting the index will be automatically removed from the group name. <br><br><div class="spoiler">  <b class="spoiler_title">Here is an example of an edited file named favorites.txt.</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Amedia Premium/Amedia Premium HD/Amedia Premium/Amedia Premium/Amedia Premium.png/11_–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã Amedia Premium HD/-/Amedia Premium HD/Amedia Premium HD/Amedia Premium HD.png/11_–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã –î–æ–∂–¥—å/–î–æ–∂–¥—å HD/–î–æ–∂–¥—å/–î–æ–∂–¥—å/–î–æ–∂–¥—å.png/12_–û–±—â–∏–µ –î–æ–∂–¥—å HD/-/–î–æ–∂–¥—å HD/–î–æ–∂–¥—å HD/–î–æ–∂–¥—å HD.png/12_–û–±—â–∏–µ Viasat History/-/Viasat History/Viasat History/Viasat History.png/01_–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ Discovery Channel/Discovery Channel HD/Discovery Channel/Discovery Channel/Discovery Channel.png/01_–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ Discovery Channel HD/-/Discovery Channel HD/Discovery Channel HD/Discovery Channel HD.png/01_–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ Discovery Science/Discovery Science HD/Discovery Science/Discovery Science/Discovery Science.png/01_–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ Discovery Science HD/-/Discovery Science HD/Discovery Science HD/Discovery Science HD.png/01_–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ Amedia Hit/Amedia Hit HD/Amedia Hit/Amedia Hit/Amedia Hit.png/11_–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã Amedia Hit HD/-/Amedia Hit HD/Amedia Hit HD/Amedia Hit HD.png/11_–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã –ú–∞—Ç—á –¢–í/–ú–∞—Ç—á –¢–í HD/–ú–∞—Ç—á!/–ú–∞—Ç—á!/–ú–∞—Ç—á –¢–í.png/03_–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ú–∞—Ç—á –¢–í HD/-/–ú–∞—Ç—á! HD/–ú–∞—Ç—á!/–ú–∞—Ç—á –¢–í HD.png/03_–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ Eurosport 1/Eurosport 1 HD/Eurosport 1/Eurosport 1/Eurosport 1.png/03_–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ Eurosport 1 HD/-/Eurosport 1 HD/Eurosport 1 HD/Eurosport 1 HD.png/03_–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ Paramount Comedy HD (–†–æ—Å—Å–∏—è)/-/Paramount Comedy HD/Paramount Comedy HD (–†–æ—Å—Å–∏—è)/Paramount Comedy HD (–†–æ—Å—Å–∏—è).png/11_–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã –ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1.png/03_–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD/-/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD/–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD.png/03_–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –†–æ—Å—Å–∏—è 1/–†–æ—Å—Å–∏—è HD/–†–æ—Å—Å–∏—è 1/–†–æ—Å—Å–∏—è 1/–†–æ—Å—Å–∏—è 1.png/13_–ó–æ–º–±–∏-–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞ –†–æ—Å—Å–∏—è HD/-/–†–æ—Å—Å–∏—è HD/–†–æ—Å—Å–∏—è HD/–†–æ—Å—Å–∏—è HD.png/13_–ó–æ–º–±–∏-–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞</code> </pre> <br></div></div><br>  Copy the prepared file <b>favorites.txt</b> to the <b>/ opt / etc / ttv folder</b> on the router. <br><br>  All is ready.  You can pick up a playlist at <a href="http://192.168.0.1:81/playlist.cgi">http://192.168.0.1:81/playlist.cgi</a> (replace 192.168.0.1 with the internal address of your router).  Just specify the link in the IPTV manager and you will always have your current playlist.  The playlist.cgi script runs the ttv.py program, which, based on the actual playlist Torrent-TV (loaded at the time of the call) and favorites.txt, generates a new playlist, and then gives this new playlist. <br><br>  At the exit, if all channels are present in the current playlist (otherwise the missing channels will be ignored), you will get such a neat playlist: <br><br><div class="spoiler">  <b class="spoiler_title">Playlist</b> <div class="spoiler_text"> <code>#EXTM3U url-tvg="https://teleguide.info/download/new3/xmltv.xml.gz" <br> #EXTINF:-1 tvg-name="Discovery Channel HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Discovery%20Channel%20HD.png" group-title="–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ" ,Discovery Channel HD <br> http://127.0.0.1:6878/ace/getstream?id=da1232435c2d54cebdd114fb8e9632b4d8a2977e&amp;.mp4 <br> #EXTINF:-1 tvg-name="Discovery Science HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Discovery%20Science%20HD.png" group-title="–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ" ,Discovery Science HD <br> http://127.0.0.1:6878/ace/getstream?id=03fb28986da9168dd56ec6891253bcc496c13eb5&amp;.mp4 <br> #EXTINF:-1 tvg-name="Viasat History" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Viasat%20History.png" group-title="–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ" ,Viasat History <br> http://127.0.0.1:6878/ace/getstream?id=fca01ece6298f5ada1e26b0ab0236fa213312bea&amp;.mp4 <br> #EXTINF:-1 tvg-name="Eurosport 1 HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Eurosport%201%20HD.png" group-title="–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ" ,Eurosport 1 HD <br> http://127.0.0.1:6878/ace/getstream?id=001be3c7f3a83322c57627d2ce12c563f37c7ab9&amp;.mp4 <br> #EXTINF:-1 tvg-name="–ú–∞—Ç—á!" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/%D0%9C%D0%B0%D1%82%D1%87%20%D0%A2%D0%92%20HD.png" group-title="–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ" ,–ú–∞—Ç—á! HD <br> http://127.0.0.1:6878/ace/getstream?id=8f33256291e7136bfdb1b0ab5a84717dff8e9a31&amp;.mp4 <br> #EXTINF:-1 tvg-name="–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/%D0%9C%D0%B0%D1%82%D1%87%21%20%D0%A4%D1%83%D1%82%D0%B1%D0%BE%D0%BB%201%20HD.png" group-title="–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ" ,–ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD <br> http://127.0.0.1:6878/ace/getstream?id=63dea7ffffdfeadca5a7cb50fd66bd1433de8d19&amp;.mp4 <br> #EXTINF:-1 tvg-name="Amedia Hit HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Amedia%20Hit%20HD.png" group-title="–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã" ,Amedia Hit HD <br> http://127.0.0.1:6878/ace/getstream?id=3f6a960f2051914b07b9ffc931b2e0b1b1d6a968&amp;.mp4 <br> #EXTINF:-1 tvg-name="Amedia Premium HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Amedia%20Premium%20HD.png" group-title="–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã" ,Amedia Premium HD <br> http://127.0.0.1:6878/ace/getstream?id=f78faf23a6339f4a13412178b4675c931d5fba08&amp;.mp4 <br> #EXTINF:-1 tvg-name="Paramount Comedy HD (–†–æ—Å—Å–∏—è)" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/Paramount%20Comedy%20HD%20%28%D0%A0%D0%BE%D1%81%D1%81%D0%B8%D1%8F%29.png" group-title="–§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã" ,Paramount Comedy HD <br> http://127.0.0.1:6878/ace/getstream?id=a9023adab9228b8aa7f1b508b553140b69cecd80&amp;.mp4 <br> #EXTINF:-1 tvg-name="–î–æ–∂–¥—å" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/%D0%94%D0%BE%D0%B6%D0%B4%D1%8C.png" group-title="–û–±—â–∏–µ" ,–î–æ–∂–¥—å <br> http://127.0.0.1:6878/ace/getstream?id=1bd74f323ca46413efa97ad77d1579e00eb0b79f&amp;.mp4 <br> #EXTINF:-1 tvg-name="–†–æ—Å—Å–∏—è HD" tvg-logo="https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/%D0%A0%D0%BE%D1%81%D1%81%D0%B8%D1%8F%20HD.png" group-title="–ó–æ–º–±–∏-–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞" ,–†–æ—Å—Å–∏—è HD <br> http://127.0.0.1:6878/ace/getstream?id=7d5f9b63186bc7bbb9475f6a48fb8b2152f247c8&amp;.mp4</code> <br> </div></div><br><pre> <code class="bash hljs">–ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–µ: Discovery Channel HD Discovery Science HD Viasat History –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ: Eurosport 1 HD –ú–∞—Ç—á! HD –ú–∞—Ç—á! –§—É—Ç–±–æ–ª 1 HD –§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã: Amedia Hit HD Amedia Premium HD Paramount Comedy HD –û–±—â–∏–µ: –î–æ–∂–¥—å –ó–æ–º–±–∏-–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞: –†–æ—Å—Å–∏—è HD</code> </pre> <br>  If necessary, you can change some parameters in the ttv.py program: <br><br><pre> <code class="bash hljs">mcedit /opt/etc/ttv/ttv.py</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Parameters that can be changed</b> <div class="spoiler_text"> <code>PLAYLIST_LOAD_URL = "http://91.92.66.82/trash/ttv-list/ttv.all.tag.player.m3u" <br> TEMPLATE_SAVE_PATH = "/opt/etc/ttv/template.txt" <br> FAVORITES_LOAD_PATH = "/opt/etc/ttv/favorites.txt" <br> PLAYLIST_SAVE_PATH = "/opt/etc/ttv/playlist.m3u" <br> LOGOS_URL = "https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/{}" <br> #LOGOS_URL = "{}" <br> STREAM_URL = "http://127.0.0.1:6878/ace/getstream?id={}&amp;.mp4" <br> #STREAM_URL = "acestream://{}" <br> EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz" <br> #EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz,http://programtv.ru/xmltv.xml.gz,http://api.torrent-tv.ru/ttv.xmltv.xml.gz"</code> <br> </div></div><br>  <b>PLAYLIST_LOAD_URL</b> - link to download the current playlist Torrent-TV. <br>  <b>TEMPLATE_SAVE_PATH</b> - the path to save the template. <br>  <b>FAVORITES_LOAD_PATH</b> - the path for downloading the list of favorite channels. <br>  <b>PLAYLIST_SAVE_PATH</b> - the path to save the new playlist. <br>  <b>LOGOS_URL</b> - link with channel logos. <br>  <b>STREAM_URL</b> - type of link to the stream in the final playlist.  This can be a direct link to Ace Stream or a link to Ace Stream Proxy.  It depends on which IPTV manager you use. <br>  <b>EPG_LINKS</b> is a list of EPG links.  All IPTV managers are different.  There are those who do not know how to take a link to the EPG from the playlist.  There are those that support only one EPG source from the playlist.  There are those who do not know how to combine EPG from different sources. <br><br>  You will be interested only in STREAM_URL, LOGOS_URL, EPG_LINKS, since  the appearance of the final playlist depends on them.  For them are given alternative examples in the file. <br><br><h2>  Conclusion </h2><br>  As a result, you get an up-to-date playlist of Torrent-TV (‚ÄúSuper-wash‚Äù) with its own channel list, with its own channel names, with its own groups and their arbitrary sorting, with its own logos, with its own EPG comparison, with the ability to eliminate duplicate HD / SD, with sorting channels within groups by HD / SD and title.  You only need to set everything up once and create a file of your favorite channels once.  And then all the devices in your home network will receive the desired playlist via the link, doing ‚Äúeverything is beautiful‚Äù right away without any additional settings. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bndudCB3Nps" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/438842/">https://habr.com/ru/post/438842/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
</ul></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
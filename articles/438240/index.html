<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Load testing of CPU and SSD cloud hosters: compare Selectel, Servers, MCS and Ya.Oblako</title>
  <meta name="description" content="We are constantly working with online stores and services, and from time to time our clients have a question about where to host their projects. These...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Load testing of CPU and SSD cloud hosters: compare Selectel, Servers, MCS and Ya.Oblako</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/9e/b-/oi/9eb-oiotleh9frvzdkhehewswua.png"><br><br>  We are constantly working with online stores and services, and from time to time our clients have a question about where to host their projects.  These questions are more than ordinary: what hosting to choose, in which region, what to decide with the configuration.  In recent years, more and more preference is given to cloud hosting;  The percentage of renting full-fledged racks in the segment we are referring to for new projects is becoming less and less, and already operating companies are gradually transferring their assets to cloud platforms.  The reason is simple - besides computing power, a business is no longer enough just a command line to manage the ‚Äúfarm‚Äù.  The convenience of managing the infrastructure and, importantly, the possibility of its automation is also needed.  This is a common situation for both the global and Russian markets.  If you like - trend. <br><br>  Over the past two years, two new major players in the cloud hosting market appeared in our country: Yandex.Oblako and Mail Cloud Solutions.  It became interesting to us what the hardware of each of the presented companies is capable of and how realistic the provided configurations of resources are.  We decided to find out, and after - to compare the data with the announced price offers. <br><br>  Since we do not sell hosting ourselves, but only periodically we advise our clients and select the best price-quality solution for them, we can be relatively objective in this matter. <br><a name="habracut"></a><br><h3>  Tests </h3><br>  Three main characteristics were chosen for analysis: performance of computing resources, performance of the disk subsystem and cost of data storage / transfer.  We did not go through all the possible dozens of cloud hosting options, but immediately stopped at four of the most obvious and popular domestic solutions.  These are cloud services from Selectel, MCS, Y. Oblak and Servers.ru. <br><br>  We begin by considering the cost of storing and transferring one GB of data per month: <br><br>  <b>Selectel</b> : everything is clear and simple, without additional conditions. <br><table><caption>  Disks / month </caption><tbody><tr><td>  Basic disk </td><td>  7.45 ‚ÇΩ / GB </td></tr><tr><td>  Fast drive </td><td>  $ 44.68 / GB </td></tr><tr><td>  Universal disk </td><td>  29.79 ‚ÇΩ / GB </td></tr><tr><td>  Local disk </td><td>  15.05 ‚ÇΩ / GB </td></tr></tbody></table><table><caption>  Outgoing traffic / month </caption><tbody><tr><td>  up to 10 Tb </td><td>  $ 1.0 / GB </td></tr><tr><td>  up to 90 Tb </td><td>  $ 0.92 / GB </td></tr><tr><td>  up to 900 Tb </td><td>  0.82 ‚ÇΩ / GB </td></tr><tr><td>  over 1000 Tb </td><td>  0,71 ‚ÇΩ / GB </td></tr></tbody></table>  <b>Servers</b> , unfortunately, does not indicate exact prices for disks, only the total price for finished assemblies. <br><br>  <b>Mail</b> does not take money for traffic, only for the space occupied by the type of disks used.  It also provides turnkey solutions at specific prices. <br><table><tbody><tr><td>  HDD </td><td>  7‚ÇΩ / –ì–ë </td></tr><tr><td>  SSD </td><td>  19 ‚ÇΩ / GB </td></tr></tbody></table>  At <b>Yandex,</b> too, everything is simple: <br><table><caption>  Disks / month </caption><tbody><tr><td>  HDD </td><td>  $ 2.08 AUD / GB </td></tr><tr><td>  SSD </td><td>  7,4441 ‚ÇΩ / GB </td></tr></tbody></table><table><caption>  Outbound traffic </caption><tbody><tr><td>  up to 10 Tb </td><td>  1,5254 ‚ÇΩ / GB </td></tr><tr><td>  up to 50 Tb </td><td>  1,272 </td></tr><tr><td>  up to 150 Tb </td><td>  $ 1.0 / GB </td></tr><tr><td>  over 150 Tb </td><td>  $ 0 / GB </td></tr></tbody></table>  For an objective assessment of the proposed software, performance comparison, as well as the evaluation of the price / quality ratio, it was decided to conduct a stress test for IOPS of parameters such as CPU and SSD speed. <br><br>  In the case of Ya.Oblak, the price of the SSD NVMe is used to calculate the cost, so the overall price tag differs in a big way.  In addition to Ya.Oblaka, NVMe is also offered by the Selectel specification, but in our case, the price of the usual SSD is used for the assembly. <br><br>  An assembly with the following characteristics was chosen as a test platform: <br><table><tbody><tr><td>  CPU </td><td>  2 core </td></tr><tr><td>  Ram </td><td>  4 Gb </td></tr><tr><td>  SSD </td><td>  80 Gb </td></tr></tbody></table>  See the summary table with the cost of this assembly for all data centers considered: <br><table><tbody><tr><td>  Selectel </td><td>  Servers </td><td>  MCS </td><td>  Ya.Oblako (SSD NVMe) </td></tr><tr><td>  5521,78 ‚ÇΩ <br>  (3 GB of traffic for free) </td><td>  2440.68 ‚ÇΩ <br>  (including 4 TB of traffic, up to 10 Gbit / s) </td><td>  3 300 ‚ÇΩ (including unlimited channel up to 1 Gbit / s) </td><td>  8557,0224 ‚ÇΩ </td></tr></tbody></table>  <b>Testing was conducted with the stress-ng and sysbench tools</b> .  For the CPU, the load was given in 1, 2 and 4 threads. <br><br><table><caption>  CPU test with stress-ng (conditional operations / s, bogo ops / sec): </caption><tbody><tr><td></td><td>  1 thread </td><td>  2 threads </td><td>  4 threads </td></tr><tr><td>  Selectel </td><td>  11476 </td><td>  22888 </td><td>  22019 </td></tr><tr><td>  Servers </td><td>  9174 </td><td>  18233 </td><td>  18093 </td></tr><tr><td>  Ya.Oblako </td><td>  8280 </td><td>  17586 </td><td>  17620 </td></tr><tr><td>  MCS </td><td>  7911 </td><td>  15926 </td><td>  14107 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/l0/en/wn/l0enwnno6ih5frocbx2tl3ffgpg.jpeg"><br><br><table><caption>  CPU test with sysbench utility: </caption><tbody><tr><td></td><td>  1 thread </td><td>  2 threads </td><td>  4 threads </td></tr><tr><td>  Selectel </td><td>  731.45 </td><td>  1471 </td><td>  1457.71 </td></tr><tr><td>  Servers </td><td>  707.9 </td><td>  1406.32 </td><td>  1406.31 </td></tr><tr><td>  Ya.Oblako </td><td>  707.81 </td><td>  1381.74 </td><td>  1379.83 </td></tr><tr><td>  MCS </td><td>  683.04 </td><td>  1344.15 </td><td>  1344.54 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/gg/89/bx/gg89bxhrexdfo4elqvcohh8n6ww.png"><br><br><img src="https://habrastorage.org/webt/o9/gr/gw/o9grgwj8q4hf3avxj7a1s_f911o.png"><br><br><img src="https://habrastorage.org/webt/uq/4x/yn/uq4xynilyi_5blkarmgyt1-qzto.jpeg"><br><br>  From the above data, we can conclude that the assembly fully utilizes 2 processor cores, the indicator of the number of I / O operations doubles with an increase in the number of cores used.  The highest rate, and, respectively, and higher performance shows the Selectel processor. <br><br>  Selectel offers three choices of processors to choose from, unlike other data centers: <br><br><ul><li>  Intel Xeon E5-2670 v3 2.3 GHz; </li><li>  Intel Xeon E5-2680 v4 2.4 GHz; </li><li>  Intel Xeon Scalable 6140 2.3 GHz. </li></ul><br>  The smallest performance was shown by the Mail processor (Intel Xeon E5-2660 v4 2 GHz).  The Servers and Ya.Oblako processors showed approximately comparable results under load, but the Servers processor was slightly better, with the two cores being used - 18,233 and 7,586 operations, respectively. <br><br>  For SSD, testing was performed to check the number of IOPS by randomly reading 512-byte packets with a 4GB limit and 4Kb reading / writing (database emulation) with 75% read and 25% write options with a 16GB limit. <br><br><table><caption>  SSD test results: </caption><tbody><tr><td></td><td>  Reading </td><td>  Read / Write </td></tr><tr><td>  Selectel </td><td>  12,800 </td><td>  12300/4122 </td></tr><tr><td>  Servers </td><td>  106,000 </td><td>  8367/2799 </td></tr><tr><td>  Ya.Oblako </td><td>  6228 </td><td>  2841/947 </td></tr><tr><td>  MCS </td><td>  23200 </td><td>  6152/2061 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/dv/zb/hf/dvzbhfn0n3v7imqadvrbj3ihiam.jpeg"><br><br>  From the test results we can conclude that the best-performing SSD reads are offered by the company Servers - with results of 106 thousand IOPS. <br><br>  A good indicator of reading from the disk shows the SSD offered by the company MCS, with an indicator of 23200 IOPS.  The following is the Selectel SSD with a value of 12,800. And the most unsatisfactory indicator of the SSD provided by J. Oblak: the IOPS value in 6228 is completely useless :-( The same can be said about the YaD Oblak SSD in the test not only for reading from the disk , but also on record. The indicator is very small - 2841/947. The situation is better with SSD Mail, but nevertheless, the result is also not particularly inspiring - 6152/2061 IOPS. <br><br>  The hard drives used by Selectel and Servers are leading in this test.  Their read / write performance is 12300/4122 and 8367/2799, respectively. <br><br>  It is clear from the tests that the SSD provided by the Servers data center is definitely better for reading from the disk, and consider the remaining options depending on the necessary needs of the company and the availability of prices. <br><br><h3>  Object Storage </h3><br>  For those who also like to use S3-compatible object storages in their activities, we also compared their price tags. <br><br>  <b>Selectel</b> <br><table><caption>  Data storage </caption><tbody><tr><td>  up to 1 TB </td><td>  1.43 ‚ÇΩ / GB </td></tr><tr><td>  from 1 to 10 TB </td><td>  1.33 ‚ÇΩ / GB </td></tr><tr><td>  from 10 to 100 TB </td><td>  1.23 ‚ÇΩ / GB </td></tr><tr><td>  more than 100 TB </td><td>  1.01 ‚ÇΩ / GB </td></tr></tbody></table><table><caption>  Outbound traffic </caption><tbody><tr><td>  up to 10 TB </td><td>  $ 1.0 / GB </td></tr><tr><td>  up to 90 TB </td><td>  $ 0.92 / GB </td></tr><tr><td>  up to 900 TB </td><td>  0.82 ‚ÇΩ / GB </td></tr><tr><td>  more than 1000 TB </td><td>  0,71 ‚ÇΩ / GB </td></tr></tbody></table>  <b>Servers</b> offer prices ranging from $ 2.27 / GB to $ 4.53 / GB, depending on location.  The table shows the storage price for 1GB in Moscow: <br><table><caption>  Data storage </caption><tbody><tr><td>  First 1 TB </td><td>  2.54 ‚ÇΩ / GB </td></tr><tr><td>  Next 50 TB </td><td>  2,34 ‚ÇΩ / GB </td></tr><tr><td>  The next 100 TB </td><td>  2.14 ‚ÇΩ / GB </td></tr><tr><td>  Over 151 TB </td><td>  1.93 ‚ÇΩ / GB </td></tr></tbody></table>  <i>One can take from them a storage in Amsterdam at ~ $ 2.27, but one should understand that for it the value is tied to the euro, plus, like for any other foreign site Servers in Luxembourg, Dallas or Singapore, 20% VAT is not taken into account .</i>  <i>So, conditionally, the offer in Moscow is still the most advantageous, because here the price is already indicated with VAT.</i> <br><table><caption>  Outbound traffic </caption><tbody><tr><td>  up to 3 TB </td><td>  0,81 ‚ÇΩ / GB </td></tr><tr><td>  up to 20 TB </td><td>  0.76 ‚ÇΩ / GB </td></tr><tr><td>  up to 100 TB </td><td>  0,71 ‚ÇΩ / GB </td></tr><tr><td>  more than 100 TB </td><td>  0,66 ‚ÇΩ / GB </td></tr></tbody></table>  <b>Mail Cloud Solutions</b> does not rank the storage cost by data volume, only by storage type, and also calculate the cost not by the volume of outgoing traffic, but by the number of I / O operations: <br><table><caption>  Data storage </caption><tbody><tr><td>  Hot storage </td><td>  2,5 ‚ÇΩ / GB </td></tr><tr><td>  Cold storage </td><td>  2,3 ‚ÇΩ / GB </td></tr></tbody></table><table><caption>  Number of I / O operations </caption><tbody><tr><td>  Hot storage <br>  1,000 IOPS PUT, META, LIST <br></td><td>  0,295 ‚ÇΩ / GB </td></tr><tr><td>  Hot storage <br>  10,000 IOPS GET et al. <br></td><td>  0,295 ‚ÇΩ / GB </td></tr><tr><td>  Cold storage <br>  1,000 IOPS PUT, META, LIST <br></td><td>  0,295 ‚ÇΩ / GB </td></tr><tr><td>  Cold storage <br>  10,000 IOPS GET et al. <br></td><td>  0.59 ‚ÇΩ / GB </td></tr></tbody></table>  At <b>Yandex,</b> too, everything is simple: the cost does not depend on the amount of occupied space, but on the type of storage: <br><table><caption>  Data storage </caption><tbody><tr><td>  Standard Storage </td><td>  1,261 ‚ÇΩ / GB </td></tr><tr><td>  Cold storage </td><td>  0,6712 ‚ÇΩ / GB </td></tr></tbody></table><table><caption>  Outbound traffic </caption><tbody><tr><td>  up to 10 TB </td><td>  1,5254 ‚ÇΩ / GB </td></tr><tr><td>  up to 50 TB </td><td>  1,272 ‚ÇΩ / GB </td></tr><tr><td>  up to 150 TB </td><td>  $ 1.0 / GB </td></tr><tr><td>  more than 150 TB </td><td>  $ 0 / GB </td></tr></tbody></table><h3>  API </h3><br>  As for the automation of the infrastructure management process, all the operators listed above have API mechanisms available. <br><br>  Three of them have OpenStack-compatible API, because  inside, in fact, it is used in one form or another.  Yandex went further and made its own alternative to OpenStack.  As a result, their API has lost compatibility with everything except file storage.  His, apparently due to the large popularity and prevalence of the format, they decided to leave S3-compatible, according to the precepts of Amazon. <br><br>  Links to relevant documentation: <br><br>  <a href="https://kb.selectel.ru/24381209.html">Selectel vpc</a> <br>  <a href="https://www.servers.ru/knowledge/cloud-servers/where-can-i-find-openstack-api-credentials">Servers.ru</a> <br>  <a href="https://mcs.mail.ru/help/settings/api">Mailcloudsolutions</a> <br>  <a href="https://cloud.yandex.ru/docs/api-design-guide/concepts/general">Cloud.Yandex</a> <br><br><h3>  findings </h3><br>  Due to the fact that different services rank their services differently, it is quite difficult to bring together all the above data.  Therefore, we decided to relate the listed price tags to the configuration of a single mid-level online store, which we have on support.  And as a result, we received approximately the following data on the cost of a monthly server rental at different sites: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa3/757/6a4/aa37576a4b5fc9b30561ad631675843b.png"><br><br>  This is with regard to the financial and practical side of things.  As for performance, then we think you yourself understood everything.  In terms of processor performance, Selectel takes the lead with a good margin.  Whereas MCS still has to work on the computing resources provided.  In terms of performance, the Servers.ru and Mail Cloud Solutions disk subsystems, on the contrary, clearly outperform their comrades. <br><br>  Knowing about these strengths and weaknesses, plus price information, we hope, will help you choose the right cloud service provider for specific tasks. </div><p>Source: <a href="https://habr.com/ru/post/438240/">https://habr.com/ru/post/438240/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
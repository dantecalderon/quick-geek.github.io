<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Internal and nested java classes. Part 1</title>
  <meta name="description" content="Hello dear readers Habra 

 Java internal and nested classes 

 03/02/2017 - 2019 

 Part 1. Start 

 Purpose of the article: To tell about internal, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Internal and nested java classes. Part 1</h1><div class="post__text post__text-html js-mediator-article">  <b>Hello dear readers Habra</b> <br><br>  <b>Java internal and nested classes</b> <br><br>  03/02/2017 - 2019 <br><br>  <b>Part 1. Start</b> <br><br>  <b>Purpose of the article: To</b> tell about internal, nested, local, anonymous classes.  Show examples of their use.  Write and test classes in java code.  Tell about the properties of these classes. <br><br><a name="habracut"></a>  A little introduction.  I suggest you heed a cycle of three articles. <br>  In them, I talk about internal, nested, local, anonymous classes.  It's about terminology and application.  For these articles, I wrote quite a lot of code. <br>  This is a training code, not a guide to action.  That is, I wrote the code for better understanding.  I also tried to explain the work of the training code.  It took quite a long time to write the publication.  Please treat with understanding. <cut></cut><br><br>  To begin with, what is the inner and nested classes.  Let's look at the terminology found in the documentation <a href="https://ru.wikipedia.org/">&gt;&gt;&gt;</a> : <br><br><blockquote>  In Java, there are 4 types of nested (nested) classes: <br><ol><li>  Static nested classes </li><li>  Inner classes </li><li>  Local Classes </li><li>  Anonymous (unnamed) classes </li></ol><br></blockquote>  Joshua Bloch: <br><blockquote>  ‚ÄúThere are four categories of nested classes: <br><br><ul><li>  static member class </li><li>  nonstatic member class, </li><li>  anonymous class (anonymous class) </li><li>  and local class. </li></ul>  " </blockquote>  Let's try to figure out what it is. <br><br>  Let's start a bit remotely, since all this is directly related to our questions.  Recall object-oriented programming.  Relationship composition and inheritance. <br><br>  In his book ‚ÄúJava 2 Developer Guide,‚Äù Michael Morgan very well and describes in detail the relationships between classes and objects.  We will look at some of them.  The ‚Äúthis is - that‚Äù relationship is expressed by inheritance, and the ‚Äúhas a part‚Äù relationship is described by composition. <br><br>  In our examples, we mainly consider composition.  Since nested classes are part of something.  That is, we have a wrapper class and a nested class defined within the wrapper class.  Composition example: the car has an engine, a door, 4 wheels, a housing.  And we can describe the car using internal (Inner) classes. <br><br>  An example of this use can be found in Bruce Ekkel‚Äôs book, The Java Philosophy. <br><cut></cut><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* –ü—Ä–∏–º–µ—Ä ‚Ññ1 */</span></span> <span class="hljs-comment"><span class="hljs-comment">//: c06:Car.java // –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ // –¥–≤–∏–≥–∞—Ç–µ–ª—å class Engine{ public void start(){} public void rev(){} public void stop(){} } class Wheel{ public void inflare(int psi){}// –Ω–∞–∫–∞—á–∞—Ç—å } // –æ–∫–Ω–æ class Window{ public void rollup(){}// –ø—Ä–∏–æ—Ç–∫—Ä—ã—Ç—å public void rolldown(){}// –æ–ø—É—Å—Ç–∏—Ç—å } // –¥–≤–µ—Ä—å class Door{ public Window window=new Window(); public void open(){}//–æ—Ç–∫—Ä—ã—Ç—å public void close(){}// –∑–∞–∫—Ä—ã—Ç—å } // –º–∞—à–∏–Ω–∞ public class Car{ public Engine engine = new Engine(); public Wheel[] wheel = new Wheel[4]; public Door left = new Door(), right = new Door();//–¥–≤–µ –¥–≤–µ—Ä–∏ public Car(){ for(int i = 0; i&lt;4; i++) wheel[i]= new Wheel(); } public static void main(String[] args){ Car car= new Car(); car.left.window.rollup(); car.wheel[0].inflare(72); } }</span></span></code> </pre> <br>  There is some author warning about using the code in this form: <br><blockquote>  "Since the composition of the object is part of the analysis of the task (and not <br>  just part of the class implementation), declaring class members open, helps the client programmer understand how to use the class, and makes it easier for the creator to write code.  However, it must be remembered that the described case is special, and basically the fields of the class must be declared private. " </blockquote>  <b>Static nested classes</b> <br><br>  <i>Defining nested classes:</i> <br><blockquote>  A class is called nested if it is defined inside another class.  That is, a class is simply defined inside another, not even important statically defined or not statically.  A nested class is created to serve the class around it.  If the nested class is useful in some other context, it should become a top-level class. </blockquote>  <i>Application</i> <br><br>  Nested classes are used in cases when you need to write a small auxiliary code for another class.  A nested class is also created to hide its variables and methods from the outside world.  Thus, the nested class is another elegant way to limit the scope.  It also makes sense to use inner classes if it is assumed that they will use parent elements in order not to pass on too much in constructors. <br><br>  You can see an example of a nested class in the Orakle documentation: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* –ü—Ä–∏–º–µ—Ä ‚Ññ2 */</span></span> <span class="hljs-comment"><span class="hljs-comment">// class OuterClass { ... class NestedClass { ... } }</span></span></code> </pre><br>  We do not have, so far, any context for the use of this construct.  With the same success, we can name the nested class instead of: ‚ÄúNested class‚Äù (NestedClass) - ‚ÄúInner class‚Äù InnerClass.  Further we will understand what the differences are and in what contexts the classes are used.  Bruce Ekkel writes in his book The Java Philosophy: <br><blockquote>  A class is called nested if it is defined inside another class " </blockquote>  Oracle documentation can be viewed at this link: <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html">&gt;&gt;&gt;</a> <br><br>  <b>Terminology:</b> <br><br>  There are four categories of nested classes: <br><br><ol><li>  Static nested classes and non-static nested classes.  Nested classes declared statically are called nested static classes. </li><li>  Inner classes - when an object of the inner class is associated with an object of the framing class.  Non-static nested classes are called inner classes if they are associated with an outer class. </li><li>  Local classes are declared inside a block of code and are not a member of the framing class.  In this case, you can consider the class as a local variable of type class. </li><li>  Anonymous classes are inheritable from any class in which the class name is not specified when declaring. </li></ol><br>  <b>Reasons for using nested classes (Nesred Classes)</b> <b><br></b>  <b>Why use nested classes?</b> <br><br>  The reasons for using nested classes are as follows.  If a class is only useful for one other class, then it is logical to embed it in this class and store them together.  Using nested classes increases encapsulation.  Consider two top-level classes, A and B, where B needs access to members that would otherwise be declared closed. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* –ü—Ä–∏–º–µ—Ä ‚Ññ3 */</span></span> <span class="hljs-comment"><span class="hljs-comment">// class A{ ... class B { ... } }</span></span></code> </pre><br><br>  By hiding class ‚ÄúB‚Äù within class ‚ÄúA‚Äù, members of class ‚ÄúA‚Äù can be declared closed, and ‚ÄúB‚Äù can access them.  In addition, the "B" itself can be hidden from the outside world. <br><br>  Let's demonstrate it in the code: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* –£—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä ‚Ññ4 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> innernested; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iPrivVar; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPrivateOfA</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ A.iPrivVar = <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>; } } }</code> </pre><br>  Using nested classes results in more readable and supported code: <br>  Placing the class closer to where it will be used makes the code more readable. <br><br>  <b>Static Nested Classes</b> <b><br></b>  <b>Static Nested Classes</b> <br><br>  The reasons for using static nested classes are as follows. <br><br>  For the case when the relationship between the object of the nested class and the object of the external class is not needed, you can make the nested class static. <br><br>  Since the inner class is associated with an instance, it cannot define any static members in itself. <br><br>  Static nested classes have no restrictions on declaring their data and fields as static. <br><br>  From the nested static class, we do not have access to the external non-static variable of the external class. <br><br>  The code below demonstrates this: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* –£—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä ‚Ññ5 –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞ Outer2 —á–µ—Ä–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ Nested2 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> nested; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 * 20.03.2016 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Outer2</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pubOutVar; <span class="hljs-comment"><span class="hljs-comment">// –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ –º—ã –Ω–µ –∏–º–µ–µ–º –∫ –Ω–µ–π –¥–æ—Å—Ç—É–ø–∞ // –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ private int prOutVar; public Outer2(){} static class Nested2{ public static int pub_innVar; // —Ç—É—Ç –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ public Nested2() {} int getOuterPublicVariable() { return Outer2.this.pubOutVar; // –æ—à–∏–±–∫–∞ return Outer2.pubOutVar; // –æ—à–∏–±–∫–∞ } int getOuterPrivateVariable() { return Outer2.this.prOutVar; // –æ—à–∏–±–∫–∞ return Outer2.prOutVar; // –æ—à–∏–±–∫–∞ } } } /* –≤—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã: –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è */</span></span></code> </pre><br>  <i>Conclusion:</i> We do not have access to the non-static field of the outer class through the static context of the nested class. <br><br>  But we have access to the private static fields of the outer class from the nested static class. <br><br>  The following code snippet demonstrates this: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* –£—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä ‚Ññ6 –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ ¬´–ø—Ä–∏–≤–∞—Ç–Ω–æ–π¬ª —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ 20.03.2016 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> nested; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Outer3</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> prStOuterVar; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Outer3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested3</span></span></span><span class="hljs-class"> // </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStaticOuterVar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Outer3.prStOuterVar; <span class="hljs-comment"><span class="hljs-comment">// ok } void setStaticOuterVariable(int var) { Outer3.prStOuterVar = var; // ok } } public static void main(String[] args) { Outer3.Nested3 nestedObj = new Outer3.Nested3(); // —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π Outer3.prStOuterVar = 19; System.out.println("nestedObj.getStaticOuterVar() = "+nestedObj.getStaticOuterVar());//—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞ nestedObj.setStaticOuterVariable(77); System.out.println("Outer3.prStOuterVar = "+ Outer3.prStOuterVar); } } /* –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã: nestedObj.getStaticOuterVar() = 19 Outer3.prStOuterVar = 77 */</span></span></code> </pre> <br>  In this sample code, we created an instance of the inner class with the name "nestedObj". <br>  That is, we get access to a private static variable of the outer class, through an instance of the inner class.  In the context of the instance associated with the outer class, we have an inner class. <br><br>  <b>Literature</b> <br><br>  Michael Morgan.  "Java 2. Developer Guide" ISBN 5-8459-0046-8 <br>  Bruce Ekkel.  "The Philosophy of Java." ISBN 5-272-00250-4 <br>  Herbert Shieldt ‚ÄúJava.  Complete guide.  8th edition. "ISBN: 978-5-8459-1759-1 <br><br>  <b>References:</b> <br><br>  <a href="https://ru.wikipedia.org/">ru.wikipedia.org</a> <br>  <a href="http://src-code.net/lokalnye-vnutrennie-klassy-java/">src-code.net/lokalnye-vnutrennie-klassy-java</a> <br><br>  <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html">Oracle documentation</a> <br><br>  All questions, comments, additions, criticism are welcome. <br><br>  To be continued‚Ä¶ <br>  Part 2 <a href="https://habr.com/ru/post/439666/">&gt;&gt;</a> </div><p>Source: <a href="https://habr.com/ru/post/439648/">https://habr.com/ru/post/439648/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
</ul></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
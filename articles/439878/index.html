<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creation of architecture for a new high-load startup in 2019</title>
  <meta name="description" content="The goal is to create a new highly loaded startup in modern conditions. Architecture creation will be considered on the example of Billingolang - a un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Creation of architecture for a new high-load startup in 2019</h1><div class="post__text post__text-html js-mediator-article">  The goal is to create a new highly loaded startup in modern conditions.  Architecture creation will be considered on the example of <a href="https://github.com/rumatakira/billingolang">Billingolang</a> - a universal billing project, general purpose, written in golang.  The project includes access via API, website, integration into accounting systems, reports and graphics. <br><br>  Initially, single-threaded systems were opened.  I had to choose between Erlang, Golang and Rust.  Golang was chosen as the main programming language because it is difficult to find Erlang programmers, although sustainability and hot-swappable code went to Erlang plus.  Rust, in spite of the formal lack of a race condition, is still more suitable not for writing applications, but for drivers and operating systems. <br><br>  Messaging between components of the system occurs not on the classic <a href="https://www.rabbitmq.com/getstarted.html">RabbitMQ</a> , but on <a href="https://www.nats.io/documentation/streaming/nats-streaming-intro/">NATS</a> - the latter showed benchmarks on the server that is currently used, 1M messages (+ 360K during clustering) per second against 40K for the hare.  Yes, and it is clustered faster and easier than RabbitMQ. <br><br>  Database: <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-innodb-cluster-userguide.html">MySQL InnoDB –°luster 7.6</a> (MySQL server 8.0).  Smartly make up and debug the community using the <a href="https://www.mysql.com/products/workbench/">MySQL Workbench</a> tool. <br><a name="habracut"></a><br>  API - written in <a href="https://swagger.io/">Swagger</a> (OpenAPI 2.0).  This avoids errors by different programmers, generates clean well-documented code and API documentation.  Unfortunately, Swagger uses <a href="https://github.com/gorilla/mux">gorilla / mux</a> by default for <a href="https://github.com/gorilla/mux">rooting</a> , but after generating the entire API, the routing will be redone to <a href="https://github.com/kataras/muxie">kataras / muxie</a> - it is twice as fast. <br><br>  Frontend: among the available frameworks: Iris, Beego and Revel - Revel is selected.  Slower than Iris, but everything is out of the box, including integration with graphics.  The main load will still be borne by the API. <br><br>  Scaling: all system components are assembled in LXC containers, as long as they are preceded by a <a href="http://www.haproxy.org/">HAProxy</a> balancer.  The idea of ‚Äã‚Äãscaling comes down to the fact that as the clients grow, they gradually move to more powerful servers while preserving the structure of containers, and later spread the container to separate servers, replacing HAProxy with NATS.  In addition to the classic hardware scaling, there is always the possibility to increase the amount of goroutine inside the containers handling requests to the API and the site.  Although this process, as practice has shown, has logical limitations. <br><br>  In general, the main idea of ‚Äã‚Äãthe article and my deep conviction is that the initial architecture of highly loaded projects, in modern conditions, is pointless to build on single-threaded systems, despite their years of developed infrastructure and the availability of a large number of available programmers.  And the entire design of the project must be created initially by laying an easy transfer to a more powerful and distributed equipment.  This will allow in the future to easily find a balance between scaling the hardware and the code without multiplying the cost. <br><br>  The usual and most common mistake of new startups is a poor initial design of the architecture.  According to the principle - ‚Äúwe will quickly start writing, and then we'll figure it out.‚Äù  As a rule, later - this leads to the collapse of the project. <br><br>  As they say - "90% of success is training."  Do not be afraid to spend money initially on creating a competent, well-thought-out architecture - it will pay off a hundredfold. <br><br>  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/439878/">https://habr.com/ru/post/439878/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav><ul class="list-of-pages">
<li><a href="../439746/index.html">Understand the promises in javascript</a></li>
<li><a href="../439748/index.html">The digest of interesting materials for the mobile developer # 285 (February 4 - 10)</a></li>
<li><a href="../439750/index.html">Learn product management - where?</a></li>
<li><a href="../439752/index.html">Multicore MRI Method</a></li>
<li><a href="../439754/index.html">Google is going to be engaged in the development of smart watches</a></li>
<li><a href="../439756/index.html">Why do I need a thermo-acoustic generator?</a></li>
<li><a href="../439760/index.html">Engineers "twisted" the light in the fiber - a new technology will speed up the transfer of data a hundred times</a></li>
<li><a href="../439764/index.html">Corporate fruit</a></li>
<li><a href="../439772/index.html">Writing Unit Tests on Swift for Verifying Asynchronous Tasks</a></li>
<li><a href="../439778/index.html">The digest of fresh materials from the world of the frontend for the last week No. 351 (February 4 - 10, 2019)</a></li>
<li><a href="../439780/index.html">PHP Digest number 149 (January 28 - February 11, 2019)</a></li>
<li><a href="../439782/index.html">Headless CMS - the future of content management</a></li>
<li><a href="../439784/index.html">Methane engine "Raptor" broke the record RD-180</a></li>
<li><a href="../439788/index.html">Regular oddities in the GOST Grasshopper and Stribog algorithms</a></li>
<li><a href="../439790/index.html">Test JaCarta WebClient or store tokens in a safe</a></li>
<li><a href="../439792/index.html">NASA is looking for partners in the American industry to create a partially reusable manned lender</a></li>
<li><a href="../439794/index.html">Back pain - understanding from the perspective of modern medicine</a></li>
<li><a href="../439796/index.html">Spring Boot 2: what is not written in release notes</a></li>
<li><a href="../439800/index.html">RISEX and Julia. 5 stages of love customer and designer</a></li>
<li><a href="../439806/index.html">Valid SSL domain names for local Docker containers</a></li>
<li><a href="../439808/index.html">The biggest telescopes. From a notebook and eyes to 340 megapixel cameras and data centers. Part 1</a></li>
<li><a href="../439810/index.html">Get acquainted with the Moleculer microservice framework</a></li>
<li><a href="../439816/index.html">Practical blockchain in business</a></li>
<li><a href="../439818/index.html">Features of approaches to design in the real manufacturing sector</a></li>
<li><a href="../439820/index.html">We are trying to write a project alone. Introduction</a></li>
<li><a href="../439822/index.html">Creating an alternative display for the Ensoniq EPS16 + and ASR10 synthesizer / sampler</a></li>
<li><a href="../439824/index.html">When will the JavaScript frameworks disappear?</a></li>
<li><a href="../439826/index.html">Disable analog. What will happen to the TV?</a></li>
<li><a href="../439828/index.html">The network appeared "analog" Findface</a></li>
<li><a href="../439840/index.html">Conference DUMP-2019: we invite you to speak in the sections Design, Management and Testing</a></li>
<li><a href="../439852/index.html">Remote control application release: Aspia 1.1.0</a></li>
<li><a href="../439858/index.html">Prometheus + Grafana + Node Exporter + Docker in Azure with notifications in Telegram</a></li>
<li><a href="../439862/index.html">Digital events in Moscow from February 11 to 17</a></li>
<li><a href="../439866/index.html">Principles of design reference books in 1C Enterprise Management 2 (ERP 2.4.6)</a></li>
<li><a href="../439868/index.html">Life without Facebook: less radical views, good mood, more time for loved ones. Now proven by science</a></li>
<li><a href="../439878/index.html">Creation of architecture for a new high-load startup in 2019</a></li>
<li><a href="../439880/index.html">Security Week 07: Local IoT Device Vulnerabilities</a></li>
<li><a href="../439886/index.html">How I trained the neural network to implement the position estimation function on the Russian AI Cup CodeBall 2018</a></li>
<li><a href="../439894/index.html">How easy it is to monitor the site</a></li>
<li><a href="../439900/index.html">Julia and the method of coordinate descent</a></li>
<li><a href="../439902/index.html">Explaining the physical essence of the Wing Lift phenomenon without using the Bernouli equation. Part 2</a></li>
<li><a href="../439906/index.html">Critical vulnerability in Zemana products and not only</a></li>
<li><a href="../439908/index.html">Kohl, piss off ... Coax</a></li>
<li><a href="../439912/index.html">Unsolved mystery of view</a></li>
<li><a href="../439916/index.html">Unpacking: Dridex bootloader</a></li>
<li><a href="../439922/index.html">Taxation of IP in Kazakhstan how to be a freelancer?</a></li>
<li><a href="../439924/index.html">The volume of parcels from foreign online stores grew by 25%</a></li>
</ul></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
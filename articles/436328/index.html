<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PVS-Studio 7.00</title>
  <meta name="description" content="Today is an important day - after 28 releases of the sixth version, we release PVS-Studio 7.00, where the key innovation is support for the Java langu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6974184241884155",
      enable_page_level_ads: true
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>PVS-Studio 7.00</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ce8/a5e/a33/ce8a5ea33c2f88e0b183950eb9eb0b64.png" alt="PVS-Studio C # \ Java \ C ++" align="left">  Today is an important day - after 28 releases of the sixth version, we release PVS-Studio 7.00, where the key innovation is support for the Java language.  However, in 2018, there were many other important changes regarding C ++, C #, infrastructure and support for coding standards.  Therefore, we bring to your attention a note that summarizes the main changes that have occurred in PVS-Studio lately. <br><a name="habracut"></a><br>  <a href="https://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> is a tool for detecting errors and potential vulnerabilities in the source code of programs written in C, C ++, C # and Java.  Works on Windows, Linux and macOS. <br><br>  The analyzer's capabilities are well demonstrated by an extensive <a href="https://www.viva64.com/ru/examples/">collection of errors</a> in the code that we found in the process of <a href="https://www.viva64.com/ru/inspections/">checking</a> various open-source projects. <br><br>  We will start with the change, because of which, in fact, it was decided to change the version number from 6.x to 7.x.  This is support in the Java language analyzer, for which we have been <a href="https://www.viva64.com/ru/b/0572/">preparing for a</a> long time. <br><br><h2>  Java </h2><br>  The most important thing about Java analyzer is that it appeared :).  We invite Java developers to download the tool and check out the projects they are working on. <br><br>  We have made available to users the most popular ways to integrate the analyzer into the build system: <br><br><ul><li>  Plugin for maven. </li><li>  Plugin for gradle. </li><li>  Plugin for IntelliJ IDEA. </li></ul><br>  In the case of using samopisnyh assembly systems, it is possible to run the analyzer directly by listing the source code and the <i>classpath</i> . <br><br>  You can find detailed information on all methods of launching the analyzer on the " <a href="https://www.viva64.com/ru/m/0044/">How to run PVS-Studio Java</a> " documentation page. <br><br>  We could not ignore the SonarQube code quality control platform, which is so popular among Java developers, so we added Java language support to our <a href="https://www.viva64.com/ru/m/0037/">SonarQube plugin</a> . <br><br><h2>  C, C ++ </h2><br>  In 2018, our team actively worked on the development of a C ++ analyzer.  There are many new diagnostics, as well as improved <a href="https://www.viva64.com/ru/b/0592/">algorithms</a> that allow you to collect and process information extracted from the syntax tree. <br><br>  <b>CWE, CERT</b> <br><br>  The messages of the C ++ analyzer (as well as the C # analyzer) were classified according to the Common Weakness Enumeration ( <a href="https://cwe.mitre.org/">CWE</a> ).  CWE is a classification system for potential and proven vulnerabilities.  It is supported by the community in order to identify software problems and create automated tools that can be used to identify and fix these problems. <br><br>  Additionally, messages were classified according to CERT C Coding Standard and CERT C ++ Coding Standard.  <a href="https://wiki.sei.cmu.edu/">SEI CERT Coding Standards</a> is a set of standards for writing software (software) in C, C ++, Java and Perl, developed by the CERT Coordination Center (CERT Coordination Center, CERT / CC) to improve software reliability and security. <br><br>  The classification of C and C ++ diagnostics according to these warnings allows using PVS-Studio as an <a href="https://www.viva64.com/ru/sast/">SAST solution</a> . <br><br>  <b>Misra</b> <br><br>  In 2018, the PVS-Studio static code analyzer began to classify its warnings according to the MISRA C and MISRA C ++ standards.  Thanks to the support of these standards, it has become possible to effectively use the analyzer to improve the security, portability and reliability of programs for embedded systems. <br><br>  Details: " <a href="https://www.viva64.com/ru/b/0596/">PVS-Studio: support for MISRA C and MISRA C ++ coding standards</a> ." <br><br>  MISRA support has become relevant due to the development in the analyzer of support for various embedded systems, which will be discussed in the next section of the article. <br><br>  <b>Embedded Development</b> <br><br>  In 2018, the PVS-Studio analyzer supported: <br><br><ul><li>  Windows  IAR Embedded Workbench, C / C ++ Compiler for ARM C, C ++ </li><li>  Windows / Linux.  Keil ¬µVision, DS-MDK, ARM Compiler 5/6 C, C ++ </li><li>  Windows / Linux.  Texas Instruments Code Composer Studio, ARM Code Generation Tools C, C ++ </li><li>  Windows / Linux / macOS.  GNU Arm Embedded Toolchain, Arm Embedded GCC compiler, C, C ++ </li></ul><br>  Two notes on the topic of support for embedded systems: <br><br><ol><li>  <a href="https://www.viva64.com/ru/b/0561/">The PVS-Studio 6.22 static code analyzer is adapted for ARM compilers (Keil, IAR)</a> . </li><li>  <a href="https://www.viva64.com/ru/b/0588/">Support for GNU Arm Embedded Toolchain has been added to PVS-Studio</a> . </li></ol><br>  <b>Extend custom annotations</b> <br><br>  Sometimes projects use their own implementations of various system functions, for example, <i>memcpy</i> , <i>malloc</i> , etc.  The analyzer is very good at finding errors using standard functions, but in the user code it was impossible to use such algorithms until recently.  Now, using the <i>V_FUNC_ALIAS</i> annotation <i>,</i> you can <i>assign the</i> names of your functions to the corresponding system ones. <br><br>  Comment format: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//V_FUNC_ALIAS, implementation:sysf, function:f, namespace:ns, class:c</span></span></code> </pre> <br><ul><li>  Key <b>implementation</b> - sets the name of the standard function for which the alias is defined. </li><li>  Key <b>function</b> - sets the name of the alias.  The signature of the function whose name is specified in this key must match the signature of the function specified in the implementation key. </li><li>  The <b>class</b> key is the name of the class.  May be absent. </li><li>  The <b>namespace</b> key is the name of the namespace.  May be absent. </li></ul><br>  Consider an example: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//V_FUNC_ALIAS, implementation:memcpy, function:MyMemCpy</span></span></code> </pre> <br>  Now the analyzer will handle calls to the <i>MyMemCpy</i> function in the same way as calls to <i>memcpy</i> .  For example, on such a code will be issued a warning V512: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> buf[] = { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> out[<span class="hljs-number"><span class="hljs-number">2</span></span>]; MyMemCpy (out, buf, <span class="hljs-number"><span class="hljs-number">4</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// Warning!</span></span></code> </pre> <br><h2>  C # </h2><br>  This year there were no significant changes to the C # analyzer.  There were separate improvements in diagnostics and correction of defects.  The messages of the C # analyzer, as well as the C ++ analyzer, were classified according to the Common Weakness Enumeration ( <a href="https://cwe.mitre.org/">CWE</a> ).  Correspondence of C # diagnostics with CWE identifiers is given <a href="https://www.viva64.com/ru/cwe/">here</a> (see diagnostics with 3xxx numbers). <br><br>  We plan to return to a more active development of the C # analyzer in 2019.  It is planned to develop new diagnostics and improve the mechanism of data flow analysis (Data-Flow Analysis). <br><br><h2>  Report Converters </h2><br>  The PlogConverter.exe and plog-converter utilities are included in the PVS-Studio distributions for Windows and Linux / macOS, respectively.  Also the source code for these utilities is available on <a href="https://github.com/viva64">GitHub</a> . <br><br>  With the advent of PVS-Studio for Java, we reworked the code highlighting for C, C ++, C # and added Java in FullHtml format ( <a href="https://www.viva64.com/ru/b/0539/">for a web browser</a> ). <br><br>  Also for the report in this format was added column MISRA: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ea/d45/f6e/3ead45f6e7957b2d3abab68073ab2f0d.png" alt="PVS-Studio, MISRA"></div><br>  Like the CWE ID, the MISRA column is optional and is included by code security researchers when examining the analysis results. <br><br><h2>  SonarQube Plugins </h2><br>  <b>1. Full update</b> <br><br>  We rewrote our plugins using the new API.  This made it possible to add new functionality and ensure compatibility with SonarQube 7.x.  The minimum supported version is now <b>SonarQube 6.7 LTS</b> . <br><br>  <b>2. PVS-Studio for Java</b> <br><br>  The new version of plug-ins added diagnostic support for the Java language.  Now you can add PVS-Studio to other quality control tools of your Java project. <br><br>  <b>3. MISRA standard</b> <br><br>  We recently announced <a href="https://www.viva64.com/ru/b/0596/">support</a> for the MISRA C and MISRA C ++ standards.  New plug-ins also have their support.  For example, a parameter was added (in addition to CWE): <br><br><pre> <code class="cpp hljs">sonar.pvs-studio.misra=active</code> </pre> <br>  which includes adding the MISRA identifier to the analyzer alerts: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d64/319/e15/d64319e1544a7d8c24086c30b2f088d1.png" alt="Misra"></div><br><br>  Regardless of this setting, the search for <b>misra</b> and <b>pvs-studio # misra</b> tags will be available in the analysis results.  Information about the number of found warnings MISRA was added to the metrics, which will be discussed further. <br><br>  <b>4. New metrics</b> <br><br>  In the <i>Projects -&gt; Your Project -&gt; Measures</i> menu, various code metrics are available, among which there is now various information from PVS-Studio: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fd/a54/fb7/0fda54fb7ebc096bd0fe1dd16d52414a.png" alt="SonarQube"></div><br><br>  For each of the metrics, you can build graphs and monitor the dynamics of the appearance of certain warning groups of the analyzer. <br><br>  <b>4. Multiline transitions</b> <br><br>  Some analyzer diagnostics issue warnings on several lines of a file.  Sometimes they are very far from each other.  In the new version we added multiline transitions: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee7/d04/8cf/ee7d048cf0c0754532143258017f4d9a.png" alt="SonarQube"></div><br><br>  SonarQube also supports transitions between different files.  Later we will add such transitions for diagnostics, in which there is an intermodular analysis. <br><br>  <b>6. Documentation</b> <br><br>  <a href="https://www.viva64.com/ru/m/0037/">The documentation</a> has undergone great changes.  PVS-Studio is a cross-platform and multilanguage product, so all the reworking was aimed at writing more general and understandable instructions for working on a particular system. <br><br><h2>  SAST </h2><br>  Until recently, in our articles we positioned PVS-Studio as a tool for detecting errors in the code.  At the same time, we almost did not consider PVS-Studio in the security context.  This year we corrected this situation and took a look at the tool in terms of testing application security and DevSecOps practices. <br><br>  PVS-Studio is a tool for static testing of application security (Static Application Security Testing, SAST).  In other words, the PVS-Studio analyzer reveals not only typos, dead code and other errors, but also potential vulnerabilities. <br><br>  For the convenience of specialists who will use PVS-Studio as a SAST tool, the analyzer displays its warnings on the <a href="https://cwe.mitre.org/">Common Weakness Enumeration</a> , <a href="https://wiki.sei.cmu.edu/confluence/display/seccode/SEI%2BCERT%2BCoding%2BStandards">SEI CERT Coding Standards</a> .  PVS-Studio diagnostics correspondence tables for various standards: <br><br><ol><li>  <a href="https://www.viva64.com/ru/cwe/">CWE Compliance</a> </li><li>  <a href="https://www.viva64.com/ru/cert/">SEI CERT Compliance</a> </li></ol><br>  This topic is described in more detail in the article " <a href="https://www.viva64.com/ru/b/0577/">PVS-Studio as SAST Solution</a> ". <br><br>  We also offer to get acquainted with the publications: <br><br><ol><li>  <a href="https://www.viva64.com/ru/b/0514/">How can PVS-Studio help in finding vulnerabilities?</a> </li><li>  <a href="https://www.viva64.com/ru/b/0599/">We shoot in the foot, processing the input data</a> . </li><li>  <a href="https://www.viva64.com/ru/b/0510/">We provide the PVS-Studio analyzer to security experts</a> . </li></ol><br><h2>  PVS-Studio Free </h2><br>  On the eve of the celebration of the new 2019, the PVS-Studio team decided to make a nice gift to all contributors of open-source projects hosted on GitHub or Bitbucket.  They are given the opportunity to use the free PVS-Studio static analyzer for the development of open source projects. <br><br>  Details: " <a href="https://www.viva64.com/ru/b/0600/">Free PVS-Studio for those who develop open source projects</a> ." <br><br><h2>  macOS </h2><br>  In 2018, PVS-Studio learned how to work under macOS.  For this event, our team timed the XNU Kernel test: " <a href="https://www.viva64.com/ru/b/0566/">Release of PVS-Studio for macOS: 64 weaknesses in the Apple XNU Kernel</a> ." <br><br>  XNU is the core of computer operating systems developed by Apple and used in OS OS OS (macOS, iOS, tvOS, watchOS). <br><br><p> <a href="https://www.viva64.com/en/b/0602/"><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br>  If you want to share this article with an English-speaking audience, then please use the link to the translation: Andrey Karpov, Svyatoslav Razmyslov.  <a href="https://habr.com/ru/company/pvs-studio/blog/436332/">PVS-Studio 7.00</a> . </div><p>Source: <a href="https://habr.com/ru/post/436328/">https://habr.com/ru/post/436328/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
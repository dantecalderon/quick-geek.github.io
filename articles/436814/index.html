<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TDD Development Cost Estimate</title>
  <meta name="description" content="A modest discussion based on my yesterday's publication on the topic of forecasting development time, once again awakened in me a feeling of some kind...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6974184241884155",
      enable_page_level_ads: true
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>TDD Development Cost Estimate</h1><div class="post__text post__text-html js-mediator-article"><p>  A modest discussion based on my yesterday's <a href="https://habr.com/ru/post/436736/">publication</a> on the topic of forecasting development time, once again awakened in me a feeling of some kind of incorrectness on the topic of using a purely speculative approach to breaking up history into tasks.  In my opinion, when we write tasks in the list, even when we use object or functional terminology, we do not quite imagine all the modules with code that we need to develop or refine. </p><br><p>  Then an idea occurred to me, after dividing user history into tasks, try to draft drafts of unit tests for classes or methods that I mention in tasks.  I don't even need to invent a user story, I can take one of my current work.  For example: <a name="habracut"></a></p><br><p>  <em>As a system, I want to send my personal data to the KYC service for verification.</em> </p><br><p>  And the task list for it: </p><br><ol><li><del>  Implement getting personal user data from the local database </del></li><li>  Implement the creation of a folder in the KYC service with the user's personal data in the metadata folder </li><li>  Implement the creation of a request to check the folder data in the KYC service </li><li>  Implement the storage of information about the request for verification of personal data in a local database </li></ol><br><p>  If the duration of one iteration of a team is two weeks, then one or two days may well be spent on its planning, but not in the form of a meeting with speculative reasoning. <del>  and poker </del>  , but mainly in the form of ordinary programming activities in the form of writing tests in a certain minimum form.  With the subsequent assessment of the time for the implementation of the functionality is already in full scale. </p><br><p>  In the first approximation, it looks like a profit from all sides.  We write code and do not waste time on collective reasoning.  And we build estimates on the basis of at least the minimum amount of code, feeling the customer‚Äôs requirements, as it were. </p><br><p>  Since for the first task of the above list I have already tested a working implementation, I proceed to the second task and begin to make a test draft for the method that uploads data to the KYC service: </p><br><pre><code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'upload personal info'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HttpFake = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'HttpFake'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HttpFake(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../../src/store'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handler = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../../src/kyc/createFolder'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rules = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../../src/importRules'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> httpOptions = { <span class="hljs-attr"><span class="hljs-attr">hostname</span></span>: <span class="hljs-string"><span class="hljs-string">'http://kycservice'</span></span>, <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/api/folder'</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: { <span class="hljs-attr"><span class="hljs-attr">meta_data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">'Sparrow'</span></span>, <span class="hljs-attr"><span class="hljs-attr">birthDate</span></span>: <span class="hljs-string"><span class="hljs-string">'06/01/1740'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: { <span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> httpResponse = { <span class="hljs-attr"><span class="hljs-attr">statusCode</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: { <span class="hljs-attr"><span class="hljs-attr">folder_id</span></span>: <span class="hljs-string"><span class="hljs-string">'0x382974'</span></span>, <span class="hljs-attr"><span class="hljs-attr">meta_data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">'Sparrow'</span></span>, <span class="hljs-attr"><span class="hljs-attr">birthDate</span></span>: <span class="hljs-string"><span class="hljs-string">'06/01/1740'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: { <span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> context = <span class="hljs-literal"><span class="hljs-literal">null</span></span>, handle = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; beforeEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { context = { http, store, rules }; handle = handler.bind(context, [<span class="hljs-string"><span class="hljs-string">'folder'</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">'Sparrow'</span></span>, <span class="hljs-attr"><span class="hljs-attr">birthDate</span></span>: <span class="hljs-string"><span class="hljs-string">'06/01/1740'</span></span> }; store.dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'PERSON'</span></span>, person }); }); it(<span class="hljs-string"><span class="hljs-string">'should assign store folder state value'</span></span>, () =&gt; { http.expect(httpOptions); http.returns(httpResponse); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> assert = checkExportResult.bind(context, [done]); store.subscribe(assert); handle(); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkExportResult</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">args</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> folder = store.getState().folder; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(folder === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; expect(folder.folder_id).toEqual(<span class="hljs-string"><span class="hljs-string">'0x382974'</span></span>); expect(folder.meta_data.firstName).toEqual(<span class="hljs-string"><span class="hljs-string">'Jack'</span></span>); expect(folder.meta_data.lastName).toEqual(<span class="hljs-string"><span class="hljs-string">'Sparrow'</span></span>); expect(folder.meta_data.birthDate).toEqual(<span class="hljs-string"><span class="hljs-string">'06/01/1740'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> checkIsCompleted = args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; checkIsCompleted(); } });</code> </pre> <br><p>  The modular test of the second task decomposed as much as 100 lines of code, and it took me about an hour to implement it.  At the same time, the first five lines for a while immersed me in thinking on the topic "how would I implement an imitation of sending http requests?" Until I remembered that I already had some kind of <code>–ø—Å–µ–≤–¥–æ-http</code> implementation that simulates just sending the <code>POST</code> requests I <code>POST</code> .  Good.  Here I have a test.  Has it become clearer to me how long it may take to implement the necessary functionality? </p><br><p>  In fact, yes.  This task in my opinion is very similar to the task of requesting data from the database, and I have already decided that one working day would be enough for me to implement in the same approach sending a <code>POST</code> request with saving the results to the state container.  And since I already have successful experience with a separate implementation of data processing rules within the framework of the request, I decided that I would implement a new set of rules that I would use when sending <code>POST</code> requests. </p><br><p>  The next two tasks from the list seem to me very similar, so I don‚Äôt see much point in writing tests for them right now, because the brain has already taken it as an assessment: </p><br><ol><li><del>  Implement getting personal user data from the local database </del></li><li>  Implement the creation of a folder in the KYC service with indication of the user's personal data in the metadata folder - <strong>8 hours</strong> </li><li>  Implement the creation of a request to check the folder data in the KYC service - <strong>8h</strong> </li><li>  Implement saving information about a request for checking personal data in a local database - <strong>8h</strong> </li></ol><br><p>  Well, since the following user stories are in my list from the same opera, just in <code>POST</code> requests there will be not <code>JSON</code> , but binary data, I automatically accept that I can implement three user stories for a two-week iteration. </p></div><p>Source: <a href="https://habr.com/ru/post/436814/">https://habr.com/ru/post/436814/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
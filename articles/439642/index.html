<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Java pitfalls. Part 1</title>
  <meta name="description" content="Hello. I want to bring to your attention a short article. The article is intended for beginners. But even if you are an experienced developer, do not ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Java pitfalls. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Hello.  I want to bring to your attention a short article.  The article is intended for beginners.  But even if you are an experienced developer, do not make hasty conclusions. <br>  I hope this publication will be useful not only for beginners. <br><br>  <i>The purpose of this publication:</i> <br>  Show the most common mistakes of beginners and some techniques for correcting them.  It is clear that some errors can be complex and occur for one reason or another.  The purpose of the publication is to analyze them to some extent and help identify them at an early stage.  I hope this publication will be useful for beginners. <br><br><h3>  Java Pitfalls </h3><br>  All programming languages ‚Äã‚Äãhave their advantages and disadvantages.  This is due to many reasons.  Java is no exception.  I tried to collect some obvious and not obvious difficulties faced by an aspiring Java programmer.  I am sure that experienced programmers will also find something useful in my article.  Practice, attentiveness and the experience of programming, will help save you from many mistakes.  But some errors and difficulties should be considered in advance.  I will give a few examples with code and explanations.  Many explanations you will become clear from the comments to the code.  Practice gives a lot, as some rules are not so obvious.  Some are on the surface, some are hidden in the libraries of the language or in the java virtual machine.  Remember that java is not only a programming language with a set of libraries, it is also a java virtual machine. <br><br>  For the article, I specifically wrote a working code with detailed comments.  For writing the article was used java 8. For testing, the java code is placed in separate packages. <br><br>  Example: ‚Äúpackage underwaterRocks.simple;‚Äù <br><br>  What difficulties do beginners face? <br><br><h3>  Typos </h3><br>  It so happens that novice programmers make typos that are difficult to detect at a glance. <br><br>  <i>Code example:</i> <br><br>  File: "Simple.java" <br><a name="habracut"></a><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä ; –ø–æ—Å–ª–µ —É—Å–ª–æ–≤–∏—è –∏ –±–ª–æ–∫ */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.simple; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ival = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ival&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>); { System.out.println(<span class="hljs-string"><span class="hljs-string">"–≠—Ç–æ—Ç –±–ª–æ–∫ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å–ª–æ–≤–∏—è"</span></span>); } } }</code> </pre> <br>  <i>Explanation</i> : ‚ÄúSemicolon means end of operator.  In this case;  - this is the end of the empty statement.  This is a logical error.  Such an error can be difficult to detect. <br><br>  The compiler will consider that everything is correct.  Condition if (ival&gt; 0);  in this case does not make sense.  Because it means: if ival is greater than zero, do nothing and continue. ‚Äù <br><br><h3>  Assignment in condition instead of comparison </h3><br>  In a condition assignment to a variable. <br><br>  This is not a mistake, but the use of such a technique should be justified. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> myBool = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(myBool = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) System.out.println(myBool);</code> </pre> <br>  In this code, if (myBool = true) means: ‚ÄúAssign the variable myBool to true, <br>  if the expression is true, fulfill the condition following the brackets. " <br><br>  In this code, the condition will always be true.  And System.out.println (myBool);  will always be met, regardless of the condition. <br><br>  == is a comparison for equality. <br>  = Is an assignment, you can speak a = 10;  as: "and assign the value 10". <br><br>  The condition in parentheses returns a boolean value. <br>  No matter what order you write it down.  You can compare like this: (0 == a) or (5 == a) <br>  If you forget one equal sign, for example (0 = a) or (5 = a), the compiler will tell you about the error.  You assign a value, not a comparison. <br>  You can also write some space in a readable form. <br>  For example: you need to write: a is greater than 5 and less than 10. <br>  You write like this: (a&gt; 4 &amp;&amp; a &lt;10), but you might as well write: (4 &lt;a &amp;&amp; a &lt;10), <br>  now you see that a lies between 4 and 10, excluding these values.  This is more obvious.  It is immediately evident that a lies in the interval between 4 and 10, excluding these values. <br><br>  Code example (interval] 3.9 [): <br>  if (3 &lt;a &amp;&amp; a &lt;9); <br><br><h3>  Logical error </h3><br>  if (condition) {} if (condition) {} else {} - else refers to the nearest if. <br>  Often this is the cause of beginners' mistakes. <br><br><h3>  Wrong string comparison </h3><h3>  Beginners quite often use == instead of .equals to compare strings. <br><br></h3><h3>  Variable initialization </h3><br>  Consider initializing variables of primitive type. <br><br>  Primitives (byte, short, int, long, char, float, double, boolean). <br><br>  Initial values <br><br><pre> <code class="plaintext hljs">byte 0 short 0 int 0 long 0L float 0.0f double 0.0d char '\u0000' String (or any object) null boolean false (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç jvm)</code> </pre> <br>  <i>Note:</i> <br><br>  Local variables are slightly different; <br>  The compiler never assigns a default value to an uninitialized local variable. <br><br>  If you cannot initialize your local variable where it is declared, <br>  don't forget to assign a value to it before trying to use it. <br><br>  Access to an uninitialized local variable will result in a compile-time error. <br><br>  <i>Confirmation of this note in the code:</i> <br><br>  File: "MyInitLocal.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∞ –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> classes_f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> classes_gi; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; MyInitLocal myInit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyInitLocal(); <span class="hljs-comment"><span class="hljs-comment">/* –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.*/</span></span> System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_f = "</span></span> + myInit.classes_f); System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_gi = "</span></span> + myInit.classes_gi); <span class="hljs-comment"><span class="hljs-comment">// System.out.println("f = " + f); // –æ—à–∏–±–∫–∞. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ // System.out.println("f = " + i); // –æ—à–∏–±–∫–∞. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ } }</span></span></code> </pre> <br>  Value ranges: <br><br> <code>byte (—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, 1 –±–∞–π—Ç, [-128, 127]) <br> short (—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, 2 –±–∞–π—Ç–∞, [-32768, 32767]) <br> int (—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, 4 –±–∞–π—Ç–∞, [-2147483648, 2147483647]) <br> long (—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, 8 –±–∞–π—Ç, [-922372036854775808,922372036854775807]) <br> float (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞, 4 –±–∞–π—Ç–∞) <br> double (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞, 8 –±–∞–π—Ç) <br> char (—Å–∏–º–≤–æ–ª Unicode, 2 –±–∞–π—Ç–∞, 16 –±–∏—Ç, [0, 65535]) <br> boolean (–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ç–∏–Ω–∞/–ª–æ–∂—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è int, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç JVM)</code> <br> <blockquote>  char: The char data type is a single 16-bit Unicode character.  It has a minimum value of '\ u0000' (or 0) and a maximum value of '\ uffff' (or 65,535 inclusive). </blockquote><br><br>  Oracle Documentation <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html">&gt;&gt;</a> <br><br>  Let's try to initialize a long type variable with the number: 922372036854775807. <br>  Nothing will come of it.  Because it is an integer literal of type int. <br>  Proper initialization with a long literal: 922372036854775807L; <br><br>  <i>Code example:</i> <br><br>  File: "MyInitLocalLong.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è long –ª–æ–∫–∞–ª—å–Ω–æ */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocalLong</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// long al = 922372036854775807; //–æ—à–∏–±–∫–∞ integer number too large long bl = 922372036854775807L; // —Ç–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ } }</span></span></code> </pre><br>  What to look for when initializing a variable. <br><br>  On the range of values ‚Äã‚Äãof a variable of this type.  That the variable is initialized with a literal of a certain type.  On explicit and implicit type conversion.  On compatibility types. <br><br>  When using Integer type shells, you should pay attention to auto packing and auto unpacking of these types. <br><h3>  Incorrect use double </h3><br>  Here you need to clarify.  This is not about using double type incorrectly. <br>  We use correctly.  Only the result can surprise a novice programmer. <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.tstDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> vvm */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MinusDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> a = <span class="hljs-number"><span class="hljs-number">4.64</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> b = <span class="hljs-number"><span class="hljs-number">2.64</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"ab = "</span></span>+(ab)); } } <span class="hljs-comment"><span class="hljs-comment">/* –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã run: ab = 1.9999999999999996 */</span></span></code> </pre><br><br>  <i>A note about the type of double.</i>  Floating point allows you to count with a given relative error and a huge range.  In scientific calculations often need relative error. <br><br><h3>  Incorrect double comparison </h3><br>  Consider the type double. <br><br>  <i>Code example:</i> <br><br>  File: MyDouble.java <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ double –û—Å—Ç–æ—Ä–æ–∂–Ω–æ - double. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dx = <span class="hljs-number"><span class="hljs-number">1.4</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"dx = "</span></span> + dx); <span class="hljs-comment"><span class="hljs-comment">// dx = 0.9999999999999997 System.out.print("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ (dx == 1.0):"); System.out.println(dx == 1.0); // false, –ø–æ—Ç–æ–º—É —á—Ç–æ 1.0 –Ω–µ —Ä–∞–≤–Ω–æ 0.9999999999999997 /*–∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å double*/ final double EPSILON = 1E-14; double xx = 1.4 - 0.1 - 0.1 - 0.1 - 0.1; double xy = 1.0; /* —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º xx c xy */ if (Math.abs(xx - xy) &lt; EPSILON) System.out.println(xx + " —ç—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–æ " + xy + " EPSILON = " + EPSILON); } }</span></span></code> </pre><br>  The double type is convenient where high precision is not needed.  For financial transactions, this type is not suitable.  Although some are not very honest companies, I use the double type to round off in the direction they want.  For financial transactions, the BigDecimal class is used in financial calculations, since real primitive types are not suitable for this purpose for reasons of loss of accuracy and errors in rounding results.  However, more accurate results are obtained using the BigInteger class. <br><br><h3>  Class constructor </h3><br>  The class constructor matches the class name and returns nothing, not even void. <br><br>  <i>Code example:</i> <br><br>  File: MyConstructor.java <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –¥–∞–∂–µ void –¢–æ —á—Ç–æ —Å void - –æ–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myConstructor; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"–Ø –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"–Ø –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä c void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyConstructor myconst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyConstructor(); myconst.MyConstructor(); <span class="hljs-comment"><span class="hljs-comment">// –≤—ã–∑–æ–≤ –æ–±—ã—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ } }</span></span></code> </pre><br>  As we see in the code, two methods with the same name: MyConstructor () and MyConstructor ().  One of the methods returns nothing.  This is the constructor of our class.  Another method with void is the usual class method.  In the case when you have not created a constructor or created, in your opinion, a class constructor with void, then the compiler will create a default constructor and you will be surprised why your constructor does not work. <br><br><h3>  Division by zero </h3><br>  What do you think will be the result of such a code. <br><br>  File: "DivisionByZero.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*—É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> divisionByZero; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> java.lang.Double.POSITIVE_INFINITY; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DivisionByZero</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f = <span class="hljs-number"><span class="hljs-number">12.2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> d = <span class="hljs-number"><span class="hljs-number">8098098.8790</span></span>d; System.out.println(f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(d/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == d/<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NumberFormatException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"NumberFormatException"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"ArithmeticException"</span></span>); } } }</code> </pre><br>  Running the code will output: <br><br><pre> <code class="plaintext hljs">Infinity Infinity true true</code> </pre> <br>  Dividing the integer type by zero will give an ArithmeticException. <br><br>  In the java.lang.Double class, the constant <code>POSITIVE_INFINITY;</code> <br><br><pre> <code class="1c hljs">public static final float POSITIVE_INFINITY = <span class="hljs-number"><span class="hljs-number">1.0</span></span>d / <span class="hljs-number"><span class="hljs-number">0.0</span></span>d;</code> </pre> <br>  It is converted to a string equal to Infinity. <br><br><h3>  Initialization order </h3><br>  File: "InitClass.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* —É—á–µ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> myInitClass; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InitClass</span></span></span><span class="hljs-class"> </span></span>{ InitClass(){ <span class="hljs-comment"><span class="hljs-comment">// –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ System.out.print("–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"); } { // –±–ª–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ System.out.print("3 "); } public static void main(String[] args) { System.out.print("2"); new InitClass(); } static { // —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ System.out.print("1"); } }</span></span></code> </pre><br>  First, all static blocks are executed, then initialization blocks, then the class constructor. <br><br>  It will appear: "123 Constructor" <br><br>  <b>Local variable hides class variable</b> <br>  Although modern IDEs easily detect such an error, I would like to consider such an error in more detail.  Let's start with the classic assignment of a variable in the constructor.  The example is correct.  There is no mistake. <br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> val = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.val = val; } }</code> </pre><br>  However, what happens if you use such a technique in a method, and not in a class constructor?  In the usual method to use this technique is not recommended.  The question relates to the correct design of the class. <br><br>  <i>Simple explanation:</i> In a method, a variable with the same name as a class variable is local to the method.  You can access the class variable using this.val.  However, such a call from the method, if the class is incorrectly designed, will only cause side effects and may worsen the readability of the code. <br><br>  <b>Type casting in arithmetic expressions is performed automatically.</b> <br><br>  This can cause annoying mistakes. <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// byte a = 1; // byte b = 1; // byte —Å = a + b; // –æ—à–∏–±–∫–∞ // byte a = (byte) 1; // byte b = (byte) 1; // byte —Å = a + b; // –æ—à–∏–±–∫–∞</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// –æ–¥–Ω–æ –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π - —è–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö. byte a = 1; byte b = 1; byte c = (byte) (a + b);</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// –æ–¥–Ω–æ –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ final // final byte a = 1; // final byte b = 1; // byte c = a + b; // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –Ω–µ –±—É–¥–µ—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É a –∏ b final</span></span></code> </pre><br><br>  One possible solution when working with a string: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> bHundr = Byte.parseByte(<span class="hljs-string"><span class="hljs-string">"100"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// —è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∫ —Ç–∏–ø—É byte</span></span></code> </pre> <br><br>  Another error is given in the following code. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">128</span></span>; i++) { System.out.println(i); }</code> </pre><br>  In this case, we get an infinite loop. <br><br>  <b>findings</b> <br>  Many errors are not obvious at first glance.  Even experienced programmers make them, but in smaller quantities.  Mindfulness, hands-on experience, using the debugger and reading the documentation will allow you to avoid many mistakes. <br><br>  I hope you liked the article and it was useful.  I will be glad to your comments, comments, suggestions, suggestions.  To be continued.  Rather, the addition should be. <br><br>  <i><sup><b>License</b></sup></i> <i><sup><br></sup></i>  <i><sup>"I authorize reading this article, authorizing the use of this article, allowing to improve this article."</sup></i>  <i><sup>The article is distributed under the terms of the GNU FDL.</sup></i> <br><br>  <b>Links</b> <br>  <a href="https://www.oracle.com/technetwork/java/codeconvtoc-136057.html">Recommendations for code design by Java from Oracle &gt;&gt;&gt;</a> </div><p>Source: <a href="https://habr.com/ru/post/439642/">https://habr.com/ru/post/439642/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>
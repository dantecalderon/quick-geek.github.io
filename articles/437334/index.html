<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What will happen on February 1st?</title>
  <meta name="description" content="Not that, of course, this was the first discussion of the issue on Habr√© . However, until now, the consequences were mainly discussed, while, in our o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6974184241884155",
      enable_page_level_ads: true
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>What will happen on February 1st?</h1><div class="post__text post__text-html js-mediator-article">  Not that, of course, this was the <a href="https://habr.com/ru/company/cisco/blog/436662/">first discussion of the issue on Habr√©</a> .  However, until now, the consequences were mainly discussed, while, in our opinion, the root causes are much more interesting. <br><br><img src="https://habrastorage.org/webt/kf/j2/kv/kfj2kv8jjl-s-juuwt3gjixe6ra.jpeg" height="300" width="300" align="left">  So, on February 1 is scheduled <a href="https://dnsflagday.net/">DNS Flag Day</a> .  The effects of this event will occur gradually, but still faster than some companies will be able to adapt to it. <br><br>  What it is?  In simple terms, this is a <a href="https://ripe76.ripe.net/presentations/159-edns.pdf">manifesto of the</a> world's leading developers of DNS servers: CZ.NIC, ISC, NLnet Labs, and PowerDNS. <br><br>  DNS software manufacturers have long been faced with a problem: the development of the domain name system, the addition of new functions required by clients, the solution of security issues ‚Äî all these processes are dramatically slowed down due to the cooperative structure of the DNS system and the need to maintain archaic servers that implement outdated versions of protocols (and even this is often done with errors). <br><a name="habracut"></a><br><h2>  Exception </h2><br>  According <a href="https://powerdns.org/dns-camel/">to the DNS protocol standards catalog</a> , the current specification contains, as of January 21, 2018, 3248 pages.  These include all relevant RFCs in the <i>‚Äúinternet standard‚Äù</i> , <i>‚Äúproposed standard‚Äù</i> (which is essentially the same today), <i>‚Äúbest current practice‚Äù</i> and <i>‚Äúinformational‚Äù</i> statuses.  For comparison: the HTTP protocol, which provides content delivery for all websites on the Internet, is summarized on 672 pages. <br><br>  As the saying goes, if your project's TK is not like something, do not even try to invite me. <br><br><img src="https://habrastorage.org/webt/pv/f_/m0/pvf_m0doqgkaki0b3wfleihmim4.jpeg" width="307" height="235" align="right">  The need to implement the processing of all functions and exceptional situations described on 3,000 pages is hard work in and of itself, and in addition a whole number of DNS servers implement this or that functionality incorrectly, which leads to the need to additionally process non-standard behavior.  In some of the aforementioned RFCs, despair overwhelming people working with the protocol splashes out <a href="https://tools.ietf.org/html/rfc8020">even the name</a> . <br><br>  According to the key DNS developers, the situation with the complexity of the program code is already serious enough to take drastic measures.  On February 1, as part of a coordinated action, updated versions of all major DNS servers will be released, in which support for certain incorrect behavior will be discontinued from now on and forever. <br><br><h2>  And more? </h2><br><img src="https://habrastorage.org/webt/kn/wm/7h/knwm7hyq5trge83vfozfx7dl_ia.jpeg" width="320" height="212" align="right">  In order to clarify what exactly will cease to be supported, I will give an analogy.  Imagine that, until 1999, people were not allowed on a plane with luggage, and in 1999, an official decision of the supervisory authority allowed passengers to take on board a bag (of a certain weight and size).  Comfortable enough, right?  You can carry a lot of useful things. <br><br>  Just imagine now that in 2019 there are still airplanes that you can‚Äôt carry bags with, and until boarding you have no way of knowing if you can take your baggage with you. <br><br>  Approximately the situation with the <a href="https://en.wikipedia.org/wiki/Extension_mechanisms_for_DNS">expansion of EDNS</a> , the lack of support which from February 1 will lead to the inaccessibility of a number of websites.  Roughly speaking, airplanes that do not know how to take luggage on board (at least minimal), in February, due to the 20th anniversary of the <a href="https://tools.ietf.org/html/rfc2671">first EDNS standard, will</a> no longer be allowed into a number of airports. <br><br>  The announcement was made quite well in advance: in March-May 2018, the main organizers of the DNS Flag Day informed the public at a <a href="https://dnsflagday.net/">number of popular industry conferences</a> .  In addition, the release of updated versions of DNS servers by itself will not lead to problems instantly, since the operators have yet to switch to these versions, and this takes time.  But, more significantly, a number of cloud-based DNS service providers also joined DNS Flag Day.  Among them are such giants as Google (and their famous DNS server with an IP address of 8.8.8.8), Cloudflare, Facebook and Cisco. <br><br><img src="https://habrastorage.org/webt/d4/ae/wo/d4aewouuknwll9zpxqqahe8cmm8.png" width="305" height="171" align="left">  As a result, sites that use DNS servers without EDNS support (that is, ‚Äúairplanes‚Äù that do not know how to ‚Äútake luggage on board‚Äù) will stop working since February 1 for everyone who uses open DNS servers 8.8.8.8, 9.9.9.9, 1.1.1.1 and several others.  As DNS servers update with the providers, the list will grow. <br><br>  The peculiarity of the functioning of the DNS server in the corporate infrastructure is that it usually does not ask for it, it works for itself and it works, therefore, often no one ever updates it.  System administrators of the old school even <a href="https://www.computerworld.com/article/3162416/data-center/booted-up-in-1993-this-server-still-runs-but-not-for-much-longer.html">love to be proud of the</a> many years of uptime of such machines.  The problem is that when there is a need to upgrade, it turns out that for this you need, for example, also to move from FreeBSD 5 to FreeBSD 10 (real case), for which, among other troubles, you will need to restart, and from the restart the old server may simply not quit. <br><br>  The most annoying thing is that the solution of the problem in general does not boil down to a simple update of DNS servers.  Some organizations use firewalls (both software and hardware-software), which forcibly discard all DNS packets with the EDNS function.  Among other things, this was done by the old Juniper SRX models, but the matter is not limited to them.  In principle, if we talk about firewalls and DPI-solutions as a whole, then a rather low level of development quality of a number of such solutions has long been known.  All these years, the developers of the DNS protocol suffered from the problems they objectively caused, and now they have decided to strike back. <br><br>  However, updating such solutions may take considerable time, and in some cases, it may be necessary to throw the once-expensive equipment into the trash and purchase new ones, which will cause many difficulties, for example, within the Russian budget cycle (especially if the equipment was discarded abroad, and there is no more opportunity to buy foreign from the organization for one reason or another - financial, political, ideological -). <br><br>  So for those who have this problem, it's time to start to solve it.  Note that the immediate solution requires only those problems that the <a href="http://ednscomp.isc.org/ednscomp">corresponding verification tool</a> displays with red signs "STOP" or "SLOW".  The exclamation point in the yellow triangle is still only a warning and will not cause problems on February 1 (although in the long run this problem should be corrected). <br><br><h2>  And then what? </h2><br><img src="https://habrastorage.org/webt/pb/0n/ov/pb0novtmntjs_embnjwbxtwr4ca.jpeg" width="320" height="211" align="right">  First, DNS Flag Day shouldn't provoke any significant cataclysms. <br><br>  In various discussions, you can hear the criticism of the <a href="https://habr.com/ru/company/cisco/blog/436662/">original post by</a> Alexei Lukatsky on Habr√©: they say, the author took an excessively alarmistic tone.  Nevertheless, it is impossible not to notice that just Alexey is the person who is very well aware of how it is sometimes arranged and what equipment is tied to the network infrastructure of large Russian organizations and government agencies.  According to the study, the results of which appear to <a href="https://ria.ru/20190123/1549803562.html">be at the disposal of the</a> Coordination Center for the .RU and .–†–§ domains, the problem that was registered at a number of well-known sites before the Lukatsky post today already manifests itself in trace amounts, that is, a Cisco blog entry (and Subsequent notes, for example, on the <a href="https://roskomsvoboda.org/44407/">Roskomvoboda</a> blog, have the desired effect. <br><br>  However, the success of DNS Flag Day will obviously lead to consequences, the most important of which is that such actions will be held in the future.  There are still a <a href="https://habr.com/ru/company/qrator/blog/416633/">lot of places</a> in the DNS system that developers would like to embroider as quickly as possible;  In addition, DNS is not the only such protocol in which there is something to disassemble.  The example with the BGP attribute 0xFF, which we will discuss in the next article, clearly shows: sometimes vaccination is useful for the Internet. <br><br>  What, today, leaves system administrators in front of a fairly straightforward dilemma: <br><br><ol><li>  Either the DNS server administrator should monitor the life of the Internet community, in particular, the news of the professional community of DNS developers, and, in particular, should generally pay attention and time to server updates; </li><li>  Either the management of its own domain zone should be transferred to an outside provider specializing in such work (of which there are, in principle, mass). </li></ol><br>  However, we will probably return to this topic too. </div><p>Source: <a href="https://habr.com/ru/post/437334/">https://habr.com/ru/post/437334/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container">Waiting for the list from <a href="../../index.html">here</a>...</nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52319614 = new Ya.Metrika({
                  id:52319614,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52319614" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>